		../../odin_bundle/networks/Gen3/tasks/PING-TP_PCS.py
			This routine will test if the Power Conversion System (PCS) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
			This routine will test if the Power Conversion System (PCS) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
			This routine will test if the Power Conversion System (PCS) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
		../../odin_bundle/networks/Gen3/tasks/PROC_EPBR-EPBL_WARNING-CAR-WILL-ROLL-AWAY.py
			I UNDERSTAND
			I UNDERSTAND
			I UNDERSTAND
		../../odin_bundle/networks/Gen3/tasks/PING-TP_HVP.py
			This routine will test if the High Voltage Processor (HVP) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
			This routine will test if the High Voltage Processor (HVP) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
			This routine will test if the High Voltage Processor (HVP) is communicating over CAN. Note that if the High Voltage Battery Management System (HVBMS) is MIA, this routine may falsely fail since the HVBMS forwards all HVS components status' to the Gateway.\n
		../../odin_bundle/networks/Gen3/tasks/PROC_ICE_X_INSTALL-LOCAL-NAV-MAP.py
			Installs a local navigation map that corresponds to car's navigation region and country code.
			Installs a local navigation map that corresponds to car's navigation region and country code.
			Installs a local navigation map that corresponds to car's navigation region and country code.
		../../odin_bundle/networks/Gen3/tasks/PROC_HVBMS_X_RESET-ISOLATION-COUNTERS.py
			This routine clears the HVBMS isolation counters which in effect clears BMS_a027_SW_Repeated_Isolation_Failure_In_Drive and BMS_a172_SW_Isolation_Failure_In_Drive_Warning alerts.\n\nThis routine shall ONLY be executed after repairing any isolation issue on the vehicle's HV system or on rare occasion when instructed to do so by engineering. The HVBMS isolation counters latch the alerts BMS_a027 and BMS_a172 when reaching a certain count threshold.\n
			This routine clears the HVBMS isolation counters which in effect clears BMS_a027_SW_Repeated_Isolation_Failure_In_Drive and BMS_a172_SW_Isolation_Failure_In_Drive_Warning alerts.\n\nThis routine shall ONLY be executed after repairing any isolation issue on the vehicle's HV system or on rare occasion when instructed to do so by engineering. The HVBMS isolation counters latch the alerts BMS_a027 and BMS_a172 when reaching a certain count threshold.\n
			This routine clears the HVBMS isolation counters which in effect clears BMS_a027_SW_Repeated_Isolation_Failure_In_Drive and BMS_a172_SW_Isolation_Failure_In_Drive_Warning alerts.\n\nThis routine shall ONLY be executed after repairing any isolation issue on the vehicle's HV system or on rare occasion when instructed to do so by engineering. The HVBMS isolation counters latch the alerts BMS_a027 and BMS_a172 when reaching a certain count threshold.\n
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_WHITELIST-ALERTS-CHECK-MFG.py
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_ALERTS-CHECK-PER-GTW-SERVICE-FIX.py
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
		../../odin_bundle/networks/Gen3/tasks/PROC_ICE_X_REQUEST-ACC-POWER.py
			Request accessory power from the vehicle to wake up certain ECU's for a user specified number of seconds.
			Request accessory power from the vehicle to wake up certain ECU's for a user specified number of seconds.
			Request accessory power from the vehicle to wake up certain ECU's for a user specified number of seconds.
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_BLACKLIST-ALERTS-CHECK-MFG.py
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
		../../odin_bundle/networks/Gen3/tasks/TEST_VCLEFT_FRONT_WAIT-FOR-DRIVER-SEATBELT-BUCKLE.py
			Wait for driver's seatbelt buckle
			Wait for driver's seatbelt buckle
			Wait for driver's seatbelt buckle
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_ALERTS-CHECK-PER-GTW.py
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_BLACKLIST-ALERTS-CHECK-PER-GTW-MFG.py
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the blacklist, it means the car needs to be looked into .
		../../odin_bundle/networks/Gen3/tasks/TEST-BASH_ICE_X_SEARCH-SYSLOGS.py
			Search the 'numFiles' most recent syslogs in 'directory' for the 'search' pattern
			Search the 'numFiles' most recent syslogs in 'directory' for the 'search' pattern
			Search the 'numFiles' most recent syslogs in 'directory' for the 'search' pattern
		../../odin_bundle/networks/Gen3/tasks/TEST-SELF_HVBMS_X_CAN-COMMS.py
			This routine will test if the High Voltage Battery Management System (HVBMS) is able to communicate over HVS and HVI CAN bus'.\n
			This routine will test if the High Voltage Battery Management System (HVBMS) is able to communicate over HVS and HVI CAN bus'.\n
			This routine will test if the High Voltage Battery Management System (HVBMS) is able to communicate over HVS and HVI CAN bus'.\n
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_ALERTS-CHECK.py
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
			Checks for any alerts that have 'factory' in their audience, indicating repairs should be performed before factory gate
		../../odin_bundle/networks/Gen3/tasks/TEST-BRAKE_CORNER_STIFFNESS-TEST.py
			Set one TEST_X_X_CORNER to true to measure that corner's brake stiffness. Leaving all TEST_X_X_CORNER as false will execute the system level stiffness routine.
			Set one TEST_X_X_CORNER to true to measure that corner's brake stiffness. Leaving all TEST_X_X_CORNER as false will execute the system level stiffness routine.
			Set one TEST_X_X_CORNER to true to measure that corner's brake stiffness. Leaving all TEST_X_X_CORNER as false will execute the system level stiffness routine.
		../../odin_bundle/networks/Gen3/tasks/TEST_BRAKE_ALL_OUTLET-VALVE-RELEASE.py
			Minimum pressure drop required to pass a wheel's outlet valve
			Minimum pressure drop required to pass a wheel's outlet valve
			Minimum pressure drop required to pass a wheel's outlet valve
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_WHITELIST-ALERTS-CHECK-PER-GTW-MFG.py
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
			Checks for any alerts that have 'factory' or any other specified audience. If the alert is on the car and on the whitelist, it means the car is okay to factory gate.
		../../odin_bundle/networks/Gen3/tasks/TEST_ALL_X_ALERTS-CHECK-SERVICE-FIX.py
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
			Checks for any alerts that have 'service-fix' in their audience, indicating repairs should be performed before returning vehicle to customer
		../../odin_bundle/networks/Gen3/tasks/PROC_HVBMS_X_RESET-BRICK-CAC.py
			This routine resets all HV battery brick calculated amp-hour capacities (CACs) to the nominal/default values. \n\nDuring normal operation, the HVBMS calculates brick CAC values over multiple charge/discharge cycles. In the event of a large accumulated error, this routine can reset the calculated CAC based solely on the nominal/default brick CAC values to improve the HVBMS' full pack energy prediction.\n
			This routine resets all HV battery brick calculated amp-hour capacities (CACs) to the nominal/default values. \n\nDuring normal operation, the HVBMS calculates brick CAC values over multiple charge/discharge cycles. In the event of a large accumulated error, this routine can reset the calculated CAC based solely on the nominal/default brick CAC values to improve the HVBMS' full pack energy prediction.\n
			This routine resets all HV battery brick calculated amp-hour capacities (CACs) to the nominal/default values. \n\nDuring normal operation, the HVBMS calculates brick CAC values over multiple charge/discharge cycles. In the event of a large accumulated error, this routine can reset the calculated CAC based solely on the nominal/default brick CAC values to improve the HVBMS' full pack energy prediction.\n
		../../odin_bundle/networks/Gen3/lib/PM_ASSIGN_ASSEMBLY_ID_FOR_INVERTER_REPLACEMENT.py
			Restoring of the correct selection of the ECU's assembly ID failed. If the error code is FailAssemblyIDNotFound, the most common failure reason is that an incompatible drive inverter component is currently installed. If the error code is FailGenericTryExceptAll, this is most likely a communication or connection error.
		../../odin_bundle/networks/Gen3/lib/ICE_RESTORE_DATA_IDS.py
			
		../../odin_bundle/networks/Gen3/lib/POWER_CONTEXT.py
			body
		../../odin_bundle/networks/Gen3/lib/WRITE_DRIVE_TYPE_M3.py
			Failed to write drive unit type configuration. If the error code is driveTrainTypeNotFound, there's a communication or connection issue with the car computer. If the error code is UDSRoutineFailure,  there's a communication or connection issue with the left vehicle controller (VCLEFT). If the error code is UDSWriteFailure, there's a communication or connection issue with the drive inverter.
		../../odin_bundle/networks/Gen3/lib/SPEAKER_FUNCTIONAL_CHECK.py
			$*'}}, 'outputs': {'exit_code': {'index': 0}}, 'position': {'x': 953.1344604492188, 'y': -235.30198168754578}, 'signals': {'exit': {'connection': 'RefSub-DisplayUIMessage.slots.Enter', 'index': 0}}, 'slots': {'enter': {'index': 0}}, 'type': 'networks.ReferencedSubnetwork'}, 'Split': {'position': {'x': 602.9425659179688, 'y': -69.53324890136719}, 'separator': {'value': ' '}, 'text': {'connection': 'Concat5.c'}, 'type': 'strings.Split'}, 'Switch': {'expr': {'connection': 'LOUD-mode.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-L '}, 'position': {'x': 173.2529001235962, 'y': -92.77964210510254}, 'type': 'control.Switch'}, 'Switch2': {'expr': {'connection': 'on-board-analysis.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-a '}, 'position': {'x': 172.09194946289062, 'y': 19.37177562713623}, 'type': 'control.Switch'}, 'Switch3': {'expr': {'connection': 'upload-analysis.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-u '}, 'position': {'x': 168.23719024658203, 'y': 119.8665542602539}, 'type': 'control.Switch'}, 'Switch4': {'expr': {'connection': 'save-to-garage.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-s '}, 'position': {'x': 165.5011215209961, 'y': 213.51596450805664}, 'type': 'control.Switch'}, 'Switch5': {'expr': {'connection': 'skip-vehicle-status-check.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-i '}, 'position': {'x': 168.31935119628906, 'y': 313.45680236816406}, 'type': 'control.Switch'}, 'Switch6': {'expr': {'connection': 'dry-run.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-n '}, 'position': {'x': 167.18775939941406, 'y': 414.9303512573242}, 'type': 'control.Switch'}, 'dry-run': {'default': {'datatype': 'Bool', 'value': False}, 'position': {'x': -189.18812561035156, 'y': 424.7906265258789}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': False}}, 'on-board-analysis': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -221.42763900756836, 'y': 43.20276880264282}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}, 'save-to-garage': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -192.5602035522461, 'y': 238.261878490448}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}, 'skip-vehicle-status-check': {'default': {'datatype': 'Bool', 'value': False}, 'position': {'x': -297.4002842903137, 'y': 332.4961848258972}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': False}}, 'upload-analysis': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -204.338472366333, 'y': 141.2052321434021}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}}
			$*'}}, 'outputs': {'exit_code': {'index': 0}}, 'position': {'x': 953.1344604492188, 'y': -235.30198168754578}, 'signals': {'exit': {'connection': 'RefSub-DisplayUIMessage.slots.Enter', 'index': 0}}, 'slots': {'enter': {'index': 0}}, 'type': 'networks.ReferencedSubnetwork'}, 'Split': {'position': {'x': 602.9425659179688, 'y': -69.53324890136719}, 'separator': {'value': ' '}, 'text': {'connection': 'Concat5.c'}, 'type': 'strings.Split'}, 'Switch': {'expr': {'connection': 'LOUD-mode.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-L '}, 'position': {'x': 173.2529001235962, 'y': -92.77964210510254}, 'type': 'control.Switch'}, 'Switch2': {'expr': {'connection': 'on-board-analysis.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-a '}, 'position': {'x': 172.09194946289062, 'y': 19.37177562713623}, 'type': 'control.Switch'}, 'Switch3': {'expr': {'connection': 'upload-analysis.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-u '}, 'position': {'x': 168.23719024658203, 'y': 119.8665542602539}, 'type': 'control.Switch'}, 'Switch4': {'expr': {'connection': 'save-to-garage.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-s '}, 'position': {'x': 165.5011215209961, 'y': 213.51596450805664}, 'type': 'control.Switch'}, 'Switch5': {'expr': {'connection': 'skip-vehicle-status-check.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-i '}, 'position': {'x': 168.31935119628906, 'y': 313.45680236816406}, 'type': 'control.Switch'}, 'Switch6': {'expr': {'connection': 'dry-run.value'}, 'if_false': {'value': ''}, 'if_true': {'value': '-n '}, 'position': {'x': 167.18775939941406, 'y': 414.9303512573242}, 'type': 'control.Switch'}, 'dry-run': {'default': {'datatype': 'Bool', 'value': False}, 'position': {'x': -189.18812561035156, 'y': 424.7906265258789}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': False}}, 'on-board-analysis': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -221.42763900756836, 'y': 43.20276880264282}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}, 'save-to-garage': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -192.5602035522461, 'y': 238.261878490448}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}, 'skip-vehicle-status-check': {'default': {'datatype': 'Bool', 'value': False}, 'position': {'x': -297.4002842903137, 'y': 332.4961848258972}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': False}}, 'upload-analysis': {'default': {'datatype': 'Bool', 'value': True}, 'position': {'x': -204.338472366333, 'y': 141.2052321434021}, 'type': 'networks.Input', 'value': {'datatype': 'Bool', 'value': True}}}
		../../odin_bundle/networks/Gen3/lib/CID_INSTALL_NAV_MAP.py
			/usr/local/bin/keep-ice-alive 2 'odin'
		../../odin_bundle/networks/Gen3/scripts/TEST-SELF_VCRIGHT_DAS_INTERIOR-CAMERA-LED.py
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++DAS_SELF_TEST+%3D+%27Gen3%2Fscripts%2FDAS_SELF_TEST%27%0A++++RESET_ECU+%3D+%27Common%2Fscripts%2FTEST-RESET_ECU%27%0A++++VCRIGHT_UDS+%3D+%27SELF_TEST_INTERIOR_CAMERA_LED%27%0A++++VCRIGHT_UDS_ROUTINE_TIMEOUT_S+%3D+8%0A++++async+def+reboot_ape%28%29+-%3E+bool%3A%0A++++++++try%3A%0A++++++++++++resp_reboot_ape+%3D+await+run_script%28%0A++++++++++++++++script_name%3DRESET_ECU%2C%0A++++++++++++++++ecu%3D%27DAS%27%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp_reboot_ape%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp_reboot_ape%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++++++return+%28resp_reboot_ape.get%28%27exit_code%27%29+%3D%3D+0%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BRESET_ECU%7D+caused+an+exception.%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+False%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp_led_on+%3D+await+run_script%28%0A++++++++++++++++script_name%3DDAS_SELF_TEST%2C%0A++++++++++++++++path_list%3D%5B%27selftest%27%2C%27test_selfie_camera_led%27%5D%2C%0A++++++++++++++++query_dict%3D%7B%27test_mode%27%3A+%27led_on%27%7D%2C%0A++++++++++++++++timeout%3D20%0A++++++++++++%29%0A++++++++++++resp_led_on%5B%27output%27%5D+%3D+resp_led_on.pop%28%27service_output%27%29%0A++++++++++++resp_led_on%5B%27output%27%5D%5B%27msg%27%5D+%3D+resp_led_on.get%28%27output%27%29.pop%28%27user_facing_msg%27%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+script+%7BDAS_SELF_TEST%7D+to+turn+on+interior+camera+LED%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3Dresp_led_on%29%0A++++++++++++turn_on_led_success+%3D+resp_led_on.get%28%27exit_code%27%29+%3D%3D+0%0A++++++++except+Exception+as+e%3A%0A++++++++++++reboot_ape_success+%3D+await+reboot_ape%28%29%0A++++++++++++output.set_user_facing_msg%28f%22%7BDAS_SELF_TEST%7D+Interior+camera+LED+turn+on+request+caused+an+exception.+Reboot+APE+success%3F+%7Breboot_ape_success%7D%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+not+turn_on_led_success%3A%0A++++++++++++output.set_user_facing_msg%28f%22Failed+to+turn+on+LED%3A+%7Bresp_led_on%5B%27output%27%5D%5B%27msg%27%5D%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+output%0A++++++++uds_response+%3D+await+start_and_wait_results%28%0A++++++++++++max_runtime%3DVCRIGHT_UDS_ROUTINE_TIMEOUT_S%2C%0A++++++++++++node_name%3D%22VCRIGHT%22%2C%0A++++++++++++routine_name%3DVCRIGHT_UDS%0A++++++++%29%0A++++++++output.add_data%28%0A++++++++++++name%3Df%22%7BVCRIGHT_UDS%7D+Routine+Results%3A%22%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3Duds_response%5B%27results%27%5D%0A++++++++%29%0A++++++++uds_routine_finished+%3D+%28uds_response.get%28%27results%27%2C+%7B%7D%29.get%28%27STATUS%27%29+%3D%3D+%27NOT_RUNNING_FINISHED%27%29%0A++++++++current_draw_detected+%3D+%28uds_response.get%28%27results%27%2C+%7B%7D%29.get%28%27INTERIOR_CAMERA_LED_CURRENT%27%29+%3D%3D+%27NOT_FAILED%27%29%0A++++++++reboot_ape_success+%3D+await+reboot_ape%28%29%0A++++++++if+uds_routine_finished+and+current_draw_detected+and+reboot_ape_success%3A%0A++++++++++++output.set_user_facing_msg%28%22Passed+interior+camera+LED+connectivity+self+test%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22UDS+routine+finish+success%3A+%7Buds_routine_finished%7D%2C+%22%0A+++++++++++++++++++++++++++++++++f%22UDS+routine+current+draw+detected%3A+%7Bcurrent_draw_detected%7D%2C+%22%0A+++++++++++++++++++++++++++++++++f%22Reboot+APE+success%3A+%7Breboot_ape_success%7D%22%29%0A++++++++++++output.set_user_facing_msg%28f%22Failed+interior+camera+LED+connectivity+self+test%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++return+output
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++DAS_SELF_TEST+%3D+%27Gen3%2Fscripts%2FDAS_SELF_TEST%27%0A++++RESET_ECU+%3D+%27Common%2Fscripts%2FTEST-RESET_ECU%27%0A++++VCRIGHT_UDS+%3D+%27SELF_TEST_INTERIOR_CAMERA_LED%27%0A++++VCRIGHT_UDS_ROUTINE_TIMEOUT_S+%3D+8%0A++++async+def+reboot_ape%28%29+-%3E+bool%3A%0A++++++++try%3A%0A++++++++++++resp_reboot_ape+%3D+await+run_script%28%0A++++++++++++++++script_name%3DRESET_ECU%2C%0A++++++++++++++++ecu%3D%27DAS%27%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp_reboot_ape%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp_reboot_ape%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++++++return+%28resp_reboot_ape.get%28%27exit_code%27%29+%3D%3D+0%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BRESET_ECU%7D+caused+an+exception.%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+False%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp_led_on+%3D+await+run_script%28%0A++++++++++++++++script_name%3DDAS_SELF_TEST%2C%0A++++++++++++++++path_list%3D%5B%27selftest%27%2C%27test_selfie_camera_led%27%5D%2C%0A++++++++++++++++query_dict%3D%7B%27test_mode%27%3A+%27led_on%27%7D%2C%0A++++++++++++++++timeout%3D20%0A++++++++++++%29%0A++++++++++++resp_led_on%5B%27output%27%5D+%3D+resp_led_on.pop%28%27service_output%27%29%0A++++++++++++resp_led_on%5B%27output%27%5D%5B%27msg%27%5D+%3D+resp_led_on.get%28%27output%27%29.pop%28%27user_facing_msg%27%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+script+%7BDAS_SELF_TEST%7D+to+turn+on+interior+camera+LED%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3Dresp_led_on%29%0A++++++++++++turn_on_led_success+%3D+resp_led_on.get%28%27exit_code%27%29+%3D%3D+0%0A++++++++except+Exception+as+e%3A%0A++++++++++++reboot_ape_success+%3D+await+reboot_ape%28%29%0A++++++++++++output.set_user_facing_msg%28f%22%7BDAS_SELF_TEST%7D+Interior+camera+LED+turn+on+request+caused+an+exception.+Reboot+APE+success%3F+%7Breboot_ape_success%7D%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+not+turn_on_led_success%3A%0A++++++++++++output.set_user_facing_msg%28f%22Failed+to+turn+on+LED%3A+%7Bresp_led_on%5B%27output%27%5D%5B%27msg%27%5D%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+output%0A++++++++uds_response+%3D+await+start_and_wait_results%28%0A++++++++++++max_runtime%3DVCRIGHT_UDS_ROUTINE_TIMEOUT_S%2C%0A++++++++++++node_name%3D%22VCRIGHT%22%2C%0A++++++++++++routine_name%3DVCRIGHT_UDS%0A++++++++%29%0A++++++++output.add_data%28%0A++++++++++++name%3Df%22%7BVCRIGHT_UDS%7D+Routine+Results%3A%22%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3Duds_response%5B%27results%27%5D%0A++++++++%29%0A++++++++uds_routine_finished+%3D+%28uds_response.get%28%27results%27%2C+%7B%7D%29.get%28%27STATUS%27%29+%3D%3D+%27NOT_RUNNING_FINISHED%27%29%0A++++++++current_draw_detected+%3D+%28uds_response.get%28%27results%27%2C+%7B%7D%29.get%28%27INTERIOR_CAMERA_LED_CURRENT%27%29+%3D%3D+%27NOT_FAILED%27%29%0A++++++++reboot_ape_success+%3D+await+reboot_ape%28%29%0A++++++++if+uds_routine_finished+and+current_draw_detected+and+reboot_ape_success%3A%0A++++++++++++output.set_user_facing_msg%28%22Passed+interior+camera+LED+connectivity+self+test%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22UDS+routine+finish+success%3A+%7Buds_routine_finished%7D%2C+%22%0A+++++++++++++++++++++++++++++++++f%22UDS+routine+current+draw+detected%3A+%7Bcurrent_draw_detected%7D%2C+%22%0A+++++++++++++++++++++++++++++++++f%22Reboot+APE+success%3A+%7Breboot_ape_success%7D%22%29%0A++++++++++++output.set_user_facing_msg%28f%22Failed+interior+camera+LED+connectivity+self+test%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_RADC_X_SERVICE-RADAR-ALIGNMENT-V2.py
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+sleep%0A++++data_value+%3D+api.cid.get_data_value%0A++++diag_session+%3D+api.uds.uds_diagnostic_session%0A++++odx_start_wait+%3D+api.odx.odx_start_and_wait_results_v2%0A++++metric_result+%3D+api.metric_result%0A++++capture+%3D+api.reporting.capture_metric%0A++++update+%3D+api.messages.status_update%0A++++api_output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++current_gear+%3D+%27%3Cinvalid%3E%27%0A++++api_output.set_exit_code%28exit_reason.UNKNOWN%29%0A++++async+def+report_results%28name%2C+msg%2C+metadata%3D%7B%7D%2C+reason%3Dexit_reason.ERROR%2C+metrics%3Dmetric_result.Fail%29%3A%0A++++++++if+reason+%21%3D+exit_reason.ERROR%3A%0A++++++++++++await+capture%28metric_name%3D%27ALIGNMENT_STATUS%27%2C+result_code%3Dmetrics%2C+value%3Dstatus%29%0A++++++++++++await+capture%28metric_name%3D%27PROGRESS%27%2C+result_code%3Dmetrics%2C+value%3Dprogress%29%0A++++++++++++await+capture%28metric_name%3D%27RADAR_ALIGNMENT_ERROR%27%2C+result_code%3Dmetrics%2C+value%3Dget_error%29%0A++++++++++++await+capture%28metric_name%3D%27HORIZONTAL_MISALIGNMENT%27%2C+result_code%3Dmetrics%2C+value%3Dget_horiz_misalign%29%0A++++++++++++await+capture%28metric_name%3D%27VERTICAL_MISALIGNMENT_ANGLE_FLOAT%27%2C+result_code%3Dmetrics%2C+value%3Dget_vert_misalign%29%0A++++++++else%3A%0A++++++++++++await+capture%28%0A++++++++++++++++metric_name%3Dname%2C%0A++++++++++++++++value%3Dmsg%2C%0A++++++++++++++++metadata%3Dmetadata%2C%0A++++++++++++++++result_code%3Dmetrics%0A++++++++++++%29%0A++++++++api_output.set_user_facing_msg%28msg%29%0A++++++++api_output.set_exit_code%28reason%29%0A++++res+%3D+await+run_ref%28%22Gen3%2Flib%2FRADC_PLANT_MODE%22%2C+input%3D%22RADC%22%29%0A++++exit_code+%3D+res.get%28%27exit_code%27%2C+exit_reason.FAIL%29%0A++++try%3A%0A++++++++assert+exit_code+%3D%3D+0%0A++++except+AssertionError+as+e%3A%0A++++++++error_name%2C+error_msg+%3D+%27failure_radc_plant_mode%27%2C+%27Error+occurred+while+entering+RADC+plant+mode%27%0A++++++++await+report_results%28error_name%2C+error_msg%2C+%7B%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+api_output%0A++++await+update%28status%3D%27Please+shift+gear+state+into+Drive+within+30+sec+to+begin+the+alignment+routine%27%29%0A++++for+i+in+range%286%29%3A%0A++++++++gear_state+%3D+await+data_value%28data_name%3D%27VAPI_shiftState%27%29%0A++++++++current_gear+%3D+gear_state.get%28%27value%27%29%0A++++++++if+current_gear+%3D%3D+%27D%27%3A%0A++++++++++++break%0A++++++++await+sleep%285%29%0A++++try%3A%0A++++++++assert+current_gear+%3D%3D+%27D%27%0A++++except+Exception+as+e%3A%0A++++++++error_name%2C+error_msg+%3D+%27failure_gear_state%27%2C+%27Error+while+waiting+for+gear+state+to+shift+into+Drive%27%0A++++++++await+report_results%28error_name%2C+error_msg%2C+%7B%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+api_output%0A++++await+update%28status%3D%27RADC+alignment+routine+in+progress.%27%0A++++++++++++++++++++++++%27+Please+press+accelerator+and+begin+driving+to+complete+the+routine%27%29%0A++++await+diag_session%28node_name%3D%27RADC%27%2C+response_required%3DTrue%2C+session_type%3D%27EXTENDED_DIAGNOSTIC_SESSION%27%29%0A++++try%3A%0A++++++++routine_result+%3D+await+odx_start_wait%28node_name%3D%27RADC%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++routine_name%3D%27SERVICE_ALIGNMENT%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++status_parameter%3D%27ALIGNMENT_STATUS%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++in_progress_statuses%3D%5B%27ALIGNMENT_IN_PROGRESS%27%5D%29%0A++++except+Exception+as+e%3A%0A++++++++error_name%2C+error_msg+%3D+%27failure_odx_start_wait_results%27%2C+%27Error+after+starting+ODX+routine+%26+awaiting+results%27%0A++++++++await+report_results%28error_name%2C+error_msg%2C+%7B%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+api_output%0A++++await+update%28status%3D%27RADC+alignment+routine+has+completed%27%29%0A++++result+%3D+routine_result.get%28%27results%27%29%0A++++status+%3D+result%5B%27ALIGNMENT_STATUS%27%5D%0A++++progress+%3D+result%5B%27PROGRESS%27%5D%0A++++get_error+%3D+result%5B%27RADAR_ALIGNMENT_ERROR_LIST%27%5D%0A++++get_horiz_misalign+%3D+result%5B%27HORIZONTAL_MISALIGNMENT_ANGLE_FLOAT%27%5D%0A++++get_vert_misalign+%3D+result%5B%27VERTICAL_MISALIGNMENT_ANGLE_FLOAT%27%5D%0A++++if+status+%21%3D+%27ALIGNMENT_PASSED%27%3A%0A++++++++status_name%2C+status_msg+%3D+%27failure_routine_status%27%2C+%27RADC+alignment+routine+failed.%27%0A++++++++await+report_results%28status_name%2C+status_msg%2C+reason%3Dexit_reason.FAIL%29%0A++++else%3A%0A++++++++status_name%2C+status_msg+%3D+%27successful_routine_status%27%2C+%27RADC+alignment+routine+passed.%27%0A++++++++await+report_results%28status_name%2C+status_msg%2C+reason%3Dexit_reason.PASS%2C+metrics%3Dmetric_result.Pass%29%0A++++return+api_output
		../../odin_bundle/networks/Gen3/scripts/PROC_ICE_X_CAMERA-PITCH-CHECK.py
			async+def+odin_script_test%28api%2C+%0A+++++++++++++++++++++++++++capture_image%3A+bool%2C%0A+++++++++++++++++++++++++++camera_check_timeout%3A+int%2C%0A+++++++++++++++++++++++++++disable_upload%3A+bool%2C%0A+++++++++++++++++++++++++++download_retries%3A+int%2C%0A+++++++++++++++++++++++++++max_pitch%3A+float%2C%0A+++++++++++++++++++++++++++min_pitch%3A+float%2C%0A+++++++++++++++++++++++++++ping_attempts%3A+int%2C%0A+++++++++++++++++++++++++++timeout%3A+int%29%3A%0A++++from+time+import+strftime%2C+localtime%0A++++from+asyncio+import+sleep%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++download+%3D+api.http.download%0A++++upload_file+%3D+api.cid.upload_file%0A++++load_file+%3D+api.proto.read_file%0A++++is_fused+%3D+api.cid.is_fused%0A++++run_script+%3D+api.scripts.script_test%0A++++json+%3D+api.json%0A++++CAMERA_PITCH_CHECK_SUPERAPP+%3D+%27%2Fopt%2Ffactory-camera-check%27%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++WORKING_PATH+%3D+%27%2Fhome%2Fodin%2Ffile_upload%2Fape_snapshots%27%0A++++UNICODE_ERROR+%3D+%22unicode_error+exception+%28OK%29%22%0A++++if+capture_image%3A%0A++++++++request_url+%3D+%27http%3A%2F%2Fape%3A8901%2Ffactory_calibration%2Fcapture_raw_frames%3Fcamera%3DMAIN%27%0A++++++++request_body+%3D+%27%27%0A++++else%3A%0A++++++++request_url+%3D+%27http%3A%2F%2Fape%3A8901%2Fgrablogs%27%0A++++++++request_body+%3D+%27%7B%22logs%22%3A+%5B%7B%22paths%22%3A+%5B%22%2Fhome%2Ffactory%22%5D%7D%5D%7D%27%0A++++async+def+try_http_download%28url%2C+body%2C+timeout%2C+save_path%29%3A%0A++++++++try%3A%0A++++++++++++response+%3D+await+download%28%0A++++++++++++++++timeout%3Dtimeout%2C%0A++++++++++++++++url%3Durl%2C%0A++++++++++++++++data%3Dbody%2C%0A++++++++++++++++filepath%3Dsave_path%0A++++++++++++%29%0A++++++++++++return+response%0A++++++++except+Exception+as+e%3A%0A++++++++++++return+%7B%0A++++++++++++++++%22done%22%3A+False%2C%0A++++++++++++++++%22exception%22%3A+e%0A++++++++++++%7D%0A++++async+def+try_upload_file%28path%29%3A%0A++++++++try%3A%0A++++++++++++results+%3D+await+upload_file%28file_path%3Dpath%2C+in_background%3DTrue%29%0A++++++++++++output.add_data%28name%3D%22Start+Hermes+upload%22%2C%0A++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++data%3Dresults%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_data%28name%3D%22upload_exception%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3D%7B%0A++++++++++++++++++++++++++++++++%22upload_path%22%3A+path%2C%0A++++++++++++++++++++++++++++++++%22exception%22%3A+e%0A++++++++++++++++++++++++++++%7D%29%0A++++fused+%3D+await+is_fused%28%29%0A++++if+fused%5B%22is_fused%22%5D%3A%0A++++++++output.set_user_facing_msg%28%22Unable+to+grab+snapshot%2C+car+fused%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++current_time+%3D+strftime%28%22%25Y-%25m-%25dT%25T%22%2C+localtime%28%29%29%0A++++image_location+%3D+f%22%7BWORKING_PATH%7D%2Fsnapshot-%7Bcurrent_time%7D.tgz%22%0A++++vin+%3D+%28await+api.cid.get_vin%28%29%29.get%28%27vin%27%29%0A++++try%3A%0A++++++++resp+%3D+await+run_script%28%0A++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++timeout%3D10%2C%0A++++++++++++attempts%3Dping_attempts%0A++++++++%29%0A++++++++output.add_data%28name%3Df%22Nested+call+to+%7BWAKE_AND_PING%7D%22%2C%0A++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++data%3Dresp%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++if+resp%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++output.set_user_facing_msg%28%22Unable+to+talk+to+Autopilot%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++except+Exception+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception%22%29%0A++++download_attempt+%3D+0%0A++++download_results+%3D+%5B%5D%0A++++while+download_attempt+%3C+download_retries%3A%0A++++++++download_attempt+%2B%3D+1%0A++++++++download_result+%3D+await+try_http_download%28request_url%2C+request_body%2C+timeout%2C+image_location%29%0A++++++++download_results.append%28download_result%29%0A++++++++if+download_result.get%28%27status_code%27%2C+500%29+%3C+500%3A%0A++++++++++++break%0A++++++++await+sleep%281%29%0A++++try%3A%0A++++++++failure_mode+%3D+await+load_file%28filepath%3Dimage_location%2C+mode%3D%27r%27%29%0A++++except+UnicodeDecodeError+as+e%3A%0A++++++++failure_mode+%3D+UNICODE_ERROR%0A++++except+Exception+as+e%3A%0A++++++++failure_mode+%3D+%22load+file+exception%22%0A++++output.add_data%28name%3D%22download+results%22%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%22content_check%22%3A+failure_mode%2C%0A++++++++++++++++++++%22download_attempts%22%3A+download_attempt%2C%0A++++++++++++++++++++%22download_results%22%3A+download_results%2C%0A++++++++++++++++++++%22request_body%22%3A+request_body%2C%0A++++++++++++++++++++%22request_url%22%3A+request_url%0A++++++++++++++++%7D%29%0A++++if+not+disable_upload%3A+await+try_upload_file%28image_location%29%0A++++try%3A%0A++++++++if%28download_result%5B%22status_code%22%5D+%21%3D+200+or+failure_mode+%21%3D+UNICODE_ERROR%29%3A%0A++++++++++++if+capture_image%3A%0A++++++++++++++++error+%3D+failure_mode.get%28%27contents%27%29%0A++++++++++++++++error+%3D+%28await+json.loads%28string%3Derror%29%29%5B%27json%27%5D.get%28%27error%27%29%0A++++++++++++++++output.set_user_facing_msg%28error%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22APE+file+transfer+failed+with+status+code+%7Bdownload_result%5B%27status_code%27%5D%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++except+KeyError+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28%22Invalid+key+while+parsing+autopilot+response%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++except+Exception+as+e%3A+%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28%22Unknown+error+occurred+while+parsing+autopilot+response%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++output.add_data%28name%3D%22parameters%22%2C%0A++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++data%3D%7B%22workdir%22%3A+WORKING_PATH%2C%0A++++++++++++++++++++++++%22image_location%22%3A+image_location%2C%0A++++++++++++++++++++++++%22vin%22%3A+vin%7D%29%0A++++try%3A%0A++++++++results+%3D+await+api.cid.execute_application%28current_working_dir%3DCAMERA_PITCH_CHECK_SUPERAPP%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++path%3Df%27%7BCAMERA_PITCH_CHECK_SUPERAPP%7D%2Ffactory-camera-check%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++args%3D%5Bimage_location%2C+vin%2C+%27-o%27%2C+WORKING_PATH%5D%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++whitelist_chars%3D%27-%2F_.%3A%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++user%3D%27root%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++timeout%3Dcamera_check_timeout%29%0A++++except+Exception+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+run+two_target_calibration+application%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++if+not+disable_upload%3A+await+try_upload_file%28f%22%7BWORKING_PATH%7D%2Fviz-%7Bcurrent_time%7D.png%22%29%0A++++if+results%5B%27exit_status%27%5D+%21%3D+0%3A%0A++++++++output.add_data%28name%3D%22stderr%22%2C%0A++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++data%3Dresults%5B%27stderr%27%5D%29%0A++++++++output.set_user_facing_msg%28%22Factory-camera-check+failed+to+complete+processing+image%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++try%3A%0A++++++++output.add_data%28%0A++++++++++++name%3D%22Camera+pitch+check+print%22%2C%0A++++++++++++data_type%3Dlist%2C%0A++++++++++++data%3Dresults%5B%27stdout%27%5D.split%28%27%5Cn%27%29%5B%3A-2%5D%0A++++++++%29%0A++++++++results+%3D+await+json.loads%28string%3Dresults%5B%27stdout%27%5D.split%28%27%5Cn%27%29%5B-2%5D%29%0A++++++++results+%3D+results%5B%27json%27%5D%0A++++except+Exception+as+e%3A%0A++++++++output.add_data%28%0A++++++++++++name%3D%22JSON+Decode+error%22%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%22exception%22%3A+e%2C+%22string%22%3A+results%5B%27stdout%27%5D.split%28%27%5Cn%27%29%5B-2%5D%7D%0A++++++++%29%0A++++++++output.set_user_facing_msg%28f%22Failed+to+decode+results%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++try%3A%0A++++++++results%5B%27error_analysis%27%5D.pop%28%27noisy_results%27%29%0A++++except%3A%0A++++++++pass%0A++++output.add_data%28name%3D%22results%22%2C%0A++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++data%3Dresults%29%0A++++if+not+results%5B%27success%27%5D%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28results%5B%27error_msg%27%5D%29%0A++++++++return+output%0A++++if+not+%28min_pitch+%3C%3D+results%5B%27pitch%27%5D%5B%27value%27%5D+%3C%3D+max_pitch%29%3A%0A++++++++corrective_qturns+%3D+results%5B%27pitch%27%5D%5B%27value%27%5D+%2F+%281.93+%2F+4%29%0A++++++++corrective_direction+%3D+%22counter-clockwise%22+if+corrective_qturns+%3E+0+else+%22clockwise%22%0A++++++++corrective_qturns+%3D+abs%28round%28corrective_qturns%29%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.set_user_facing_msg%28f%22Main+camera+pitch+%7Bresults%5B%27pitch%27%5D%5B%27value%27%5D%3A.2f%7D.+Adjust+%7Bcorrective_qturns%3A.1f%7D+quarter+turn%28s%29+%7Bcorrective_direction%7D%22%29%0A++++++++return+output%0A++++output.set_exit_code%28exit_reason.PASS%29%0A++++output.set_user_facing_msg%28f%22Passed+with+pitch%3A+%7Bresults%5B%27pitch%27%5D%5B%27value%27%5D%3A.2f%7D%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/TEST-SELF_CHECK-CLOSURE-TEST-LIFTGATE.py
			async+def+odin_script_test%28api%2C+window_mm_lower%3A+float%2C+window_mm_upper%3A+float%2C+honk%3A+bool%29%3A%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++CLOSURE_CHECK+%3D+%27Gen3%2Fscripts%2FTEST-SELF_VCLEFT-VCRIGHT_X_CHECK-CLOSURES%27%0A++++LIFTGATE+%3D+%27SELF_TEST_LIFTGATE_ENSURES_CLOSED_AT_BEGINNING%27%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DCLOSURE_CHECK%2C%0A++++++++++++++++window_mm_lower%3Dwindow_mm_lower%2C%0A++++++++++++++++window_mm_upper%3Dwindow_mm_upper%2C%0A++++++++++++++++honk%3Dhonk%2C%0A++++++++++++++++check_liftgate%3DFalse%0A++++++++++++%29%0A++++++++++++resp%5B%27output%27%5D+%3D+resp.pop%28%27service_output%27%29%0A++++++++++++resp%5B%27output%27%5D%5B%27msg%27%5D+%3D+resp.get%28%27output%27%29.pop%28%27user_facing_msg%27%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+script+%7BCLOSURE_CHECK%7D%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3Dresp%29%0A++++++++++++passed_closure+%3D+resp.get%28%27exit_code%27%29+%3D%3D+0%0A++++++++++++if+not+passed_closure%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Closures+are+open%2C+check+windows%2C+doors+and+frunk.%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++++++return+output%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BCLOSURE_CHECK%7D+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_ref%28%22Gen3%2Flib%2FFW_SELF_TEST%22%2C%0A+++++++++++++++++++++++++++++++++node_name%3D%22VCLEFT%22%2C%0A+++++++++++++++++++++++++++++++++routine_name%3DLIFTGATE%2C%0A+++++++++++++++++++++++++++++++++tester_present%3DFalse%2C%0A+++++++++++++++++++++++++++++++++timeout%3D0.5%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+UDS+routine+%7BLIFTGATE%7D%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3Dresp%29%0A++++++++++++passed_liftgate+%3D+resp.get%28%27exit_code%27%29+%3D%3D+0%0A++++++++++++if+not+passed_liftgate%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Liftgate+test+has+failed.%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++return+output%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BLIFTGATE%7D+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++if+passed_closure+and+passed_liftgate%3A%0A++++++++output.set_user_facing_msg%28f%22Passed+liftgate+with+closures+closed.%22%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/DAS_GNSS_DESENSE_TEST.py
			async+def+odin_script_test%28api%2C+timeout%3A+int%2C+scenario%3A+str%2C+dwellduration%3A+int%2C+pauseduration%3A+int%2C+band%3A+list%2C+testmode%3A+str%2C+threshold_dict%3A+dict%2C+delay_http%3D0%2C+ape_wake_attempts%3D3%29%3A%0A++++from+asyncio+import+sleep%0A++++request+%3D+api.http.authenticated_request%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++bearer_token_header+%3D+api.http.bearer_token_header%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++RESET_ECU+%3D+%27Common%2Fscripts%2FTEST-RESET_ECU%27%0A++++async+def+try_http_request%28headers%2C+url%2C+timeout%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+request%28%0A++++++++++++++++headers%3Dheaders%2C%0A++++++++++++++++attempts%3D3%2C%0A++++++++++++++++method%3D%27GET%27%2C%0A++++++++++++++++timeout%3Dtimeout%2C%0A++++++++++++++++url%3Durl%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22http_request_succeeded%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Burl%7D%22%29%0A++++++++++++return+resp%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_user_facing_msg%28f%22Request+to+%7Burl%7D+caused+an+exception+%7Be%7D.+Please+rerun%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+%7B%7D%0A++++bearer+%3D+await+bearer_token_header%28%29%0A++++token+%3D+bearer.get%28%27header%27%2C+%27key-error%27%29%0A++++query+%3D+%27%27%0A++++for+x+in+threshold_dict.keys%28%29%3A%0A++++++++query+%2B%3D+f%22%26%7Bx%7D%3D%7Bthreshold_dict%5Bx%5D%7D%22%0A++++request_url+%3D+f%27http%3A%2F%2F192.168.90.103%3A8901%2Ftest_gnss_signal_strength%3Fscenario%3D%7Bscenario%7D%26dwellduration%3D%7Bdwellduration%7D%26pauseduration%3D%7Bpauseduration%7D%26band%3D%7B%22%2C%22.join%28band%29%7D%26testmode%3D%7Btestmode%7D%7Bquery%7D%27%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++++++timeout%3D10%2C%0A++++++++++++++++attempts%3Dape_wake_attempts%2C%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+%7BWAKE_AND_PING%7D%22%2C%0A++++++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++++++data%3Dresp%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++++++if+resp%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Unable+to+talk+to+Autopilot.+Please+rerun%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++return+output%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++await+sleep%28delay_http%29%0A++++++++selftest_resp+%3D+await+try_http_request%28token%2C+request_url%2C+timeout%29%0A++++++++try%3A%0A++++++++++++if+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27PASSED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++if+scenario+%3D%3D+%22all_on%22%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22EMI+from+bi-cameras+is+within+spec%22%29%0A++++++++++++++++elif+scenario+%3D%3D+%22selfie%22%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22EMI+from+interior+cameras+is+within+spec%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22GNSS+desense+test+scenario+not+supported%22%29%0A++++++++++++elif+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27FAILED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++if+%22invalid+test+mode%22+in+selftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D.lower%28%29%3A%0A++++++++++++++++++++output.set_user_facing_msg%28f%22GNSS+desense+test+mode+not+supported.+Valid+inputs%3A+CN0%2C+AGC_I%2C+AGC_Q%2C+or+DDC%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++if+scenario+%3D%3D+%22all_on%22%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28f%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D.+Please+rerun.+If+failure+persists%2C+try+the+following%3A+%281%29+reseat+bi-camera+harness%2C+%282%29+replace+bi-camera%2C+%283%29+replace+bi-camera+harness%2C+and+%284%29+replace+interior+camera%22%29%0A++++++++++++++++++++elif+scenario+%3D%3D+%22selfie%22%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28f%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D.+Please+rerun.+If+failure+persists%2C+try+replace+interior+camera%22%29%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28%22GNSS+desense+test+scenario+not+supported%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_verbose_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_debug_output%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27debug_output%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.set_user_facing_msg%28f%22Unable+to+parse+DAS+response.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DRESET_ECU%2C%0A++++++++++++++++ecu%3D%27DAS%27%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BRESET_ECU%7D+caused+an+exception.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++return+output
			async+def+odin_script_test%28api%2C+timeout%3A+int%2C+scenario%3A+str%2C+dwellduration%3A+int%2C+pauseduration%3A+int%2C+band%3A+list%2C+testmode%3A+str%2C+threshold_dict%3A+dict%2C+delay_http%3D0%2C+ape_wake_attempts%3D3%29%3A%0A++++from+asyncio+import+sleep%0A++++request+%3D+api.http.authenticated_request%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++bearer_token_header+%3D+api.http.bearer_token_header%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++RESET_ECU+%3D+%27Common%2Fscripts%2FTEST-RESET_ECU%27%0A++++async+def+try_http_request%28headers%2C+url%2C+timeout%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+request%28%0A++++++++++++++++headers%3Dheaders%2C%0A++++++++++++++++attempts%3D3%2C%0A++++++++++++++++method%3D%27GET%27%2C%0A++++++++++++++++timeout%3Dtimeout%2C%0A++++++++++++++++url%3Durl%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22http_request_succeeded%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Burl%7D%22%29%0A++++++++++++return+resp%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_user_facing_msg%28f%22Request+to+%7Burl%7D+caused+an+exception+%7Be%7D.+Please+rerun%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+%7B%7D%0A++++bearer+%3D+await+bearer_token_header%28%29%0A++++token+%3D+bearer.get%28%27header%27%2C+%27key-error%27%29%0A++++query+%3D+%27%27%0A++++for+x+in+threshold_dict.keys%28%29%3A%0A++++++++query+%2B%3D+f%22%26%7Bx%7D%3D%7Bthreshold_dict%5Bx%5D%7D%22%0A++++request_url+%3D+f%27http%3A%2F%2F192.168.90.103%3A8901%2Ftest_gnss_signal_strength%3Fscenario%3D%7Bscenario%7D%26dwellduration%3D%7Bdwellduration%7D%26pauseduration%3D%7Bpauseduration%7D%26band%3D%7B%22%2C%22.join%28band%29%7D%26testmode%3D%7Btestmode%7D%7Bquery%7D%27%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++++++timeout%3D10%2C%0A++++++++++++++++attempts%3Dape_wake_attempts%2C%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+%7BWAKE_AND_PING%7D%22%2C%0A++++++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++++++data%3Dresp%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++++++if+resp%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Unable+to+talk+to+Autopilot.+Please+rerun%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++return+output%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++await+sleep%28delay_http%29%0A++++++++selftest_resp+%3D+await+try_http_request%28token%2C+request_url%2C+timeout%29%0A++++++++try%3A%0A++++++++++++if+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27PASSED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++if+scenario+%3D%3D+%22all_on%22%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22EMI+from+bi-cameras+is+within+spec%22%29%0A++++++++++++++++elif+scenario+%3D%3D+%22selfie%22%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22EMI+from+interior+cameras+is+within+spec%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22GNSS+desense+test+scenario+not+supported%22%29%0A++++++++++++elif+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27FAILED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++if+%22invalid+test+mode%22+in+selftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D.lower%28%29%3A%0A++++++++++++++++++++output.set_user_facing_msg%28f%22GNSS+desense+test+mode+not+supported.+Valid+inputs%3A+CN0%2C+AGC_I%2C+AGC_Q%2C+or+DDC%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++if+scenario+%3D%3D+%22all_on%22%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28f%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D.+Please+rerun.+If+failure+persists%2C+try+the+following%3A+%281%29+reseat+bi-camera+harness%2C+%282%29+replace+bi-camera%2C+%283%29+replace+bi-camera+harness%2C+and+%284%29+replace+interior+camera%22%29%0A++++++++++++++++++++elif+scenario+%3D%3D+%22selfie%22%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28f%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D.+Please+rerun.+If+failure+persists%2C+try+replace+interior+camera%22%29%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++output.set_user_facing_msg%28%22GNSS+desense+test+scenario+not+supported%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_verbose_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_debug_output%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27debug_output%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.set_user_facing_msg%28f%22Unable+to+parse+DAS+response.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DRESET_ECU%2C%0A++++++++++++++++ecu%3D%27DAS%27%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DRESET_ECU%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BRESET_ECU%7D+caused+an+exception.+Please+rerun%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/MODULE_ECU-REPLACEMENT.py
			async+def+make_module%28api%29%3A%0A++++from+time+import+time%2C+localtime%2C+strftime%0A++++from+types+import+ModuleType%0A++++from+asyncio+import+sleep%0A++++from+enum+import+Enum%0A++++ecu_module+%3D+ModuleType%28%22Gen3.scripts.MODULE_ECU-REPLACEMENT%22%29%0A++++odx_read_data%3Dapi.odx.odx_read_data%0A++++ecu_reset%3Dapi.uds.uds_ecu_reset%0A++++ecu_tester_present%3Dapi.uds.uds_tester_present_context%0A++++ensure_power_state%3Dapi.vehiclecontrols.ensure_power_state%0A++++ensure_application_state%3Dapi.vehiclecontrols.ensure_application_state%0A++++save_data%3Dapi.cid.save_data%0A++++load_data%3Dapi.cid.load_data%0A++++get_data_value_until%3Dapi.cid.get_data_value_until%0A++++execute_application%3Dapi.cid.execute_application%0A++++run_subnetwork%3Dapi.subnetwork.run_reference%0A++++capture%3Dapi.reporting.capture_metric%0A++++can_signal_monitor%3Dapi.can.can_signal_monitor%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++service_output+%3D+api.service_output%0A++++TP_INTERVAL+%3D+0.1%0A++++APPLICATION_STATE+%3D+%27APPLICATION%27%0A++++BOOTLOADER_STATE+%3D+%27BOOTLOADER%27%0A++++UNKNOWN_STATE+%3D+%27UNKNOWN%27%0A++++EPOCH_TIME+%3D+%27EPOCH_TIME%27%0A++++APPLICATION_STATE_DID+%3D+%27COMPONENT_AND_FIRMWARE_TYPE%27%0A++++FIRMWARE_TYPE+%3D+%27FIRMWARE_TYPE%27%0A++++BOOTLOADER_BACKOFF+%3D+2%0A++++DEFAULT_WAIT+%3D+0.5%0A++++INITIAL_BACKOFF+%3D+0.5%0A++++APPLICATION_STATE_TIMEOUT+%3D+7%0A++++CAN_REDEPLOY_TIMEOUT_MINUTES+%3D+20%0A++++CAN_REDEPLOY_TIMEOUT_SECONDS+%3D+CAN_REDEPLOY_TIMEOUT_MINUTES+%2A+60%0A++++CAN_REDEPLOY_TIMEOUT_CHECK_INTERVAL_SECONDS+%3D+10%0A++++POWER_STATE_RETRY_COUNT+%3D+200%0A++++POWER_STATE_TIMEOUT_SECONDS+%3D+60%0A++++POWER_STATE_SIGNAL+%3D+%27VCFRONT_vehiclePowerState%27%0A++++DIAG_LEVEL_SIGNAL+%3D+%27GTW_diagLevel%27%0A++++CAN_SIGNAL_TIMEOUT+%3D+10%0A++++ACCEPTABLE_DIAG_LEVELS+%3D+%5B%27LEVEL_DIAG_LINK_ACTIVE%27%2C+%27LEVEL_FACTORY%27%5D%0A++++class+Operation%28Enum%29%3A%0A++++++++PERIODIC_BACKUP%3D%27PERIODIC_BACKUP%27%0A++++++++MANUAL_BACKUP%3D%27MANUAL_BACKUP%27%0A++++++++RESTORE%3D%27RESTORE%27%0A++++class+Step%28object%29%3A%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.passed%3DFalse%0A++++++++++++self.failure_description%3D%27%27%0A++++++++++++self.output%3D%7B%7D%0A++++class+Ecu%28object%29%3A%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.name%3D%27%27%0A++++++++++++self.bootloader_write_power_state%3DNone%0A++++++++++++self.application_write_power_state%3DNone%0A++++++++++++self.bootloader_data%3D%5B%5D%0A++++++++++++self.application_data%3D%5B%5D%0A++++++++++++self.data%3D%5B%5D%0A++++++++++++self.compare_blocklist%3D%5B%5D%0A++++++++async+def+bootloader_pre_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++return+None%0A++++++++async+def+bootloader_post_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++return+None%0A++++++++async+def+application_pre_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++return+None%0A++++++++async+def+application_post_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++return+None%0A++++class+Data%28object%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27%27%0A++++++++++++self.odx_read_name%3D%27%27%0A++++++++++++self.odx_read_payload%3D%27%27%0A++++++++++++self.odx_write_name%3D%27%27%0A++++++++++++self.odx_write_payload%3D%27%27%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%29%3A%0A++++++++++++return+%7B%7D%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%29%3A%0A++++++++++++return+None%0A++++class+BoardSerialNumber%28Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27BOARD_SERIAL_NUMBER%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++class+BoardPartNumber%28Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27BOARD_PART_NUMBER%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++async+def+is_backup_old%28backup%3A+dict%2C+expiry_seconds%3A+int%29+-%3E+bool%3A%0A++++++++return+True+if+%28time%28%29+-+backup%5BEPOCH_TIME%5D%29+%3E+expiry_seconds+else+False%0A++++async+def+get_application_state%28ecu%3A+Ecu%29+-%3E+str%3A%0A++++++++try%3A%0A++++++++++++application_check+%3D+await+odx_read_data%28node_name%3Decu.name%2C+data_name%3DAPPLICATION_STATE_DID%29%0A++++++++++++data+%3D+application_check%5B%27data%27%5D%0A++++++++++++if+data%5BFIRMWARE_TYPE%5D+%3D%3D+0%3A%0A++++++++++++++++return+APPLICATION_STATE%0A++++++++++++if+data%5BFIRMWARE_TYPE%5D+%3D%3D+1%3A%0A++++++++++++++++return+BOOTLOADER_STATE%0A++++++++++++return+UNKNOWN_STATE%0A++++++++except+Exception+as+e%3A%0A++++++++++++await+capture%28metric_name%3D%27Application+state+unreadable%27%2C%0A++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++metadata%3D%7B%27Fail+metadata%27%3A+str%28e%29%7D%2C%0A++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++++++return+UNKNOWN_STATE%0A++++async+def+step_with_retries%28func%2C+retry_count%3A+int%2C+retry_sleep_interval%3A+int%2C+%2A%2Akwargs%3A+dict%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++retries+%3D+0%0A++++++++while+retries+%3C+retry_count%3A%0A++++++++++++step+%3D+await+func%28%2A%2Akwargs%29%0A++++++++++++retries+%2B%3D+1%0A++++++++++++sleep%28retry_sleep_interval%29%0A++++++++++++if+step.passed%3A%0A++++++++++++++++break%0A++++++++return+step%0A++++async+def+check_security_level%28%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++diag_level%3Dawait+can_signal_monitor%28signal_name%3DDIAG_LEVEL_SIGNAL%2C+timeout%3DCAN_SIGNAL_TIMEOUT%29%0A++++++++diag_level%3Ddiag_level%5B%27current%27%5D%0A++++++++if+diag_level+in+ACCEPTABLE_DIAG_LEVELS%3A%0A++++++++++++step.passed%3DTrue%0A++++++++else%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3D%27Please+ensure+you+are+locally+connected+to+the+vehicle.+A+powered+diagnostic+cable+must+be+plugged+into+the+diagnostic+port+to+unlock+the+gateway+during+the+restoration+procedure.%27%0A++++++++return+step%0A++++async+def+check_serial_number%28backup%3A+dict%2C+ecu%3A+Ecu%2C+operation%3A+str%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++try%3A%0A++++++++++++if+operation%3D%3DOperation.MANUAL_BACKUP.value%3A%0A++++++++++++++++backed_up_board_sn%3Dbackup%5BBoardSerialNumber%28ecu%29.data_name%5D%0A++++++++++++++++present_board_sn%3Dawait+BoardSerialNumber%28ecu%29.read_instructions%28%29%0A++++++++++++++++present_board_sn%3Dpresent_board_sn%5BBoardSerialNumber%28ecu%29.data_name%5D%0A++++++++++++++++if+backed_up_board_sn%3D%3Dpresent_board_sn%3A%0A++++++++++++++++++++step.passed%3DTrue%0A++++++++++++++++else%3A%0A++++++++++++++++++++step.passed%3DFalse%0A++++++++++++++++++++step.failure_description%3Df%27%7Becu.name%7D+board+serial+number+does+not+match+what+is+stored+in+the+backup.+Ensure+the+backup+is+taken+on+the+old+%7Becu.name%7D+being+replaced%2C+not+the+new+%7Becu.name%7D.%27%0A++++++++++++else%3A%0A++++++++++++++++step.passed+%3D+True%0A++++++++except+KeyError%3A%0A++++++++++++if+operation+%3D%3D+Operation.MANUAL_BACKUP.value+or+operation+%3D%3D+Operation.PERIODIC_BACKUP.value%3A%0A++++++++++++++++step.passed+%3D+True%0A++++++++++++elif+operation+%3D%3D+Operation.RESTORE.value%3A%0A++++++++++++++++step.passed+%3D+False%0A++++++++++++++++step.failure_description+%3D+f%27Backup+for+%7Becu.name%7D+does+not+exist.+Please+backup+before+attempting+to+restore.%27%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed+%3D+False%0A++++++++++++step.failure_description+%3D+f%27%7Becu.name%7D+data+cannot+be+read.+Ensure+%7Becu.name%7D+is+powered+and+responsive.+If+restoring%2C+ensure+that+you+are+still+locally+connected+to+the+vehicle+and+try+again.+Exception%3A+%7Be%7D%27%0A++++++++finally%3A%0A++++++++++++try%3A%0A++++++++++++++++Operation%28operation%29%0A++++++++++++except+ValueError%3A%0A++++++++++++++++step.passed+%3D+False%0A++++++++++++++++step.failure_description+%3D+f%27%7Boperation%7D+is+not+a+valid+operation.+Ensure+the+operation+selected+is+PERIODIC_BACKUP%2C+MANUAL_BACKUP%2C+or+RESTORE.%27%0A++++++++return+step+%0A++++async+def+append_backup_metadata%28ecu%3A+Ecu%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++backup%3D%7B%7D%0A++++++++try%3A%0A++++++++++++backup.update%28%7BEPOCH_TIME%3A+time%28%29%7D%29%0A++++++++++++backup.update%28%7B%27READABLE_TIME%27%3A+strftime%28%27%25Y-%25m-%25d+%25H%3A%25M%3A%25S%27%2C+localtime%28%29%29%7D%29%0A++++++++++++backup.update%28await+BoardSerialNumber%28ecu%29.read_instructions%28%29%29%0A++++++++++++backup.update%28await+BoardPartNumber%28ecu%29.read_instructions%28%29%29%0A++++++++++++step.passed%3DTrue%0A++++++++++++step.output%3Dbackup%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Unable+to+create+backup.+Ensure+%7Becu.name%7D+is+powered+and+responsive.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+save_backup%28backup%3A+dict%2C+file_path%3A+str%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++try%3A%0A++++++++++++await+save_data%28filename%3Dfile_path%2C+data%3Dbackup%29%0A++++++++++++step.passed%3DTrue%0A++++++++++++step.output%3Dbackup%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Unable+to+save+backup.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+load_backup%28file_path%3A+str%2C+operation%3A+str%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++backup%3D%7B%7D%0A++++++++try%3A%0A++++++++++++backup+%3D+await+load_data%28filename%3Dfile_path%29%0A++++++++++++backup+%3D+backup%5B%27data%27%5D%0A++++++++++++step.passed%3DTrue%0A++++++++++++step.output%3Dbackup%0A++++++++except+FileNotFoundError%3A%0A++++++++++++if+operation+%3D%3D+Operation.MANUAL_BACKUP.value+or+operation+%3D%3D+Operation.PERIODIC_BACKUP.value%3A%0A++++++++++++++++step.passed%3DTrue%0A++++++++++++++++step.output%3Dbackup%0A++++++++++++else%3A%0A++++++++++++++++step.passed%3DFalse%0A++++++++++++++++step.failure_description%3Df%27No+backup+present%2C+please+ensure+a+backup+is+taken+before+a+restore+is+attempted.%27%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Unable+to+load+backup.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+collect_ecu_data%28backup%3A+dict%2C+tla%3A+list%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++try%3A%0A++++++++++++for+ecu+in+tla%3A%0A++++++++++++++++ecu_data%3D%7B%7D%0A++++++++++++++++for+data+in+ecu.data%3A%0A++++++++++++++++++++ecu_data.update%28await+data.read_instructions%28%2A%2Abackup%29%29%0A++++++++++++++++backup.update%28%7Becu.name%3A+ecu_data%7D%29%0A++++++++++++step.passed%3DTrue%0A++++++++++++step.output%3Dbackup%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.output%3Dbackup%0A++++++++++++step.failure_description%3Df%27Unable+to+backup+all+information.+Ensure+%7Becu.name%7D+is+powered+and+responsive.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+restore_bootloader%28backup%3A+dict%2C+ecu%3A+Ecu%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++try%3A%0A++++++++++++async+with+ecu_tester_present%28uds_node_name%3Decu.name%2C%0A++++++++++++++++++++++++++++++++++++++++++interval%3DTP_INTERVAL%29%3A%0A++++++++++++++++await+ensure_power_state%28power_state%3Decu.bootloader_write_power_state%2C%0A+++++++++++++++++++++++++++++++++++++++++request_retries%3DPOWER_STATE_RETRY_COUNT%2C%0A+++++++++++++++++++++++++++++++++++++++++timeout%3DPOWER_STATE_TIMEOUT_SECONDS%29%0A++++++++++++++++await+ecu_reset%28node_name%3Decu.name%2C%0A++++++++++++++++++++++++++++++++response_required%3DTrue%29%0A++++++++++++++++await+ensure_application_state%28application_state%3DBOOTLOADER_STATE%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++bootloader_backoff%3DBOOTLOADER_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++default_wait%3DDEFAULT_WAIT%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++initial_backoff%3DINITIAL_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++node_name%3Decu.name%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++timeout%3DAPPLICATION_STATE_TIMEOUT%29%0A++++++++++++++++await+ecu.bootloader_pre_restore_actions%28%2A%2Abackup%29%0A++++++++++++++++for+data+in+ecu.bootloader_data%3A%0A++++++++++++++++++++await+data.write_instructions%28%2A%2Abackup%29%0A++++++++++++++++await+ecu.bootloader_post_restore_actions%28%2A%2Abackup%29%0A++++++++++++await+ecu_reset%28node_name%3Decu.name%2C%0A++++++++++++++++++++++++++++++++response_required%3DTrue%29%0A++++++++++++step.passed%3DTrue%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Could+not+restore+%7Becu.name%7D+bootloader+data%2C+data+was+unable+to+be+written.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+update%28%29+-%3E+Step%3A%0A++++++++step%3DStep%28%29%0A++++++++try%3A%0A++++++++++++pre_redeploy_status+%3D+await+get_data_value_until%28data_name%3D%27GUI_softwareUpdateState%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pass_value%3D%27InstallInit%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++operator%3D0%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++timeout%3DCAN_REDEPLOY_TIMEOUT_SECONDS%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++sleep%3DCAN_REDEPLOY_TIMEOUT_CHECK_INTERVAL_SECONDS%29%0A++++++++++++if+pre_redeploy_status%5B%27passed%27%5D+and+not+pre_redeploy_status%5B%27timed_out%27%5D%3A%0A++++++++++++++++await+capture%28metric_name%3D%27pre+redeploy+update+state%27%2C%0A++++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++++metadata%3D%7B%27pre-redploy+state%27%3A+pre_redeploy_status%7D%2C%0A++++++++++++++++++++++++++++result_code%3Dapi.metric_result.Pass%29%0A++++++++++++++++await+run_subnetwork%28%27Gen3%2Ftasks%2FUPDATE_CAN-REDEPLOY%27%29%0A++++++++++++post_redeploy_status+%3D+await+get_data_value_until%28data_name%3D%27GUI_softwareUpdateState%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++pass_value%3D%27InstallInit%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++operator+%3D+0%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++timeout%3DCAN_REDEPLOY_TIMEOUT_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++sleep%3DCAN_REDEPLOY_TIMEOUT_CHECK_INTERVAL_SECONDS%29%0A++++++++++++await+capture%28metric_name%3D%27post+redeploy+update+state%27%2C%0A++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++metadata%3D%7B%27post+redeploy+state%27%3A+post_redeploy_status%7D%2C%0A++++++++++++++++++++++++++result_code%3Dapi.metric_result.Pass%29%0A++++++++++++keep_awake_removal_status+%3D+await+execute_application%28path%3D%27%2Fusr%2Fsbin%2Fgw-diag%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++whitelist_chars%3D%27_%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++args%3D%5B%27OTA_KEEP_AWAKE%27%2C+%270%27%5D%29%0A++++++++++++success+%3D+post_redeploy_status%5B%27passed%27%5D+and+not+post_redeploy_status%5B%27timed_out%27%5D+and+%2701%27+in+keep_awake_removal_status%5B%27stdout%27%5D%0A++++++++++++if+success%3A%0A++++++++++++++++step.passed%3DTrue%0A++++++++++++else%3A%0A++++++++++++++++step.passed%3DFalse%0A++++++++++++++++step.failure_description%3D%27Application+update+unsuccessful.+If+there+is+a+firmware+update+already+staged%2C+please+hammer+it+and+attempt+to+restore+again.%27%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Unable+to+start+application+update.+If+there+is+a+firmware+update+already+staged%2C+please+hammer+it+and+attempt+to+restore+again.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+restore_application%28backup%3A+dict%2C+ecu%3A+Ecu%29+-%3E+Step%3A%0A++++++++step+%3D+Step%28%29%0A++++++++try%3A%0A++++++++++++await+ensure_power_state%28power_state%3Decu.application_write_power_state%2C%0A+++++++++++++++++++++++++++++++++++++request_retries%3DPOWER_STATE_RETRY_COUNT%2C%0A+++++++++++++++++++++++++++++++++++++timeout%3DPOWER_STATE_TIMEOUT_SECONDS%29%0A++++++++++++await+ensure_application_state%28application_state%3DAPPLICATION_STATE%2C%0A+++++++++++++++++++++++++++++++++++++++++++bootloader_backoff%3DBOOTLOADER_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++default_wait%3DDEFAULT_WAIT%2C%0A+++++++++++++++++++++++++++++++++++++++++++initial_backoff%3DINITIAL_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++node_name%3Decu.name%2C%0A+++++++++++++++++++++++++++++++++++++++++++timeout%3DAPPLICATION_STATE_TIMEOUT%29%0A++++++++++++await+ecu.application_pre_restore_actions%28%2A%2Abackup%29%0A++++++++++++for+data+in+ecu.application_data%3A%0A++++++++++++++++await+data.write_instructions%28%2A%2Abackup%29%0A++++++++++++await+ecu.application_post_restore_actions%28%2A%2Abackup%29%0A++++++++++++step.passed+%3D+True%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed+%3D+False%0A++++++++++++step.failure_description%3Df%27Could+not+restore+%7Becu.name%7D+application+data%2C+data+was+unable+to+be+written.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+teardown%28tla%3A+list%2C+step%3A+Step%2C+operation%3A+str%29+-%3E+service_output%3A%0A++++++++out+%3D+service_output%28%29%0A++++++++if+step.passed%3A%0A++++++++++++out.set_user_facing_msg%28%27Restore+and+update+completed+successfully.%27%29+if+operation%3D%3DOperation.RESTORE.value+else+out.set_user_facing_msg%28f%27%7Boperation%7D+completed+successfully.%27%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++++++await+capture%28metric_name%3D%27Procedure+pass+debug%27%2C%0A++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++metadata%3D%7B%27Pass+metadata%27%3A+step.output%7D%2C%0A++++++++++++++++++++++++++result_code%3Dapi.metric_result.Pass%29%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28step.failure_description%29%0A++++++++++++for+ecu+in+tla%3A%0A++++++++++++++++out.add_data%28name%3Df%22%7Becu.name%7D+Application+State+at+Time+of+Failure%22%2Cdata_type%3Dstr%2Cdata%3Dawait+get_application_state%28ecu%29%29%0A++++++++++++diag_level%3Dawait+can_signal_monitor%28signal_name%3DDIAG_LEVEL_SIGNAL%2Ctimeout%3DCAN_SIGNAL_TIMEOUT%29%0A++++++++++++power_state%3Dawait+can_signal_monitor%28signal_name%3DPOWER_STATE_SIGNAL%2Ctimeout%3DCAN_SIGNAL_TIMEOUT%29%0A++++++++++++diag_level%3Ddiag_level%5B%27current%27%5D%0A++++++++++++power_state%3Dpower_state%5B%27current%27%5D%0A++++++++++++out.add_data%28name%3D%22Diag+Level%22%2Cdata_type%3Dstr%2Cdata%3Dstr%28diag_level%29%29%0A++++++++++++out.add_data%28name%3D%22Vehicle+Power+State%22%2Cdata_type%3Dstr%2Cdata%3Dstr%28power_state%29%29%0A++++++++++++await+capture%28metric_name%3D%27Procedure+failure+debug%27%2C%0A++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++metadata%3D%7B%27Failure+output%27%3A+step.failure_description%2C%0A++++++++++++++++++++++++++++++++++%27Failure+metadata%27%3A+step.output%7D%2C%0A++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++return+out%0A++++ecu_module.Operation%3DOperation%0A++++ecu_module.Step%3DStep%0A++++ecu_module.Ecu%3DEcu%0A++++ecu_module.Data%3DData%0A++++ecu_module.BoardSerialNumber%3DBoardSerialNumber%0A++++ecu_module.BoardPartNumber%3DBoardPartNumber%0A++++ecu_module.is_backup_old%3Dis_backup_old%0A++++ecu_module.step_with_retries%3Dstep_with_retries%0A++++ecu_module.check_security_level%3Dcheck_security_level%0A++++ecu_module.check_serial_number%3Dcheck_serial_number%0A++++ecu_module.append_backup_metadata%3Dappend_backup_metadata%0A++++ecu_module.save_backup%3Dsave_backup%0A++++ecu_module.load_backup%3Dload_backup%0A++++ecu_module.collect_ecu_data%3Dcollect_ecu_data%0A++++ecu_module.restore_bootloader%3Drestore_bootloader%0A++++ecu_module.update%3Dupdate%0A++++ecu_module.restore_application%3Drestore_application%0A++++ecu_module.teardown%3Dteardown%0A++++return+ecu_module
		../../odin_bundle/networks/Gen3/scripts/PROC_ICE_X_REMOTE-SET-CONFIGS.py
			async+def+odin_script_test%28api%2C+config_params%3A+list%2C+reboot_gtw%3A+bool%2C+reboot_ice%3A+bool%2C+refresh_only%3A+bool%2C+skip_vin_verify%3A+bool%29%3A%0A++++from+base64+import+b16decode%0A++++capture+%3D+api.reporting.capture_metric%0A++++gdv_node+%3D+api.cid.get_data_value%0A++++http_node+%3D+api.cid.car_server_request%0A++++get_vitals+%3D+api.cid.get_vitals%0A++++execute_node+%3D+api.cid.execute_application%0A++++reboot_gtw_node+%3D+api.cid.emit_reboot_gateway%0A++++reboot_cid_node+%3D+api.cid.reboot_cid%0A++++run_subnet+%3D+api.subnetwork.run_reference%0A++++dbus_set_config+%3D+api.cid.set_vehicle_config%0A++++RETRIES+%3D+3%0A++++REBOOT_DELAY+%3D+5%0A++++ALLOWED_SHIFT_STATES+%3D+%5B%27P%27%2C%27%3Cinvalid%3E%27%5D%0A++++overall_result+%3D+0%0A++++config_changed+%3D+False%0A++++post_vitals+%3D+False%0A++++must_reboot_gtw+%3D+False%0A++++msg+%3D+%5B%5D%0A++++verify_vin_task+%3D+%27Gen3%2Flib%2FPROC_VCSEC_X_GET-LEARNED-VIN%27%0A++++PASS+%3D+0%0A++++FAIL+%3D+1%0A++++async+def+report_complete%28msg%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3D%27Complete%27%2C%0A++++++++++++value+%3D+msg%2C%0A++++++++++++result_code%3D0%0A++++%29%0A++++async+def+report_config_error%28msg%2C+metadata%3D%7B%7D%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3D%27Set+Config+Error%27%2C%0A++++++++++++value+%3D+msg%2C%0A++++++++++++metadata+%3D+metadata%2C%0A++++++++++++result_code%3D1%0A++++%29%0A++++async+def+report_failure%28msg%2C+metadata%3D%7B%7D%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3D%27Failed%27%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++metadata%3Dmetadata%2C%0A++++++++++++result_code%3D1%0A++++%29%0A++++async+def+standby_refresh%28msg%29%3A%0A++++++++for+_+in+range%28RETRIES%29%3A%0A++++++++++++try%3A%0A++++++++++++++++resp+%3D+await+http_node%28%0A++++++++++++++++++++command%3D%27car_configuration_changed%27%2C%0A++++++++++++++++++++host%3D%27localhost%27%2C%0A++++++++++++++++++++method%3D%27get%27%2C%0A++++++++++++++++++++server%3D%27center_display%27%2C%0A++++++++++++++++++++timeout%3D%2710%27%2C%0A++++++++++++++++++++params%3D%7B%27reason%27%3A+msg%7D%0A++++++++++++++++%29%0A++++++++++++except+Exception+as+err%3A%0A++++++++++++++++await+report_failure%28f%27HTTP+request+for+Standby+Refresh+failed%27%2C+%7B%27response%27%3A+err%7D%29%0A++++++++++++++++continue%0A++++++++++++else%3A%0A++++++++++++++++return+resp%0A++++++++return+False%0A++++async+def+gtw_api%28method%2C+params%29%3A%0A++++++++if+method.lower%28%29+%21%3D+%27set%27%3A%0A++++++++++++command+%3D+%27get_vehicle_configuration%27%0A++++++++else%3A%0A++++++++++++command+%3D+%27set_vehicle_configuration%27%0A++++++++for+_+in+range%28RETRIES%29%3A%0A++++++++++++try%3A%0A++++++++++++++++if+command+%3D%3D+%22set_vehicle_configuration%22%3A%0A++++++++++++++++++++resp+%3D+await+dbus_set_config%28%0A++++++++++++++++++++++++configid%3Dparams.configid%2C%0A++++++++++++++++++++++++data%3Dparams.data%2C%0A++++++++++++++++++++++++signature%3Dparams.get%28%22signature%22%2C+%22%22%29%0A++++++++++++++++++++%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++resp+%3D+await+http_node%28%0A++++++++++++++++++++++++command%3Dcommand%2C%0A++++++++++++++++++++++++host%3D%27localhost%27%2C%0A++++++++++++++++++++++++method%3D%27get%27%2C%0A++++++++++++++++++++++++server%3D%27carserver%27%2C%0A++++++++++++++++++++++++timeout%3D%2710%27%2C%0A++++++++++++++++++++++++params%3Dparams%0A++++++++++++++++++++%29%0A++++++++++++except+Exception+as+err%3A%0A++++++++++++++++await+report_failure%28f%27%7Bcommand%7D+failed%27%2C+%7B%27response%27%3A+err%2C+%27inputs%27%3A+params%7D%29%0A++++++++++++++++continue%0A++++++++++++else%3A%0A++++++++++++++++return+resp%0A++++++++return+False%0A++++try%3A%0A++++++++resp+%3D+await+get_vitals%28%29%0A++++++++vitals+%3D+resp%5B%27vitals%27%5D%0A++++except+Exception+as+err%3A%0A++++++++if+err%3A%0A++++++++++++message+%3D+f%22Error+occurred+while+requesting+vitals%3A+%7Berr%7D%22%0A++++++++else%3A%0A++++++++++++message+%3D+%22Car+Server+did+not+respond+to+the+vitals+request%22%0A++++++++await+report_failure%28message%2C+conf%29%0A++++++++return+FAIL%0A++++new_vin+%3D+%5Bc.get%28%27data%27%2C+None%29+for+c+in+config_params+if+c.get%28%27configid%27%2C+None%29+%3D%3D+0%5D%0A++++if+new_vin+and+not+skip_vin_verify%3A%0A++++++++ascii_vin+%3D+b16decode%28new_vin%5B0%5D%29.decode%28%29%0A++++++++try%3A%0A++++++++++++r+%3D+await+run_subnet%28verify_vin_task%29%0A++++++++++++vcsec_vin+%3D+r.get%28%27VIN_ascii%27%2C+None%29%0A++++++++except+Exception+as+err%3A%0A++++++++++++await+report_failure%28%22Unable+to+verify+the+VIN%22%2C+%7B%27response%27%3A+err%7D%29%0A++++++++++++return+FAIL%0A++++++++if+not+vcsec_vin+or+len%28vcsec_vin%29+%3C+17%3A%0A++++++++++++await+report_failure%28%22Invalid+response+from+VCSEC%22%2C+%7B%27response%27%3A+r%7D%29%0A++++++++++++return+FAIL%0A++++++++elif+vcsec_vin+%21%3D+ascii_vin%3A%0A++++++++++++await+report_failure%28f%22VIN+Mismatch%2C+VCSEC+%7Bvcsec_vin%7D+does+not+match+input+%7Bascii_vin%7D%22%29%0A++++++++++++return+FAIL%0A++++for+conf+in+config_params%3A%0A++++++++try%3A%0A++++++++++++target_id+%3D+conf%5B%27configid%27%5D%0A++++++++++++target_config+%3D+conf%5B%27data%27%5D%0A++++++++except%3A%0A++++++++++++await+report_failure%28%22Config+bundle+does+not+contain+configid+and+data%22%2C+%7Bconf%7D%29%0A++++++++++++return+FAIL%0A++++++++if+%7Bkey+in+conf+for+key+in+%5B%27vitals_cfg_name%27%2C%27vitals_cfg_value%27%2C%27expected_dv_name%27%2C%27expected_dv_value%27%5D%7D%3A%0A++++++++++++params+%3D+%7B%27configid%27%3A+target_id%7D%0A++++++++++++resp+%3D+await+gtw_api%28%27get%27%2C+params%29%0A++++++++++++if+resp+and+resp%5B%27response%27%5D%5B%27result%27%5D+%3D%3D+True%3A%0A++++++++++++++++current_config+%3D+resp%5B%27response%27%5D%5B%27value%27%5D%0A++++++++++++else%3A%0A++++++++++++++++await+report_failure%28%22Unable+to+read+gateway+config%22%2C+%7B%27response%27%3A+resp%7D%29%0A++++++++++++++++return+FAIL%0A++++++++++++if+current_config+%3D%3D+target_config%3A%0A++++++++++++++++if+%27vitals_cfg_name%27+in+conf+and+%27vitals_cfg_value%27+in+conf%3A%0A++++++++++++++++++++expected_vitals_cfg+%3D+conf%5B%27vitals_cfg_name%27%5D%0A++++++++++++++++++++expected_vitals_val+%3D+conf%5B%27vitals_cfg_value%27%5D%0A++++++++++++++++++++try%3A%0A++++++++++++++++++++++++current_vitals_val+%3D+vitals%5Bexpected_vitals_cfg%5D%0A++++++++++++++++++++except+Exception+as+err%3A%0A++++++++++++++++++++++++await+report_failure%28f%22Error+occurred+fetching+%7Bexpected_vitals_cfg%7D+from+vitals%22%2C+%7B%27config%27%3A+conf%2C+%27response%27%3A+err%7D%29%0A++++++++++++++++++++++++return+FAIL%0A++++++++++++++++++++if+expected_vitals_val+%3D%3D+current_vitals_val%3A%0A++++++++++++++++++++++++post_vitals+%3D+True%0A++++++++++++++++++++++++msg.append%28f%22Vitals+config+%7Bexpected_vitals_cfg%7D+already+matches+%7Bexpected_vitals_val%7D%22%29%0A++++++++++++++++++++++++continue%0A++++++++++++++++if+%27expected_dv_name%27+in+conf+and+%27expected_dv_value%27+in+conf%3A%0A++++++++++++++++++++expected_dv+%3D+conf%5B%27expected_dv_name%27%5D%0A++++++++++++++++++++expected_val+%3D+conf%5B%27expected_dv_value%27%5D%0A++++++++++++++++++++try%3A%0A++++++++++++++++++++++++resp+%3D+await+gdv_node%28data_name%3Dexpected_dv%29%0A++++++++++++++++++++++++current_val+%3D+resp%5B%27value%27%5D%0A++++++++++++++++++++except+Exception+as+err%3A%0A++++++++++++++++++++++++await+report_failure%28f%22Error+occurred+reading+%7Bexpected_dv%7D%3A+%7Berr%7D%22%2C+conf%29%0A++++++++++++++++++++++++return+1%0A++++++++++++++++++++if+current_val+%3D%3D+expected_val%3A%0A++++++++++++++++++++++++msg.append%28f%22Config+ID+%7Btarget_id%7D+is+already+%7Btarget_config%7D+and+%7Bexpected_dv%7D+matches+%7Bexpected_val%7D%22%29%0A++++++++++++++++++++++++config_changed+%3D+True%0A++++++++++++++++++++++++continue%0A++++++++params+%3D+%7B%0A++++++++++++%27configid%27%3A+target_id%2C%0A++++++++++++%27data%27%3A+target_config%2C%0A++++++++%7D%0A++++++++if+%27signature%27+in+conf%3A%0A++++++++++++params%5B%27signature%27%5D+%3D+conf%5B%27signature%27%5D%0A++++++++resp+%3D+await+gtw_api%28%27set%27%2C+params%29%0A++++++++if+resp+and+resp%5B%27response%27%5D%5B%27dbus_result%27%5D+%3D%3D+True%3A%0A++++++++++++config_changed+%3D+True%0A++++++++++++msg.append%28f%22Config+ID+%7Btarget_id%7D+set+to+%7Btarget_config%7D%22%29%0A++++++++else%3A%0A++++++++++++await+report_config_error%28resp%2C+params%29%0A++++++++++++overall_result+%3D+FAIL%0A++++if+config_changed%3A%0A++++++++if+reboot_gtw+or+reboot_ice%3A%0A++++++++++++try%3A%0A++++++++++++++++r+%3D+await+gdv_node%28data_name%3D%27VAPI_shiftState%27%29%0A++++++++++++++++shift_state+%3D+r%5B%27value%27%5D%0A++++++++++++++++r+%3D+await+gdv_node%28data_name%3D%27VAPI_driveRailOn%27%29%0A++++++++++++++++drive_rail_on+%3D+r%5B%27value%27%5D%0A++++++++++++except+Exception+as+err%3A%0A++++++++++++++++++++await+report_failure%28%22Configuration+set+but+error+occurred+verifying+vehicle+state%2C+gateway+and+UI+will+not+reboot%22%2C+%7B%27response%27%3A+err%7D%29%0A++++++++++++++++++++return+FAIL%0A++++++++++++if+not+shift_state+in+ALLOWED_SHIFT_STATES%3A%0A++++++++++++++++await+report_failure%28%22Configuration+set+but+unable+to+reboot+due+to+vehicle+gear%22%2C+%7B%27gear%27%3A+shift_state%7D%29%0A++++++++++++++++return+FAIL%0A++++++++++++elif+reboot_gtw+and+drive_rail_on+%3D%3D+%27true%27%3A%0A++++++++++++++++await+report_failure%28%22Configuration+set+but+unable+to+reboot+due+to+vehicle+drive+state%22%29%0A++++++++++++++++return+FAIL%0A++++++++++++else%3A%0A++++++++++++++++if+reboot_gtw%3A%0A++++++++++++++++++++resp+%3D+await+reboot_gtw_node%28delay%3DREBOOT_DELAY%29%0A++++++++++++++++++++msg.append%28%22Gateway+reboot+requested%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++resp+%3D+await+execute_node%28path%3D%22%2Fusr%2Fsbin%2Fgw-diag%22%2C+user%3D%22root%22%2C+whitelist_chars%3D%22_%22%2C+args%3D%5B%27REFRESH_CONFIG_MSG%27%5D%2C+timeout%3D10%29%0A++++++++++++++++++++resp+%3D+await+reboot_cid_node%28delay%3DREBOOT_DELAY%29%0A++++++++++++++++++++msg.append%28%22Gateway+refreshed+and+ICE+reboot+requested%22%29%0A++++++++elif+refresh_only%3A%0A++++++++++++resp+%3D+await+execute_node%28path%3D%22%2Fusr%2Fsbin%2Fgw-diag%22%2C+user%3D%22root%22%2C+whitelist_chars%3D%22_%22%2C+args%3D%5B%27REFRESH_CONFIG_MSG%27%5D%2C+timeout%3D10%29%0A++++++++++++msg.append%28%22Gateway+refreshed+without+reboot%22%29%0A++++++++else%3A%0A++++++++++++resp+%3D+await+standby_refresh%28%27mothership_gtw_change%27%29%0A++++++++++++if+not+resp%3A%0A++++++++++++++++overall_result+%3D+FAIL%0A++++++++++++msg.append%28%22Standby+Refresh+requested%22%29%0A++++elif+post_vitals%3A%0A++++++++r+%3D+await+execute_node%28path%3D%22%2Fusr%2Ftesla%2FUI%2Fbin%2Fmothership.sh%22%2C+user%3D%22root%22%2C+args%3D%5B%27vitals%27%5D%2C+timeout%3D15%29%0A++++++++if+r.get%28%27exit_status%27%2C1%29+%21%3D+0%3A%0A++++++++++++await+report_failure%28%22Error+posting+vitals%22%2C+%7B%27response%27%3A+r%7D%29%0A++++++++++++overall_result+%3D+1%0A++++++++else%3A%0A++++++++++++msg.append%28%27No+configuration+change+needed%2C+pushing+vitals+to+Mothership%27%29%0A++++await+report_complete%28msg%29%0A++++return+overall_result
		../../odin_bundle/networks/Gen3/scripts/MODULE_HVC-REPLACEMENT.py
			async+def+make_module%28api%29%3A%0A++++from+types+import+ModuleType%0A++++from+asyncio+import+sleep%0A++++ecu_module+%3D+await+api.import_module%28%22Gen3%2Fscripts%2FMODULE_ECU-REPLACEMENT%22%29%0A++++hvc_module+%3D+ModuleType%28%22Gen3.scripts.MODULE_HVC_X_ECU-REPLACEMENT%22%29%0A++++odx_start_routine%3Dapi.odx.odx_start_routine%0A++++odx_request_results%3Dapi.odx.odx_request_results%0A++++odx_write_data%3Dapi.odx.odx_write_data%0A++++odx_read_data%3Dapi.odx.odx_read_data%0A++++ecu_reset%3Dapi.uds.uds_ecu_reset%0A++++ecu_tester_present%3Dapi.uds.uds_tester_present_context%0A++++ensure_power_state%3Dapi.vehiclecontrols.ensure_power_state%0A++++ensure_application_state%3Dapi.vehiclecontrols.ensure_application_state%0A++++capture%3Dapi.reporting.capture_metric%0A++++COMPONENT_NAME+%3D+%27HVC%27%0A++++BACKUP_FILE_PATH%3Df%27%2Fhome%2Fodin%2Fecu_backup%2F%7BCOMPONENT_NAME%7D-backup.json%27%0A++++BACKUP_EXPIRY_SECONDS+%3D+1800+%0A++++HVC_BASE_SEVEN+%3D+%271106394%27%0A++++HVC_REVISION_AGNOSTIC+%3D+%5B%27P%27%2C+%27R%27%2C+%27T%27%5D%0A++++HVC_REVISION_BUCKETS+%3D+%5B%0A++++++++++++%7B%2701-F%27%2C+%2701-G%27%2C+%2791-G%27%7D%2C+++++++++++++++++++++++++%0A++++++++++++%7B%2701-H%27%2C+%2711-H%27%7D%2C+++++++++++++++++++++++++++++++++%0A++++++++++++%7B%2701-L%27%2C+%2711-L%27%2C+%2721-L%27%2C+%2721-N%27%2C+%2731-L%27%2C+%2731-N%27%7D%2C+%0A++++++++++++%7B%2702-F%27%2C+%2702-G%27%2C+%2792-G%27%7D%2C+++++++++++++++++++++++++%0A++++++++++++%7B%2702-H%27%2C+%2712-H%27%7D%2C+++++++++++++++++++++++++++++++++%0A++++++++++++%7B%2702-L%27%2C+%2712-L%27%2C+%2722-L%27%2C+%2722-N%27%2C+%2732-N%27%7D%2C+++++++++%0A++++++++++++%7B%2703-N%27%2C+%2713-N%27%2C+%2733-N%27%7D%2C+++++++++++++++++++++++++%0A++++++++++++%7B%2723-L%27%2C+%2733-L%27%7D++++++++++++++++++++++++++++++++++%0A++++++++%5D%0A++++TP_INTERVAL+%3D+0.08%0A++++APPLICATION_STATE+%3D+%27APPLICATION%27%0A++++APPLICATION_STATE_TIMEOUT+%3D+7%0A++++BOOTLOADER_STATE+%3D+%27BOOTLOADER%27%0A++++POWER_STATE_RETRY_COUNT+%3D+200%0A++++POWER_STATE_TIMEOUT_SECONDS+%3D+60%0A++++BOOTLOADER_BACKOFF+%3D+2%0A++++HARD_RESET_TYPE+%3D+%22HARD_RESET%22%0A++++INITIAL_BACKOFF+%3D+0.5%0A++++DIFFERENCE_TOLERANCE+%3D+0.01%0A++++DEFAULT_WAIT+%3D+0.5%0A++++class+Hvbms%28ecu_module.Ecu%29%3A%0A++++++++calibration_records+%3D+%5B0%2C1%2C6%5D%0A++++++++module_records+%3D+%5B%27BIRTH_EPOCH_TIME%27%2C+%27DISCHARGE_TOTAL_KWH%27%2C+%27CHARGE_TOTAL_KWH%27%2C+%27AC_CHARGE_KWH%27%2C+%27DC_CHARGE_KWH%27%5D%0A++++++++energy_records+%3D+%5B%27DISCHARGE_TOTAL_KWH%27%2C+%27DRIVE_DISCHARGE_KWH%27%2C+%27CHARGE_TOTAL_KWH%27%2C+%27AC_CHARGE_KWH%27%2C+%27DC_CHARGE_KWH%27%2C+%27REGEN_CHARGE_KWH%27%2C+%27DISCHARGE_AH%27%2C+%27CHARGE_AH%27%5D%0A++++++++module_group_limit+%3D+4%0A++++++++brick_group_limits+%3D+%7B%27CAC%27%3A96%2C%27SOC%27%3A96%2C%27BLEED_TIME%27%3A48%7D%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.name%3D%27HVBMS%27%0A++++++++++++self.bootloader_write_power_state%3D%27CONTACTORS_OPEN%27%0A++++++++++++self.application_write_power_state%3D%27CONTACTORS_OPEN%27%0A++++++++++++self.bootloader_data%3D%5BAssemblyId%28self%29%2C++++++++++++++++++++++++++++++++++UsageId%28self%29%2C++++++++++++++++++++++++++++++++++ConfigurationRecord%28self%29%2C++++++++++++++++++++++++++++++++++CalibrationRecords%28self%29%2C++++++++++++++++++++++++++++++++++PackagePartNumber%28self%29%2C++++++++++++++++++++++++++++++++++PackageSerialNumber%28self%29%5D%0A++++++++++++self.application_data%3D%5BEnergyCounters%28self%29%2C+++++++++++++++++++++++++++++++++++BrickInfo%28self%29%2C+++++++++++++++++++++++++++++++++++ModuleInfo%28self%29%5D+%0A++++++++++++self.data%3Dself.application_data+%2B+self.bootloader_data%0A++++++++++++self.compare_blocklist%3D%5B%5D%0A++++++++async+def+bootloader_pre_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++await+odx_start_routine%28node_name%3Dself.name%2C+routine_name%3D%27INIT_CONFIGURATION_BLOCK%27%29%0A++++++++++++await+odx_start_routine%28node_name%3Dself.name%2C+routine_name%3D%27INIT_CALIBRATION_BLOCK%27%29%0A++++++++++++return+None%0A++++++++async+def+bootloader_post_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++if+%27CALIBRATION_RECORD_6%27+not+in+backup%5Bself.name%5D+or+backup%5Bself.name%5D%5B%27CALIBRATION_RECORD_6%27%5D+%3D%3D+int%28%22FFFFFFFF%22%2C+16%29%3A%0A++++++++++++++++await+odx_write_data%28node_name%3Dself.name%2C+data_name%3D%27HVC_CALIBRATION_RECORD_6%27%2C+data%3D%7B%27CALIBRATION_RECORD_6%27%3A+1%7D%29%0A++++++++++++self.compare_blocklist.append%28%27CALIBRATION_RECORD_6%27%29%0A++++++++++++return+None%0A++++++++async+def+application_post_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++backup_old+%3D+await+ecu_module.is_backup_old%28backup%3Dbackup%2C+expiry_seconds%3DBACKUP_EXPIRY_SECONDS%29%0A++++++++++++if+backup_old%3A%0A++++++++++++++++await+odx_start_routine%28node_name%3Dself.name%2C+routine_name%3D%27RESET_SOC%27%29%0A++++++++++++return+None%0A++++class+Hvp%28ecu_module.Ecu%29%3A%0A++++++++calibration_records+%3D+%5B1%2C2%2C3%2C4%2C5%2C6%2C7%5D%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.name%3D%27HVP%27%0A++++++++++++self.bootloader_write_power_state%3D%27CONTACTORS_OPEN%27%0A++++++++++++self.application_write_power_state%3D%27CONTACTORS_OPEN%27%0A++++++++++++self.bootloader_data%3D%5BAssemblyId%28self%29%2C++++++++++++++++++++++++++++++++++UsageId%28self%29%2C++++++++++++++++++++++++++++++++++ConfigurationRecord%28self%29%2C++++++++++++++++++++++++++++++++++CalibrationRecords%28self%29%5D%0A++++++++++++self.application_data%3D%5B%5D%0A++++++++++++self.data%3D+self.bootloader_data+%2B+self.application_data%0A++++++++++++self.compare_blocklist%3D%5B%5D%0A++++++++async+def+bootloader_pre_restore_actions%28self%2C+%2A%2Abackup%29%3A%0A++++++++++++await+odx_start_routine%28node_name%3Dself.name%2C+routine_name%3D%27INIT_CONFIGURATION_BLOCK%27%29%0A++++++++++++await+odx_start_routine%28node_name%3Dself.name%2C+routine_name%3D%27INIT_CALIBRATION_BLOCK%27%29%0A++++++++++++return+None%0A++++++++async+def+bootloader_post_restore_actions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++if+%27CALIBRATION_RECORD_6%27+not+in+backup%5Bself.name%5D+or+backup%5Bself.name%5D%5B%27CALIBRATION_RECORD_6%27%5D+%3D%3D+int%28%22FFFFFFFF%22%2C+16%29%3A%0A++++++++++++++++await+odx_write_data%28node_name%3Dself.name%2C+data_name%3D%27HVC_CALIBRATION_RECORD_6%27%2C+data%3D%7B%27CALIBRATION_RECORD_6%27%3A+1%7D%29%0A++++++++++++++++self.compare_blocklist.append%28%27CALIBRATION_RECORD_6%27%29%0A++++++++++++return+None%0A++++class+AssemblyId%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27ASSEMBLY_ID%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7Bself.odx_write_payload%3A+backup%5Bself.ecu.name%5D%5Bself.data_name%5D%7D%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write%29%0A++++++++++++await+sleep%280.5%29%0A++++class+UsageId%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27USAGE_ID%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7Bself.odx_write_payload%3A+backup%5Bself.ecu.name%5D%5Bself.data_name%5D%7D%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write%29%0A++++++++++++await+sleep%280.5%29%0A++++class+PackagePartNumber%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27PACKAGE_PART_NUMBER%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7Bself.odx_write_payload%3A+backup%5Bself.ecu.name%5D%5Bself.data_name%5D%7D%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write%29%0A++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+PackageSerialNumber%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27PACKAGE_SERIAL_NUMBER%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3Adict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7Bself.odx_write_payload%3A+backup%5Bself.ecu.name%5D%5Bself.data_name%5D%7D%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write%29%0A++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+ConfigurationRecord%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27CONFIGURATION_RECORD%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3D%27HVC_CONFIGURATION_RECORD%27%0A++++++++++++self.odx_write_payload%3Dself.odx_write_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++output%5Bself.data_name%5D%3D+data_to_read%5B%27data%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7B%7D%0A++++++++++++data_to_write%3D%7Bself.odx_write_payload%3A+backup%5Bself.ecu.name%5D%5Bself.data_name%5D%7D%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write%29%0A++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+EnergyCounters%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27ENERGY_COUNTERS%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3Dself.data_name%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++data_to_read%3Dawait+odx_read_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_read_name%29%0A++++++++++++for+data+in+self.ecu.energy_records%3A%0A++++++++++++++++output%5Bdata%5D%3Ddata_to_read%5B%27data%27%5D%5Bdata%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++data_to_write%3D%7B%7D%0A++++++++++++for+data+in+self.ecu.energy_records%3A%0A++++++++++++++++data_to_write.update%28%7Bdata%3Abackup%5Bself.ecu.name%5D%5Bdata%5D%7D%29%0A++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write.copy%28%29%29%0A++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+CalibrationRecords%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27CALIBRATION_RECORD%27%0A++++++++++++self.odx_read_name%3Dself.data_name%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3D%27HVC_CALIBRATION_RECORD%27%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++output%3D%7B%7D%0A++++++++++++for+cal_record+in+self.ecu.calibration_records%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++data_to_read%3Dawait+odx_request_results%28node_name%3Dself.ecu.name%2C+params%3D+%7B%27CALIBRATION_RECORD_ID%27%3A+cal_record%7D%2C+routine_name%3Dself.odx_read_name%29%0A++++++++++++++++++++output%5Bf%27%7Bself.data_name%7D_%7Bcal_record%7D%27%5D%3Ddata_to_read%5B%27results%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++++++except+Exception+as+e%3A%0A++++++++++++++++++++await+capture%28metric_name%3D%27calibration+read+failure%27%2C%0A++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++metadata%3D%7B%27failure%27%3A+str%28e%29%7D%2C%0A++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++++++++++++++pass%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++for+cal_record+in+self.ecu.calibration_records%3A%0A++++++++++++++++data_to_write%3D%7B%7D%0A++++++++++++++++try%3A%0A++++++++++++++++++++data_to_write%3D%7Bf%27%7Bself.odx_write_payload%7D_%7Bcal_record%7D%27%3A+backup%5Bself.ecu.name%5D%5Bf%27%7Bself.data_name%7D_%7Bcal_record%7D%27%5D%7D%0A++++++++++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Df%27%7Bself.odx_write_name%7D_%7Bcal_record%7D%27%2C+data%3Ddata_to_write.copy%28%29%29%0A++++++++++++++++++++await+sleep%280.5%29%0A++++++++++++++++except+KeyError%3A%0A++++++++++++++++++++self.ecu.compare_blocklist.append%28f%27%7Bself.data_name%7D_%7Bcal_record%7D%27%29%0A++++++++++++++++++++pass%0A++++++++++++return+None%0A++++class+BrickInfo%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27BRICK%27%0A++++++++++++self.odx_read_name%3D%27BRICK_GROUP_READ%27%0A++++++++++++self.odx_read_payload%3D%27GROUP_BRICK_ID%27%0A++++++++++++self.odx_write_name%3D%27BRICK_GROUP%27%0A++++++++++++self.odx_write_payload%3D%27GROUP_BRICK_ID%27%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%29+-%3E+dict%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++output%3D%7B%7D%0A++++++++++++for+group_name%2C+group_limit+in+self.ecu.brick_group_limits.items%28%29%3A%0A++++++++++++++++group_count%3Dpack%5B%27BRICK_GROUP_COUNTS%27%5D%5Bgroup_name%5D%0A++++++++++++++++for+brick_group+in+range%28group_count%29%3A%0A++++++++++++++++++++data_to_read%3Dawait+odx_request_results%28node_name%3Dself.ecu.name%2C+params%3D+%7B%27START_BRICK_ID%27%3A+1+%2B+%28brick_group+%2A+group_limit%29%7D%2C+routine_name%3Df%27%7Bself.odx_read_name%7D_%7Bgroup_name%7D%27%29%0A++++++++++++++++++++for+brick+in+range%281%2Cgroup_limit%2B1%29%3A%0A++++++++++++++++++++++++if+not+%28brick+%2B+%28brick_group+%2A+group_limit%29%29+%3E+pack%5B%27NUMBER_OF_BRICKS%27%5D%3A%0A++++++++++++++++++++++++++++data_name%3Df%27%7Bself.data_name%7D_%7Bbrick+%2B+%28brick_group+%2A+group_limit%29%7D_%7Bgroup_name%7D%27%0A++++++++++++++++++++++++++++output%5Bdata_name%5D%3Ddata_to_read%5B%27results%27%5D%5Bf%27%7Bself.odx_read_payload%7D_%7Bbrick%7D_%7Bgroup_name%7D%27%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++for+group_name%2C+group_limit+in+self.ecu.brick_group_limits.items%28%29%3A%0A++++++++++++++++group_count%3Dpack%5B%27BRICK_GROUP_COUNTS%27%5D%5Bgroup_name%5D%0A++++++++++++++++for+brick_group+in+range%28group_count%29%3A%0A++++++++++++++++++++data_to_write%3D%7B%7D%0A++++++++++++++++++++data_to_write.update%28%7B%27START_BRICK_ID%27%3A+1+%2B+%28brick_group+%2A+group_limit%29%7D%29%0A++++++++++++++++++++for+brick+in+range%281%2Cgroup_limit%2B1%29%3A%0A++++++++++++++++++++++++data_name%3Df%27%7Bself.data_name%7D_%7Bbrick+%2B+%28brick_group+%2A+group_limit%29%7D_%7Bgroup_name%7D%27%0A++++++++++++++++++++++++data_to_write.update%28%7Bf%27%7Bself.odx_write_payload%7D_%7Bbrick%7D_%7Bgroup_name%7D%27%3A+backup%5Bself.ecu.name%5D.get%28data_name%2C0%29%7D%29%0A++++++++++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Df%27%7Bself.odx_write_name%7D_%7Bgroup_name%7D%27%2C+data%3Ddata_to_write.copy%28%29%29%0A++++++++++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+ModuleInfo%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27MODULE%27%0A++++++++++++self.odx_read_name%3D%27MODULE_GROUP_READ_LIFE_DATA%27%0A++++++++++++self.odx_read_payload%3Dself.data_name%0A++++++++++++self.odx_write_name%3D%27MODULE_GROUP_LIFE_DATA%27%0A++++++++++++self.odx_write_payload%3Dself.data_name%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++output%3D%7B%7D%0A++++++++++++for+module_group+in+range%28pack%5B%27MODULE_GROUP_COUNTS%27%5D%29%3A%0A++++++++++++++++data_to_read%3Dawait+odx_request_results%28node_name%3Dself.ecu.name%2C+params%3D+%7B%27START_MODULE_ID%27%3A+1+%2B+%28module_group+%2A+self.ecu.module_group_limit%29%7D%2C+routine_name%3Dself.odx_read_name%29%0A++++++++++++++++for+module+in+range%281%2C+self.ecu.module_group_limit%2B1%29%3A%0A++++++++++++++++++++if+not+%28module+%2B+%28module_group+%2A+self.ecu.module_group_limit%29%29+%3E+pack%5B%27MODULE_GROUP_COUNTS%27%5D%3A%0A++++++++++++++++++++++++for+data+in+self.ecu.module_records%3A%0A++++++++++++++++++++++++++++data_name%3Df%27%7Bself.data_name%7D_%7Bmodule+%2B+%28module_group+%2A+self.ecu.module_group_limit%29%7D_%7Bdata%7D%27%0A++++++++++++++++++++++++++++output%5Bdata_name%5D%3Ddata_to_read%5B%27results%27%5D%5Bf%27%7Bself.odx_read_payload%7D_%7Bmodule%7D_%7Bdata%7D%27%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++for+module_group+in+range%28pack%5B%27MODULE_GROUP_COUNTS%27%5D%29%3A%0A++++++++++++++++data_to_write%3D%7B%7D%0A++++++++++++++++data_to_write.update%28%7B%27MODULE_WRITE_START_ID%27%3A1+%2B+%28module_group+%2A+self.ecu.module_group_limit%29%7D%29%0A++++++++++++++++for+module+in+range%281%2Cself.ecu.module_group_limit%2B1%29%3A%0A++++++++++++++++++++for+data+in+self.ecu.module_records%3A%0A++++++++++++++++++++++++data_name%3Df%27%7Bself.odx_write_payload%7D_%7Bmodule+%2B+%28module_group+%2A+self.ecu.module_group_limit%29%7D_%7Bdata%7D%27%0A++++++++++++++++++++++++data_to_write.update%28%7Bf%27%7Bself.odx_write_payload%7D_%7Bmodule%7D_%7Bdata%7D%27%3A+backup%5Bself.ecu.name%5D.get%28data_name%2C0%29%7D%29%0A++++++++++++++++await+odx_write_data%28node_name%3Dself.ecu.name%2C+data_name%3Dself.odx_write_name%2C+data%3Ddata_to_write.copy%28%29%29%0A++++++++++++++++await+sleep%280.5%29%0A++++++++++++return+None%0A++++class+HistogramInfo%28ecu_module.Data%29%3A%0A++++++++def+__init__%28self%2C+ecu%3A+ecu_module.Ecu%29%3A%0A++++++++++++self.ecu%3Decu%0A++++++++++++self.data_name%3D%27HISTOGRAM%27%0A++++++++++++self.odx_read_name%3D%27HISTOGRAM_READ_PAGE%27%0A++++++++++++self.odx_read_payload%3D%27DATA%27%0A++++++++++++self.odx_write_name%3D%27HISTOGRAM_WRITE_PAGE%27%0A++++++++++++self.odx_write_payload%3DNone%0A++++++++async+def+read_instructions%28self%2C+%2A%2Abackup%3A+dict%29+-%3E+dict%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++output%3D%7B%7D%0A++++++++++++for+histogram+in+range%28len%28pack%5B%27HISTOGRAM_PAGE_COUNTS%27%5D%29%29%3A%0A++++++++++++++++for+page+in+range%28pack%5B%27HISTOGRAM_PAGE_COUNTS%27%5D%5Bhistogram%5D%29%3A%0A++++++++++++++++++++await+odx_start_routine%28node_name%3Dself.ecu.name%2C+params%3D+%7B%27HISTOGRAM_ID%27%3A+histogram%2C+%27PAGE_NUMBER%27%3A+page%7D%2C+routine_name%3Dself.odx_read_name%29%0A++++++++++++++++++++data_to_read%3Dawait+odx_request_results%28node_name%3Dself.ecu.name%2C+routine_name%3Dself.odx_read_name%29%0A++++++++++++++++++++output%5Bf%27HISTOGRAM_ID_%7Bhistogram%7D_PAGE_%7Bpage%7D%27%5D%3Ddata_to_read%5B%27results%27%5D%5Bself.odx_read_payload%5D%0A++++++++++++return+output%0A++++++++async+def+write_instructions%28self%2C+%2A%2Abackup%3A+dict%29%3A%0A++++++++++++pack%3Dbackup%5B%27PACK_INFO%27%5D%0A++++++++++++for+histogram+in+range%28len%28pack%5B%27HISTOGRAM_PAGE_COUNTS%27%5D%29%29%3A%0A++++++++++++++++for+page+in+range%28pack%5B%27HISTOGRAM_PAGE_COUNTS%27%5D%5Bhistogram%5D%29%3A%0A++++++++++++++++++++data_to_write%3D%7B%7D%0A++++++++++++++++++++data_write_results%3D%7B%7D%0A++++++++++++++++++++data_to_write.update%28%7B%27HISTOGRAM_ID%27%3Ahistogram%2C+%27PAGE_NUMBER%27%3Apage%2C%27DATA%27%3Abackup.get%28f%27HISTOGRAM_ID_%7Bhistogram%7D_PAGE_%7Bpage%7D%27%2C+0%29%7D%29%0A++++++++++++++++++++await+odx_start_routine%28node_name%3Dself.ecu.name%2C+routine_name%3Dself.odx_write_name%2C+params%3Ddata_to_write.copy%28%29%29%0A++++++++++++++++++++await+sleep%281%29%0A++++++++++++++++++++data_write_results+%3D+await+odx_request_results%28node_name%3Dself.ecu.name%2C+routine_name%3Dself.odx_write_name%29%0A++++++++++++++++++++await+sleep%281%29%0A++++++++++++return+None%0A++++async+def+learn_pack_params%28ecu%3A+ecu_module.Ecu%29+-%3E+dict%3A%0A++++++++try%3A%0A++++++++++++pack_params%3D%7B%7D%0A++++++++++++pack_info%3Dawait+odx_read_data%28node_name%3Decu.name%2C+data_name%3D%27PACK_INFO%27%29%0A++++++++++++histogram_pages%3Dawait+odx_read_data%28node_name%3Decu.name%2C+data_name%3D%27HISTOGRAM_PAGE_COUNT%27%29%0A++++++++++++brick_data_group_counts%3D%7B%7D%0A++++++++++++histogram_page_counts%3D%5B%5D%0A++++++++++++for+brick_data_group+in+ecu.brick_group_limits%3A%0A++++++++++++++++brick_data_group_counts.update%28%7Bbrick_data_group%3A+int%28pack_info%5B%27data%27%5D%5B%27NUMBER_OF_BRICKS%27%5D%2F%28ecu.brick_group_limits%5Bbrick_data_group%5D%2B1%29+%2B1%29%7D%29%0A++++++++++++for+histogram+in+range%281%2Clen%28histogram_pages%29%2B1%29%3A%0A++++++++++++++++if+len%28histogram_page_counts%29+%3C+len%28histogram_pages%29%3A%0A++++++++++++++++++++histogram_page_counts.append%28histogram_pages%5B%27data%27%5D%5Bf%27HISTOGRAM_ID_%7Bhistogram%7D%27%5D%29%0A++++++++++++pack_params.update%28%7B%27NUMBER_OF_BRICKS%27%3A+pack_info%5B%27data%27%5D%5B%27NUMBER_OF_BRICKS%27%5D%7D%29%0A++++++++++++pack_params.update%28%7B%27NUMBER_OF_MODULES%27%3A+pack_info%5B%27data%27%5D%5B%27NUMBER_OF_MODULES%27%5D%7D%29%0A++++++++++++pack_params.update%28%7B%27MODULE_GROUP_COUNTS%27%3A+int%28pack_info%5B%27data%27%5D%5B%27NUMBER_OF_MODULES%27%5D+%2F+%28ecu.module_group_limit%2B1%29%2B1%29%7D%29%0A++++++++++++pack_params.update%28%7B%27BRICK_GROUP_COUNTS%27%3A+brick_data_group_counts%7D%29%0A++++++++++++pack_params.update%28%7B%27HISTOGRAM_PAGE_COUNTS%27%3A+histogram_page_counts%7D%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++await+capture%28metric_name%3D%27failure+to+retrieve+pack+data%27%2C%0A++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++metadata%3De%2C%0A++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++return+pack_params%0A++++async+def+does_data_match%28backup%3A+dict%2C+restored_data%3A+dict%2C+ecu%3A+ecu_module.Ecu%29+-%3E+bool%3A%0A++++++++data_matches+%3D+False%0A++++++++length_mismatch_expected%2C+data_length_match%3DFalse%2CTrue%0A++++++++data_content_valid%2Cbools_strings_bytes_match%2Cints_floats_match%3DTrue%2CFalse%2CFalse%0A++++++++backup_old+%3D+await+ecu_module.is_backup_old%28backup%3Dbackup%2C+expiry_seconds%3DBACKUP_EXPIRY_SECONDS%29%0A++++++++await+capture%28metric_name%3D%27compare+blocklists%27%2C%0A++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++metadata%3D%7Bf%27%7Becu.name%7D+blocklist%27%3A+str%28ecu.compare_blocklist%29%7D%2C%0A++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++for+data+in+restored_data%5Becu.name%5D%3A%0A++++++++++++if+data+not+in+backup%5Becu.name%5D%3A%0A++++++++++++++++length_mismatch_expected+%3D+True%0A++++++++++++++++continue%0A++++++++++++if+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+bool+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+str+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+bytes%3A%0A++++++++++++++++bools_strings_bytes_match%3DTrue+if+backup%5Becu.name%5D%5Bdata%5D%3D%3Drestored_data%5Becu.name%5D%5Bdata%5D+or+data+in+ecu.compare_blocklist+else+False%0A++++++++++++++++if+not+bools_strings_bytes_match%3A%0A++++++++++++++++++++await+capture%28metric_name%3D%27Bools%2Fstrings%2Fbytes+comparison+failure%27%2C%0A++++++++++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++++++++++metadata%3D%7B%27Comparison+failure%27%3A+str%28data%29%7D%2C%0A++++++++++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++++++++++++++break%0A++++++++++++else%3A%0A++++++++++++++++bools_strings_bytes_match%3DTrue%0A++++++++++++if+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+int+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+float%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++ints_floats_match+%3D+True+if+%28abs%28backup%5Becu.name%5D%5Bdata%5D-restored_data%5Becu.name%5D%5Bdata%5D%29+%2F+backup%5Becu.name%5D%5Bdata%5D%29+%3C+DIFFERENCE_TOLERANCE+or+data+in+ecu.compare_blocklist+or+backup_old+else+False%0A++++++++++++++++except+ZeroDivisionError%3A%0A++++++++++++++++++++ints_floats_match+%3D+True%0A++++++++++++++++if+not+ints_floats_match%3A%0A++++++++++++++++++++await+capture%28metric_name%3D%27Ints%2Ffloats+comparison+failure%27%2C%0A++++++++++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++++++++++metadata%3D%7B%27Comparison+failure%27%3A+str%28data%29%7D%2C%0A++++++++++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++++++++++++++break%0A++++++++++++else%3A%0A++++++++++++++++ints_floats_match+%3D+True%0A++++++++++++if+not+%28type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+bool+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+str+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+bytes+or++++++++++++++++++++type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+int+or+type%28restored_data%5Becu.name%5D%5Bdata%5D%29+is+float%29%3A%0A++++++++++++++++data_content_valid%3DFalse%0A++++++++++++++++break%0A++++++++data_length_match%3DTrue+if+len%28backup%5Becu.name%5D%29%3D%3Dlen%28restored_data%5Becu.name%5D%29+else+False%0A++++++++if+length_mismatch_expected%3A%0A++++++++++++data_matches+%3D+data_content_valid+and+bools_strings_bytes_match+and+ints_floats_match%0A++++++++else%3A%0A++++++++++++data_matches+%3D+data_length_match+and+data_content_valid+and+bools_strings_bytes_match+and+ints_floats_match%0A++++++++if+not+data_matches%3A%0A++++++++++++await+capture%28metric_name%3D%27Data+comparison+failure%27%2C%0A++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++metadata%3D%7B%27Backed+up+data%27%3A+str%28backup%29%2C%0A++++++++++++++++++++++++++++++++++++%27Restored+data%27%3A+str%28restored_data%29%2C%0A++++++++++++++++++++++++++++++++++++%27Length+mismatch+expected%27%3A+length_mismatch_expected%2C%0A++++++++++++++++++++++++++++++++++++%27Data+length+match%27%3A+data_length_match%2C%0A++++++++++++++++++++++++++++++++++++%27Data+content+valid%27%3A+data_content_valid%2C%0A++++++++++++++++++++++++++++++++++++%27Bools%2Fstrings%2Fbytes+match%27%3A+bools_strings_bytes_match%2C%0A++++++++++++++++++++++++++++++++++++%27Ints%2Ffloats+match%27%3A+ints_floats_match%7D%2C%0A++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++return+data_matches%0A++++async+def+append_pack_data%28backup%3A+dict%2C+ecu%3A+ecu_module.Ecu%29+-%3E+ecu_module.Step%3A%0A++++++++step%3Decu_module.Step%28%29%0A++++++++try%3A%0A++++++++++++pack_params%3Dawait+learn_pack_params%28ecu%29%0A++++++++++++backup.update%28%7B%27PACK_INFO%27%3A+pack_params%7D%29%0A++++++++++++step.passed%3DTrue%0A++++++++++++step.output%3Dbackup%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.output%3Dbackup%0A++++++++++++step.failure_description%3Df%27Unable+to+read+pack+info.+Ensure+%7BCOMPONENT_NAME%7D+is+powered+and+responsive.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++async+def+check_part_number%28backup%3A+dict%2C+ecu%3A+ecu_module.Ecu%29+-%3E+ecu_module.Step%3A%0A++++++++step%3Decu_module.Step%28%29%0A++++++++is_pn_compatible+%3D+False%0A++++++++backed_up_board_pn%2C+present_board_pn+%3D+%22%22%2C+%22%22%0A++++++++try%3A%0A++++++++++++backed_up_board_pn+%3D+backup%5Becu_module.BoardPartNumber%28ecu%29.data_name%5D%0A++++++++++++async+with+ecu_tester_present%28uds_node_name%3Decu.name%2C+response_required%3DFalse%2C+interval%3DTP_INTERVAL%29%3A%0A++++++++++++++++await+ensure_power_state%28power_state%3Decu.bootloader_write_power_state%2C%0A+++++++++++++++++++++++++++++++++++++++++request_retries%3DPOWER_STATE_RETRY_COUNT%2C%0A+++++++++++++++++++++++++++++++++++++++++timeout%3DPOWER_STATE_TIMEOUT_SECONDS%29%0A++++++++++++++++await+ecu_reset%28node_name%3Decu.name%2C+reset_type%3D+HARD_RESET_TYPE%2C+response_required%3DFalse%29%0A++++++++++++++++await+ensure_application_state%28application_state%3DBOOTLOADER_STATE%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++bootloader_backoff%3DBOOTLOADER_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++default_wait%3DDEFAULT_WAIT%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++initial_backoff%3DINITIAL_BACKOFF%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++node_name%3Decu.name%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++timeout%3DAPPLICATION_STATE_TIMEOUT%29%0A++++++++++++++++present_board_pn+%3D+await+ecu_module.BoardPartNumber%28ecu%29.read_instructions%28%29%0A++++++++++++await+ecu_reset%28node_name%3Decu.name%2C+response_required%3DFalse%29%0A++++++++++++present_board_pn+%3D+present_board_pn%5Becu_module.BoardPartNumber%28ecu%29.data_name%5D%0A++++++++++++hvc_pns+%3D+%7Bbacked_up_board_pn%5B-4%3A%5D%2C+present_board_pn%5B-4%3A%5D%7D%0A++++++++++++if+backed_up_board_pn%5B0%3A7%5D%3D%3DHVC_BASE_SEVEN+and+present_board_pn%5B0%3A7%5D%3D%3DHVC_BASE_SEVEN%3A%0A++++++++++++++++if+present_board_pn%5B-1%5D+in+HVC_REVISION_AGNOSTIC%3A%0A++++++++++++++++++++is_pn_compatible+%3D+True%0A++++++++++++++++else%3A%0A++++++++++++++++++++for+bucket+in+HVC_REVISION_BUCKETS%3A%0A++++++++++++++++++++++++if+all%28pn+in+bucket+for+pn+in+hvc_pns%29%3A%0A++++++++++++++++++++++++++++is_pn_compatible+%3D+True%0A++++++++++++++++++++++++++++break%0A++++++++++++if+is_pn_compatible%3A%0A++++++++++++++++step.passed%3DTrue%0A++++++++++++else%3A%0A++++++++++++++++step.passed%3DFalse%0A++++++++++++++++step.failure_description%3Df%27Unable+to+begin+restoration+for+%7BCOMPONENT_NAME%7D.+Please+ensure+the+new+%7BCOMPONENT_NAME%7D+has+an+equivalent+or+compatible+board+part+number+to+the+old.+For+more+information+on+%7BCOMPONENT_NAME%7D+compatibility%2C+see+Toolbox+Article+%236569500.%27%0A++++++++++++++++await+capture%28metric_name%3D%27Incompatible+part+numbers%27%2C%0A++++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++++metadata%3D%7Bf%27Old+%7BCOMPONENT_NAME%7D+PN%27%3A+str%28backed_up_board_pn%29%2C%0A++++++++++++++++++++++++++++++++++++++f%27New+%7BCOMPONENT_NAME%7D+PN%27%3A+str%28present_board_pn%29%7D%2C%0A++++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++step.passed%3DFalse%0A++++++++++++step.failure_description%3Df%27Unable+to+retrieve+the+part+number+of+%7BCOMPONENT_NAME%7D.+Exception%3A+%7Be%7D%27%0A++++++++++++await+capture%28metric_name%3D%27part+numbers%27%2C%0A++++++++++++++++++++++++++++value%3DTrue%2C%0A++++++++++++++++++++++++++++metadata%3D%7Bf%27Old+%7BCOMPONENT_NAME%7D+PN%27%3A+str%28backed_up_board_pn%29%2C%0A++++++++++++++++++++++++++++++++++++++f%27New+%7BCOMPONENT_NAME%7D+PN%27%3A+str%28present_board_pn%29%7D%2C%0A++++++++++++++++++++++++++++result_code%3Dapi.metric_result.Fail%29%0A++++++++return+step%0A++++async+def+check_restoration%28backup%3A+dict%2C+ecu%3A+ecu_module.Ecu%2C+tla%3A+list%29+-%3E+ecu_module.Step%3A%0A++++++++step%3Decu_module.Step%28%29%0A++++++++restored_data+%3D+%7B%7D%0A++++++++step+%3D+await+ecu_module.append_backup_metadata%28ecu%3Decu%29%0A++++++++restored_data+%3D+step.output%0A++++++++step+%3D+await+append_pack_data%28backup%3Drestored_data%2C+ecu%3Decu%29%0A++++++++restored_data+%3D+step.output%0A++++++++step+%3D+await+ecu_module.collect_ecu_data%28backup%3Drestored_data%2C+tla%3Dtla%29%0A++++++++restored_data+%3D+step.output%0A++++++++for+ecu+in+tla%3A%0A++++++++++++try%3A%0A++++++++++++++++step.passed+%3D+await+does_data_match%28backup%3Dbackup%2C+restored_data%3Drestored_data%2C+ecu%3Decu%29%0A++++++++++++++++step.output+%3D+restored_data%0A++++++++++++++++if+not+step.passed%3A%0A++++++++++++++++++++step.failure_description%3Df%27%7Becu.name%7D+data+mismatch+between+backup+and+restore.%27%0A++++++++++++++++++++return+step%0A++++++++++++except+Exception+as+e%3A%0A++++++++++++++++step.passed%3DFalse%0A++++++++++++++++step.failure_description%3Df%27Restored+and+backed-up+%7Becu.name%7D+data+is+not+comparable.+Exception%3A+%7Be%7D%27%0A++++++++return+step%0A++++hvc_module.ecu_module%3Decu_module++++%0A++++hvc_module.Hvbms%3DHvbms%0A++++hvc_module.Hvp%3DHvp%0A++++hvc_module.learn_pack_params%3Dlearn_pack_params%0A++++hvc_module.append_pack_data%3Dappend_pack_data%0A++++hvc_module.check_part_number%3Dcheck_part_number%0A++++hvc_module.check_restoration%3Dcheck_restoration%0A++++hvc_module.BACKUP_FILE_PATH%3DBACKUP_FILE_PATH%0A++++hvc_module.BACKUP_EXPIRY_SECONDS%3DBACKUP_EXPIRY_SECONDS%0A++++return+hvc_module
		../../odin_bundle/networks/Gen3/scripts/TEST_BRAKE_X_IBST-STIFFNESS-ROUTINE.py
			async+def+odin_script_test%28api%2C+TEST_FUNCTION%3A+str%2C+NUMBER_OF_LOOPS%3A+int%2C+TRAVEL_SPEED_V1%3A+float%2C+%0A++++++++++++++++++++++++++++TRAVEL_SPEED_V2%3A+float%2C+PRESSURE_P100_MIN%3A+float%2C+PRESSURE_P100_MAX%3A+float%2C+NUMBER_OF_MEASURE_SAMPLES%3A+int%2C%0A++++++++++++++++++++++++++++MEASURE_STROKE_STABILIZATION_PHASE%3A+float%2C+SETTING_STROKE_TIME_RELEASE_PHASE%3A+float%2C%0A++++++++++++++++++++++++++++SETTING_STROKE_TIME_HOLD_PHASE_OR_TIMEOUT%3A+float%2C+MEASUREMENT_FUNCTION%3A+str%2C%0A++++++++++++++++++++++++++++TEST_FIELD%3A+str%2C+INPUT_ROD_STROKE_S100%3A+float%2C+INPUT_ROD_STROKE_S200%3A+float%2C%0A++++++++++++++++++++++++++++TORQUE_M10_MAX%3A+float%2C+TORQUE_M10_MIN%3A+float%2C+MEASURE_STROKE_LEAKAGE_PHASE%3A+float%2C+%0A++++++++++++++++++++++++++++PRESSURE_LEAKAGE_THRESH%3A+float%2C+TOTAL_PROC_SEC%3A+float%2C+RUN_PRE_EVAC%3A+bool%2C+%0A++++++++++++++++++++++++++++BURNISHED_TEST%3A+bool%2C+RUN_BRAKE_SWITCH%3A+bool%2C+TEST_FRONT_LEFT_CORNER%3A+bool%2C+%0A++++++++++++++++++++++++++++TEST_FRONT_RIGHT_CORNER%3A+bool%2C+TEST_REAR_LEFT_CORNER%3A+bool%2C+TEST_REAR_RIGHT_CORNER%3A+bool%2C%0A++++++++++++++++++++++++++++TEST_OUTLET_VALVE%3A+bool%2C+OUTLET_VALVE_RELEASE_DELAY%3A+bool%29%3A%0A++++from+asyncio+import+sleep%0A++++from+time+import+time%0A++++from+odin.core.uds.exceptions+import+UdsEcuError%0A++++uds_tester_present_context+%3D+api.uds.uds_tester_present_context%0A++++uds_diagnostic_session+%3D+api.uds.uds_diagnostic_session%0A++++uds_routine_control+%3D+api.uds.uds_routine_control%0A++++odx_start_routine+%3D+api.odx.odx_start_routine%0A++++odx_request_results+%3D+api.odx.odx_request_results%0A++++capture_metric+%3D+api.reporting.capture_metric%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++signal_read+%3D+api.can.can_signal_read%0A++++run_reference+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++ECU_BLS_NODE_NAME+%3D+%27VCLEFT%27++++%0A++++UDS_RETRY_ATTEMPTS+%3D+5++++++++++%0A++++UDS_RETRY_DELAY_SECONDS+%3D+0.3+++%0A++++ODX_RETRY_ATTEMPTS+%3D+5++++++++++%0A++++ODX_RETRY_DELAY_SECONDS+%3D+0.3+++%0A++++IBST_STATUS_TIMEOUT+%3D+3.0+++++++%0A++++REQUEST_RESULTS_DELAY+%3D+0.5+++++%0A++++REQUEST_RESULTS_TIMEOUT+%3D+60.0++%0A++++ESP_VALVES+%3D+%7B%22FrL%22%3A+%7B%22INLET%22%3A+%2230%22%2C+%22OUTLET%22%3A+%2232%22%7D%2C+++%0A++++++++++++++++++%22FrR%22%3A+%7B%22INLET%22%3A+%2234%22%2C+%22OUTLET%22%3A+%2236%22%7D%2C%0A++++++++++++++++++%22ReL%22%3A+%7B%22INLET%22%3A+%223C%22%2C+%22OUTLET%22%3A+%223E%22%7D%2C%0A++++++++++++++++++%22ReR%22%3A+%7B%22INLET%22%3A+%2238%22%2C+%22OUTLET%22%3A+%223A%22%7D+%0A++++++++++++++++++%7D%0A++++chassisType+%3D+%2769%27%0A++++brakeHwType+%3D+%2717%27%0A++++MODEL_S_CHASSIS+%3D+%2700%27%0A++++MODEL_X_CHASSIS+%3D+%2701%27%0A++++MODEL_3_CHASSIS+%3D+%2702%27%0A++++MODEL_Y_CHASSIS+%3D+%2703%27%0A++++CYBER_TRUCK_CHASSIS+%3D+%2705%27%0A++++BREMBO_P42_MANDO_43MOC+%3D+%2700%27%0A++++BREMBO_LARGE_P42_BREMBO_44MOC+%3D+%2701%27%0A++++BREMBO_LARGE_P42_MANDO_43MOC+%3D+%2702%27%0A++++BREMBO_LARGE_P42_BREMBO_LARGE_44MOC+%3D+%2703%27%0A++++BREMBO2_42_44_D380_MANDO1_43_D365+%3D+%2704%27%0A++++BREMBO2_42_44_D395_MANDO1_43_D365+%3D+%2705%27%0A++++BREMBO_LARGE_P42_V2_BREMBO_44MOC+%3D+%2706%27%0A++++BREMBO_LARGE_P42_V2_BREMBO_LARGE_44MOC+%3D+%2707%27%0A++++BREMBO_LARGE_P42_V2_MANDO_43MOC+%3D+%2708%27%0A++++BREMBO_P42_V2_MANDO_43MOC+%3D+%2709%27%0A++++AP_RACING_CARBON_CERAMIC_TYPE_1+%3D+%270A%27%0A++++BREMBO2_42_44_D380_MANDO1_43_D365_GA5514HTT+%3D+%270B%27%0A++++BREMBO2_42_44_D395_MANDO1_43_D365_GA5514HTT+%3D+%270C%27%0A++++BREMBO_P42_ZF_43MOC+%3D+%270D%27%0A++++BREMBO_54_MANDO_57+%3D+%270E%27%0A++++BREMBO_P42LD_ZF_43MOC+%3D+%270F%27%0A++++BREMBO_P42LD_V2_MANDO_43MOC+%3D+%2710%27%0A++++M3Y_PRE_EVAC_DEFAULT+%3D+True+++++++++++++++++++++%0A++++GENERAL_PRE_EVAC_DEFALT+%3D+False+++++++++++++++++%0A++++NUMBER_OF_LOOPS_OVERRIDE+%3D+10+++++++++++++++++++%0A++++STIFFNESS_THRESHOLD_DICT+%3D+%7B++++++++++++++++++++%0A++++++++MODEL_S_CHASSIS%3A+%7B%0A++++++++++++BREMBO2_42_44_D380_MANDO1_43_D365_GA5514HTT%3A++%7B%22BURNISHED%22%3A+34.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++AP_RACING_CARBON_CERAMIC_TYPE_1%3A++++++++++++++%7B%22BURNISHED%22%3A+45.0%2C+%22UNBURNISHED%22%3A+45.0%7D%2C%0A++++++++++++BREMBO2_42_44_D380_MANDO1_43_D365%3A++++++++++++%7B%22BURNISHED%22%3A+34.0%2C+%22UNBURNISHED%22%3A+31.0%7D%0A++++++++%7D%2C%0A++++++++MODEL_3_CHASSIS%3A+%7B%0A++++++++++++BREMBO_P42LD_V2_MANDO_43MOC%3A++++++++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_P42LD_ZF_43MOC%3A++++++++++++++++++++++++%7B%22BURNISHED%22%3A+26.0%2C+%22UNBURNISHED%22%3A+26.0%7D%2C%0A++++++++++++BREMBO_P42_ZF_43MOC%3A++++++++++++++++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_P42_V2_MANDO_43MOC%3A++++++++++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_LARGE_P42_V2_BREMBO_44MOC%3A+++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_LARGE_P42_BREMBO_44MOC%3A++++++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_P42_MANDO_43MOC%3A+++++++++++++++++++++++%7B%22BURNISHED%22%3A+31.0%2C+%22UNBURNISHED%22%3A+31.0%7D%0A++++++++%7D%2C%0A++++++++MODEL_X_CHASSIS%3A+%7B%0A++++++++++++BREMBO2_42_44_D395_MANDO1_43_D365_GA5514HTT%3A++%7B%22BURNISHED%22%3A+34.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO2_42_44_D395_MANDO1_43_D365%3A++++++++++++%7B%22BURNISHED%22%3A+34.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++%7D%2C%0A++++++++MODEL_Y_CHASSIS%3A+%7B%0A++++++++++++BREMBO_LARGE_P42_V2_MANDO_43MOC%3A++++++++++++++%7B%22BURNISHED%22%3A+36.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_LARGE_P42_V2_BREMBO_LARGE_44MOC%3A+++++++%7B%22BURNISHED%22%3A+36.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_LARGE_P42_BREMBO_LARGE_44MOC%3A++++++++++%7B%22BURNISHED%22%3A+36.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++++++BREMBO_LARGE_P42_MANDO_43MOC%3A+++++++++++++++++%7B%22BURNISHED%22%3A+36.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++%7D%2C%0A++++++++CYBER_TRUCK_CHASSIS%3A+%7B%0A++++++++++++BREMBO_54_MANDO_57%3A+++++++++++++++++++++++++++%7B%22BURNISHED%22%3A+34.0%2C+%22UNBURNISHED%22%3A+31.0%7D%2C%0A++++++++%7D%0A++++%7D%0A++++async+def+extended_session_with_retries%28node%2C+attempts%2C+delay%29%3A%0A++++++++for+attempt+in+range%28attempts%29%3A%0A++++++++++++try%3A%0A++++++++++++++++await+uds_diagnostic_session%28node_name+%3D+node%2C%0A++++++++++++++++++++++++++++++++++++++++++++response_required+%3D+True%2C%0A++++++++++++++++++++++++++++++++++++++++++++session_type+%3D+%27EXTENDED_DIAGNOSTIC_SESSION%27%29%0A++++++++++++++++await+sleep%28delay%29%0A++++++++++++++++return+None%0A++++++++++++except+UdsEcuError+as+error%3A%0A++++++++++++++++if+attempt+%3C+attempts-1%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+f%27%7Bnode%7DConditionsNotCorrectDiagSession%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+2%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+f%27%7Bnode%7DConditionsNotCorrectDiagSessionRetryLimitExceeded%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+1%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3Df%22%7Bnode%7D+failed+to+enter+EXTENDED_DIAGNOSTIC_SESSION+after+%7Battempts%7D+attempts+so+the+stiffness+routine+did+not+run.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR+%29%0A++++++++++++++++++++return+out%0A++++async+def+actuate_esp_valves%28uds_command%2C+attempts%2C+delay%29%3A%0A++++++++for+attempt+in+range%28attempts%29%3A%0A++++++++++++try%3A%0A++++++++++++++++actuation_result+%3D+await+uds_routine_control%28input_payload+%3D+bytes.fromhex%28uds_command%29%2C%0A++++++++++++++++++++++++++++++++++++node_name+%3D+%22ESP%22%2C%0A++++++++++++++++++++++++++++++++++++output_length+%3D+12%2C%0A++++++++++++++++++++++++++++++++++++routine_id+%3D+0xf00a%2C%0A++++++++++++++++++++++++++++++++++++routine_type+%3D+%27START_ROUTINE%27%29%0A++++++++++++++++if+actuation_result.get%28%22output_payload%22%29+%3D%3D+bytes.fromhex%28%2201%22%29%3A+++++++%0A++++++++++++++++++++return+None%0A++++++++++++++++elif+attempt+%3D%3D+attempts-1%3A+++++++++++++++++++++++++++++++++++++++++%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3Df%22ESP+valve+failed+to+actuate+after+%7Battempts%7D+tries.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++++++return+out%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+sleep%28delay%29%0A++++++++++++except+UdsEcuError+as+error%3A%0A++++++++++++++++if+attempt+%3C+attempts-1%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+%27ESPRequestUDSError%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+2%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++await+sleep%28delay%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+%27ESPRequestUDSErrorLimitExceeded%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+1%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3D%22ESP+valve+failed+to+actuate+due+to+UDS+error.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++++++return+out%0A++++async+def+odx_routine_with_retries%28start_bool%2C+session%2C+parameters%2C+routine%2C+node%2C+retries%2C+retry_delay%29%3A+%0A++++++++for+attempt+in+range%28retries%29%3A%0A++++++++++++try%3A%0A++++++++++++++++if+start_bool%3A++%0A++++++++++++++++++++routine_type+%3D+%22StartRoutine%22%0A++++++++++++++++++++routineStarted+%3D+await+odx_start_routine%28diagnostic_session+%3D+session%2C%0A++++++++++++++++++++++++++++++++++++++++++++params+%3D+parameters%2C%0A++++++++++++++++++++++++++++++++++++++++++++routine_name+%3D+routine%2C%0A++++++++++++++++++++++++++++++++++++++++++++node_name+%3D+node%29%0A++++++++++++++++++++return+routineStarted%2C+None%0A++++++++++++++++else%3A+++++++++++%0A++++++++++++++++++++routine_type+%3D+%22RequestResults%22%0A++++++++++++++++++++routineResults+%3D+await+odx_request_results%28diagnostic_session+%3D+session%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++routine_name+%3D+routine%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++node_name+%3D+node%29%0A++++++++++++++++++++return+routineResults%2C+None%0A++++++++++++except+Exception+as+error%3A%0A++++++++++++++++if+attempt+%3C+retries-1%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+f%27ExceptionIn%7Bnode%7D_%7Broutine%7D%7Broutine_type%7D%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+2%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++await+sleep%28retry_delay%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+capture_metric%28metric_name+%3D+f%27ExceptionIn%7Bnode%7D_%7Broutine%7D%7Broutine_type%7DLimitExceeded%27%2C%0A++++++++++++++++++++++++++++++++++++++++result_code+%3D+1%2C%0A++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3Df%22Exception+detected+in+%7Bnode%7D_%7Broutine%7D+while+trying+to+%7Broutine_type%7D+after+%7Bretries%7D+attempts.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++++++return+None%2C+out%0A++++async+with+power_context%28power_state+%3D+api.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++GTW_chassisType+%3D+await+run_reference%28%27Gen3%2Flib%2FICE_INFO_READ-GW-CONFIGS%27%2C+configList%3D%5BchassisType%5D%29%0A++++++++GTW_brakeHWType+%3D+await+run_reference%28%27Gen3%2Flib%2FICE_INFO_READ-GW-CONFIGS%27%2C+configList%3D%5BbrakeHwType%5D%29%0A++++++++if+PRESSURE_P100_MIN+is+None%3A%0A++++++++++++if+list%28STIFFNESS_THRESHOLD_DICT.keys%28%29%29.count%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D%29+%21%3D+0%3A%0A++++++++++++++++if+list%28STIFFNESS_THRESHOLD_DICT%5BGTW_chassisType%5B%27Output%27%5D%5BchassisType%5D%5D.keys%28%29%29.count%28GTW_brakeHWType%5B%27Output%27%5D%5BbrakeHwType%5D%29+%21%3D+0%3A%0A++++++++++++++++++++if+BURNISHED_TEST%3A%0A++++++++++++++++++++++++PRESSURE_P100_MIN+%3D+STIFFNESS_THRESHOLD_DICT%5BGTW_chassisType%5B%27Output%27%5D%5BchassisType%5D%5D%5BGTW_brakeHWType%5B%27Output%27%5D%5BbrakeHwType%5D%5D%5B%27BURNISHED%27%5D%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++PRESSURE_P100_MIN+%3D+STIFFNESS_THRESHOLD_DICT%5BGTW_chassisType%5B%27Output%27%5D%5BchassisType%5D%5D%5BGTW_brakeHWType%5B%27Output%27%5D%5BbrakeHwType%5D%5D%5B%27UNBURNISHED%27%5D%0A++++++++++++++++else%3A%0A++++++++++++++++++++message+%3D+%22GTW_brakeHWType+%7B%7D+is+currently+unsupported.%22.format%28GTW_brakeHWType%5B%27Output%27%5D%5BbrakeHwType%5D%29%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3Dmessage%2C%0A++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++++++return+out%0A++++++++++++else%3A%0A++++++++++++++++message+%3D+%22GTW_chassisType+%7B%7D+is+currently+unsupported.%22.format%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D%29%0A++++++++++++++++out+%3D+output%28user_facing_msg%3Dmessage%2C%0A++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++return+out%0A++++++++RUN_CORNER_TEST+%3D+TEST_FRONT_LEFT_CORNER+or+TEST_FRONT_RIGHT_CORNER+or+TEST_REAR_LEFT_CORNER+or+TEST_REAR_RIGHT_CORNER%0A++++++++if+%28+%28+%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D+%3D%3D+MODEL_S_CHASSIS%29%0A++++++++or+%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D+%3D%3D+MODEL_X_CHASSIS%29%0A++++++++or+%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D+%3D%3D+CYBER_TRUCK_CHASSIS%29+%29%0A++++++++and+%28not+BURNISHED_TEST%29+%0A++++++++and+%28not+RUN_CORNER_TEST%29+%29%3A%0A++++++++++++NUMBER_OF_LOOPS+%3D+NUMBER_OF_LOOPS_OVERRIDE++++%0A++++++++if+RUN_PRE_EVAC+is+None%3A%0A++++++++++++if+%28+%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D+%3D%3D+MODEL_3_CHASSIS%29%0A++++++++++++or+%28GTW_chassisType%5B%27Output%27%5D%5BchassisType%5D+%3D%3D+MODEL_Y_CHASSIS%29%29+%3A%0A++++++++++++++++RUN_PRE_EVAC+%3D+M3Y_PRE_EVAC_DEFAULT%0A++++++++++++else%3A%0A++++++++++++++++RUN_PRE_EVAC+%3D+GENERAL_PRE_EVAC_DEFALT%0A++++++++inputsDict+%3D+%7B%27TEST_FUNCTION%27%3A+TEST_FUNCTION%2C%0A++++++++++++++++++++%27MEASUREMENT_FUNCTION%27%3A+MEASUREMENT_FUNCTION%2C%0A++++++++++++++++++++%27INPUT_ROD_STROKE_S100%27%3A+INPUT_ROD_STROKE_S100%2C%0A++++++++++++++++++++%27INPUT_ROD_STROKE_S200%27%3A+INPUT_ROD_STROKE_S200%2C%0A++++++++++++++++++++%27TRAVEL_SPEED_V1%27%3A+TRAVEL_SPEED_V1%2C%0A++++++++++++++++++++%27TRAVEL_SPEED_V2%27%3A+TRAVEL_SPEED_V2%2C%0A++++++++++++++++++++%27SETTING_STROKE_TIME_HOLD_PHASE_OR_TIMEOUT%27%3A+SETTING_STROKE_TIME_HOLD_PHASE_OR_TIMEOUT%2C%0A++++++++++++++++++++%27SETTING_STROKE_TIME_RELEASE_PHASE%27%3A+SETTING_STROKE_TIME_RELEASE_PHASE%2C%0A++++++++++++++++++++%27MEASURE_STROKE_LEAKAGE_PHASE%27%3A+MEASURE_STROKE_LEAKAGE_PHASE%2C%0A++++++++++++++++++++%27MEASURE_STROKE_STABILIZATION_PHASE%27%3A+MEASURE_STROKE_STABILIZATION_PHASE%2C%0A++++++++++++++++++++%27NUMBER_OF_LOOPS%27%3A+NUMBER_OF_LOOPS%2C%0A++++++++++++++++++++%27NUMBER_OF_MEASURE_SAMPLES%27%3A+NUMBER_OF_MEASURE_SAMPLES%7D%0A++++++++metadata+%3D+%7B%27START_PARAMETERS%27%3A+inputsDict%7D%0A++++++++supportedMeasurementFunctions+%3D+%5B%27ESC_PRESSURE%27%2C+%27MOTOR_TORQUE%27%5D%0A++++++++if+MEASUREMENT_FUNCTION+not+in+supportedMeasurementFunctions%3A%0A++++++++++++await+capture_metric%28expected_value+%3D+supportedMeasurementFunctions%2C%0A+++++++++++++++++++++++++++++++++metric_name+%3D+%27UnsupportedMEASUREMENT_FUNCTION%27%2C%0A+++++++++++++++++++++++++++++++++value+%3D+MEASUREMENT_FUNCTION%2C%0A+++++++++++++++++++++++++++++++++result_code+%3D+1%29%0A++++++++++++out+%3D+output%28user_facing_msg%3D%22Stiffness+routine+task+input+MEASUREMENT_FUNCTION+is+incorrect+so+the+stiffness+routine+did+not+run.+The+value+must+either+be+ESC_PRESSURE+or+MOTOR_TORQUE.%22%2C%0A++++++++++++++++++++++++exit_code%3Dexit_reason.INVALID_INPUT%29%0A++++++++++++return+out%0A++++++++if+RUN_PRE_EVAC%3A%0A++++++++++++evacAndFillResults+%3D+await+run_reference%28%27Gen3%2Flib%2FBRAKE_EVAC_AND_FILL_PROC%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++PUMP_START_SEC+%3D+0%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++TOTAL_PROC_SEC+%3D+TOTAL_PROC_SEC%29%0A++++++++++++if+evacAndFillResults%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++++++await+capture_metric%28metric_name+%3D+%27DidNotRunIBSTStiffnessBecauseEvacFillDidNotExit0%27%29%0A++++++++++++++++out+%3D+output%28user_facing_msg%3D%22Evac+and+fill+procedure+did+not+exit+properly+so+the+stiffness+routine+did+not+run.+Evac+and+fill+is+not+normally+needed+for+stiffness+routine+to+run+-+was+added+for+a+past+factory+process+deviation.+If+evac+and+fill+is+not+required%2C+re-run+the+routine+and+set+the+RUN_PRE_EVAC+input+to+false.%22%2C%0A++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR%29%0A++++++++++++++++return+out%0A++++++++++++else%3A%0A++++++++++++++++await+sleep%286%29%0A++++++++async+with+uds_tester_present_context%28interval+%3D+0.05%2C+uds_node_name+%3D+ECU_BLS_NODE_NAME%29%3A%0A++++++++++++if+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++await+ensure_application_state%28node_name+%3D+ECU_BLS_NODE_NAME%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++application_state+%3D+%27APPLICATION%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++default_wait+%3D+0.5%29%0A++++++++++++++++for+attempt+in+range%28ODX_RETRY_ATTEMPTS%29%3A%0A++++++++++++++++++++try%3A%0A++++++++++++++++++++++++brakeSwitchStartResults+%3D+await+odx_start_routine%28node_name+%3D+ECU_BLS_NODE_NAME%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++routine_name+%3D+%27ACTIVE_BRAKE_LINE_SELF_TEST%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++diagnostic_session+%3D+%27NO_SESSION%27%29%0A++++++++++++++++++++except+Exception+as+error%3A%0A++++++++++++++++++++++++await+capture_metric%28metric_name+%3D+%27ExceptionDetectedIn%27%2BECU_BLS_NODE_NAME%2B%27StartBrakeTest%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++value+%3D+error%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++result_code+%3D+2%29%0A++++++++++++++++++++++++brakeSwitchStartResults+%3D+%7B%27results%27%3A+%7B%27STATUS%27%3A+%27EXCEPTION%27%7D%7D+%0A++++++++++++++++++++++++await+sleep%28ODX_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++break%0A++++++++++++++++brakeSwitchStartSuccess+%3D+brakeSwitchStartResults%5B%27results%27%5D%5B%27STATUS%27%5D+%0A++++++++++++++++if+brakeSwitchStartSuccess+%3D%3D+%27SUCCESSFUL%27%3A+++++%0A++++++++++++++++++++brakeSwitchResultCode+%3D+0%0A++++++++++++++++else%3A%0A++++++++++++++++++++brakeSwitchResultCode+%3D+1%0A++++++++++++++++await+capture_metric%28ecu_name+%3D+ECU_BLS_NODE_NAME%2C%0A++++++++++++++++++++++++++++++++++++expected_value+%3D+%27SUCCESSFUL%27%2C%0A++++++++++++++++++++++++++++++++++++metadata+%3D+brakeSwitchStartResults%2C%0A++++++++++++++++++++++++++++++++++++metric_name+%3D+%27BrakeSwitchTestStartRoutineResults%27%2C%0A++++++++++++++++++++++++++++++++++++result_code+%3D+brakeSwitchResultCode%2C%0A++++++++++++++++++++++++++++++++++++value+%3D+brakeSwitchStartSuccess%29+%0A++++++++++++await+ensure_application_state%28node_name+%3D+%27IBST%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++application_state+%3D+%27APPLICATION%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++default_wait+%3D+0.6%2C%0A++++++++++++++++++++++++++++++++++++++++++++timeout+%3D+6.0%29%0A++++++++++++await+ensure_application_state%28node_name+%3D+%27ESP%27%2C%0A++++++++++++++++++++++++++++++++++++++++application_state+%3D+%27APPLICATION%27%2C%0A++++++++++++++++++++++++++++++++++++++++default_wait+%3D+0.6%2C%0A++++++++++++++++++++++++++++++++++++++++timeout+%3D+6.0%29++++%0A++++++++++++ibstStatus+%3D+await+signal_read%28signal_name+%3D+%27IBST_iBoosterStatus%27%2C+bus_name+%3D+%27ETH%27%29%0A++++++++++++allowableIbstStatuses+%3D+%5B%27IBOOSTER_READY%27%2C+%27IBOOSTER_DIAGNOSTIC%27%2C+%27IBOOSTER_ACTUATION%27%2C+%27IBOOSTER_ACTUATING%27%5D%0A++++++++++++ibstStatusStartTime+%3D+time%28%29%0A++++++++++++ibstStatusElapsedTime+%3D+0%0A++++++++++++while%28%28allowableIbstStatuses.count%28ibstStatus%5B%27value%27%5D%29+%3D%3D+0%29+and+%28ibstStatusElapsedTime+%3C+IBST_STATUS_TIMEOUT%29%29%3A%0A++++++++++++++++ibstStatus+%3D+await+signal_read%28signal_name+%3D+%27IBST_iBoosterStatus%27%2C+bus_name+%3D+%27ETH%27%29%0A++++++++++++++++ibstStatusElapsedTime+%3D+time%28%29+-+ibstStatusStartTime%0A++++++++++++if+ibstStatusElapsedTime+%3E%3D+IBST_STATUS_TIMEOUT%3A%0A++++++++++++++++await+capture_metric%28expected_value+%3D+allowableIbstStatuses%2C+%0A++++++++++++++++++++++++++++++++++++metric_name+%3D+%27TimedOutWaitingForIBSTStatus%27%2C+%0A++++++++++++++++++++++++++++++++++++result_code+%3D+1%2C+%0A++++++++++++++++++++++++++++++++++++value+%3D+ibstStatus%5B%27value%27%5D%29%0A++++++++++++++++out+%3D+output%28user_facing_msg%3D%22%7B%7D+second+timeout+exceeded+while+waiting+for+correct+IBST+status.+IBST+status+must+be+READY%2C+DIAGNOSTIC%2C+ACTUATION%2C+or+ACTUATING+to+run+the+stiffness+routine.%22.format%28IBST_STATUS_TIMEOUT%29%2C%0A++++++++++++++++++++++++++++exit_code%3Dexit_reason.TIMEOUT%29%0A++++++++++++++++return+out%0A++++++++++++else%3A%0A++++++++++++++++ibst_session_status+%3D+await+extended_session_with_retries%28%27IBST%27%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29%0A++++++++++++++++if+ibst_session_status+is+not+None%3A%0A++++++++++++++++++++return+ibst_session_status%0A++++++++++++++++if+TEST_FRONT_LEFT_CORNER+%2B+TEST_FRONT_RIGHT_CORNER+%2B+TEST_REAR_LEFT_CORNER+%2B+TEST_REAR_RIGHT_CORNER+%3E+1%3A%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3D%22Multiple+corner+tests+requested.+Set+all+TEST_X_X_CORNER+as+false+to+execute+the+system+stiffness+routine+or+specify+only+one+TEST_X_X_CORNER+to+evaluate+that+corner%27s+stiffness.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR+%29%0A++++++++++++++++++++return+out%0A++++++++++++++++if+not+RUN_CORNER_TEST+and+TEST_OUTLET_VALVE%3A%0A++++++++++++++++++++out+%3D+output%28user_facing_msg%3D%22Outlet+valve+test+requested+without+specifying+a+corner+to+test.+Set+TEST_OUTLET_VALVE+and+the+desired+TEST_X_X_CORNER+to+true+to+test+that+corner%27s+outlet+valve.%22%2C%0A++++++++++++++++++++++++++++++++exit_code%3Dexit_reason.ERROR+%29%0A++++++++++++++++++++return+out%0A++++++++++++++++if+RUN_CORNER_TEST%3A%0A++++++++++++++++++++esp_session_status+%3D+await+extended_session_with_retries%28%27ESP%27%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++if+esp_session_status+is+not+None%3A%0A++++++++++++++++++++++++return+esp_session_status%0A++++++++++++++++++++if+TEST_FRONT_LEFT_CORNER%3A%0A++++++++++++++++++++++++frontLeftValveCommand+%3D+%22000000%22%2BESP_VALVES%5B%27FrL%27%5D%5B%27INLET%27%5D+%0A++++++++++++++++++++++++outletValveReleaseCommand+%3D+%22006400%22%2BESP_VALVES%5B%27FrL%27%5D%5B%27OUTLET%27%5D%2B%220000000000C8000000%22%2BESP_VALVES%5B%27FrL%27%5D%5B%27OUTLET%27%5D%2B%2200000000%22+%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++frontLeftValveCommand+%3D+%22006400%22%2BESP_VALVES%5B%27FrL%27%5D%5B%27INLET%27%5D+%0A++++++++++++++++++++if+TEST_FRONT_RIGHT_CORNER%3A%0A++++++++++++++++++++++++frontRightValveCommand+%3D+%22000000%22%2BESP_VALVES%5B%27FrR%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++++++outletValveReleaseCommand+%3D+%22006400%22%2BESP_VALVES%5B%27FrR%27%5D%5B%27OUTLET%27%5D%2B%220000000000C8000000%22%2BESP_VALVES%5B%27FrR%27%5D%5B%27OUTLET%27%5D%2B%2200000000%22+%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++frontRightValveCommand+%3D+%22006400%22%2BESP_VALVES%5B%27FrR%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++if+TEST_REAR_LEFT_CORNER%3A%0A++++++++++++++++++++++++rearLeftValveCommand+%3D+%22000000%22%2BESP_VALVES%5B%27ReL%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++++++outletValveReleaseCommand+%3D+%22006400%22%2BESP_VALVES%5B%27ReL%27%5D%5B%27OUTLET%27%5D%2B%220000000000C8000000%22%2BESP_VALVES%5B%27ReL%27%5D%5B%27OUTLET%27%5D%2B%2200000000%22+%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++rearLeftValveCommand+%3D+%22006400%22%2BESP_VALVES%5B%27ReL%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++if+TEST_REAR_RIGHT_CORNER%3A%0A++++++++++++++++++++++++rearRightValveCommand+%3D+%22000000%22%2BESP_VALVES%5B%27ReR%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++++++outletValveReleaseCommand+%3D+%22006400%22%2BESP_VALVES%5B%27ReR%27%5D%5B%27OUTLET%27%5D%2B%220000000000C8000000%22%2BESP_VALVES%5B%27ReR%27%5D%5B%27OUTLET%27%5D%2B%2200000000%22+%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++rearRightValveCommand+%3D+%22006400%22%2BESP_VALVES%5B%27ReR%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++valveCloseCommand+%3D+frontLeftValveCommand%2BfrontRightValveCommand%2B%220001%22%2BrearLeftValveCommand%2BrearRightValveCommand%0A++++++++++++++++++++valve_close_status+%3D+await+actuate_esp_valves%28valveCloseCommand%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++if+valve_close_status+is+not+None%3A%0A++++++++++++++++++++++++return+valve_close_status%0A++++++++++++++++async+with+uds_tester_present_context%28interval+%3D+0.5%2C+uds_node_name+%3D+%27ESP%27%29%3A%0A++++++++++++++++++++async+with+uds_tester_present_context%28interval+%3D+0.5%2C+uds_node_name+%3D+%27IBST%27%29%3A%0A++++++++++++++++++++++++_%2C+serviceOutput+%3D+await+odx_routine_with_retries%28True%2C+%27NO_SESSION%27%2C+inputsDict%2C+%27STIFFNESS_TEST%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%27IBST%27%2C+ODX_RETRY_ATTEMPTS%2C+ODX_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++++++if+serviceOutput+is+not+None%3A+++%0A++++++++++++++++++++++++++++return+serviceOutput%0A++++++++++++++++++++++++if+TEST_OUTLET_VALVE%3A%0A++++++++++++++++++++++++++++await+sleep%28OUTLET_VALVE_RELEASE_DELAY%29+%0A++++++++++++++++++++++++++++valve_release_status+%3D+await+actuate_esp_valves%28outletValveReleaseCommand%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++++++++++if+valve_release_status+is+not+None%3A%0A++++++++++++++++++++++++++++++++return+valve_release_status%0A++++++++++++++++++++++++stiffnessResultsStartTime+%3D+time%28%29%0A++++++++++++++++++++++++stiffnessResultsElapsedTime+%3D+0%0A++++++++++++++++++++++++while+stiffnessResultsElapsedTime+%3C+REQUEST_RESULTS_TIMEOUT%3A%0A++++++++++++++++++++++++++++stiffnessRoutine%2C+serviceOutput+%3D+await+odx_routine_with_retries%28False%2C+%27NO_SESSION%27%2C+inputsDict%2C+%27STIFFNESS_TEST%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%27IBST%27%2C+ODX_RETRY_ATTEMPTS%2C+ODX_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++++++++++if+serviceOutput+is+not+None%3A+++%0A++++++++++++++++++++++++++++++++return+serviceOutput%0A++++++++++++++++++++++++++++if+stiffnessRoutine.get%28%27results%27%29.get%28%27STATUS%27%29+not+in+%5B%27ROUTINE_STARTED_SUCCESSFULLY%27%2C+%27ROUTINE_STILL_RUNNING%27%5D%3A+%0A++++++++++++++++++++++++++++++++break+++%0A++++++++++++++++++++++++++++await+sleep%28REQUEST_RESULTS_DELAY%29%0A++++++++++++++++++++++++++++stiffnessResultsElapsedTime+%3D+time%28%29+-+stiffnessResultsStartTime%0A++++++++++++++++if+RUN_CORNER_TEST%3A%0A++++++++++++++++++++valveResetCommand+%3D+%22000000%22%2BESP_VALVES%5B%27FrL%27%5D%5B%27INLET%27%5D%2B%22000000%22%2BESP_VALVES%5B%27FrR%27%5D%5B%27INLET%27%5D%2B%220001000000%22%2BESP_VALVES%5B%27ReL%27%5D%5B%27INLET%27%5D%2B%22000000%22%2BESP_VALVES%5B%27ReR%27%5D%5B%27INLET%27%5D%0A++++++++++++++++++++valve_reset_status+%3D+await+actuate_esp_valves%28valveResetCommand%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++if+valve_reset_status+is+not+None%3A%0A++++++++++++++++++++++++return+valve_reset_status%0A++++++++++++++++++++if+TEST_OUTLET_VALVE%3A+++%0A++++++++++++++++++++++++clear_accumulator_status+%3D+await+actuate_esp_valves%28%22006400220000000000C80000002200000000%22%2C+UDS_RETRY_ATTEMPTS%2C+UDS_RETRY_DELAY_SECONDS%29++++%0A++++++++++++++++++++++++if+clear_accumulator_status+is+not+None%3A%0A++++++++++++++++++++++++++++return+clear_accumulator_status%0A++++++++++++++++stiffnessRoutineRawData+%3D+stiffnessRoutine.get%28%27raw_results%27%29%0A++++++++++++++++stiffnessRoutineResults+%3D+stiffnessRoutine.get%28%27results%27%29%0A++++++++++++++++undefinedFailureReasons+%3D+%5B1%2C+2393%5D%0A++++++++++++++++if+%28%28stiffnessRoutineResults%5B%27ROUTINE_FAILURE_REASON%27%5D+%3D%3D+%22NONE%22%29+or+%28undefinedFailureReasons.count%28stiffnessRoutineResults%5B%27ROUTINE_FAILURE_REASON%27%5D%29+%3E+0%29%29+and+%28stiffnessRoutineResults%5B%27STATUS%27%5D+%3D%3D+%27ROUTINE_CANCELLED_BY_ECU%27%29%3A%0A++++++++++++++++++++stiffnessRoutineResults%5B%27ROUTINE_FAILURE_REASON%27%5D+%3D+%27PEDAL_PRESSED%27%0A++++++++++++++++measurementValueList+%3D+%5B%5D%0A++++++++++++++++for+i+in+range%28NUMBER_OF_MEASURE_SAMPLES+%2B+1%29%3A%0A++++++++++++++++++++measurementValue+%3D+stiffnessRoutineRawData%5Bi+%2B+1%5D%0A++++++++++++++++++++if+MEASUREMENT_FUNCTION+%3D%3D+%27MOTOR_TORQUE%27%3A%0A++++++++++++++++++++++++measurementValue+%3D+0.01+%2A+measurementValue++%0A++++++++++++++++++++measurementValueList.append%28measurementValue%29%0A++++++++++++++++if+MEASUREMENT_FUNCTION+%3D%3D+%27MOTOR_TORQUE%27%3A%0A++++++++++++++++++++stiffnessRoutineResults.update%28%7B%27TORQUE%28M0-M10%29%27%3A+measurementValueList%7D%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++stiffnessRoutineResults.update%28%7B%27PRESSURE%28P0-P10%29%27%3A+measurementValueList%7D%29%0A++++++++++++++++metadata.update%28%7B%27RAW_RESULTS%27%3A+stiffnessRoutineRawData%2C+%27FormattedResults%27%3A+stiffnessRoutineResults%7D%29%0A++++++++++++++++testFieldValue+%3D+stiffnessRoutineResults.get%28TEST_FIELD%29%0A++++++++++++++++if+MEASUREMENT_FUNCTION+%3D%3D+%27MOTOR_TORQUE%27%3A%0A++++++++++++++++++++minValue+%3D+TORQUE_M10_MIN%0A++++++++++++++++++++maxValue+%3D+TORQUE_M10_MAX%0A++++++++++++++++else%3A%0A++++++++++++++++++++minValue+%3D+PRESSURE_P100_MIN%0A++++++++++++++++++++maxValue+%3D+PRESSURE_P100_MAX%0A++++++++++++++++boundsNotExceeded+%3D+%28testFieldValue+%3C%3D+maxValue%29+and+%28testFieldValue+%3E%3D+minValue%29%0A++++++++++++++++pressureP100+%3D+stiffnessRoutineResults.get%28%27PRESSURE_P100%27%29%0A++++++++++++++++pressureP200+%3D+stiffnessRoutineResults.get%28%27PRESSURE_P200%27%29%0A++++++++++++++++dataNotAvailable+%3D+%28PRESSURE_LEAKAGE_THRESH+is+None%29+or+%28pressureP100+is+None%29+or+%28pressureP200+is+None%29%0A++++++++++++++++pressureDelta+%3D+pressureP100+-+pressureP200%0A++++++++++++++++pressureLeakageDelta+%3D+%7B%27PRESSURE_LEAKAGE_DELTA%27%3A+pressureDelta%7D%0A++++++++++++++++if+TEST_OUTLET_VALVE%3A+++%0A++++++++++++++++++++leakageCheckResult+%3D+%28pressureDelta+%3E%3D+PRESSURE_LEAKAGE_THRESH%29%0A++++++++++++++++else%3A+++++++++++++++++++%0A++++++++++++++++++++leakageCheckResult+%3D+%28pressureDelta+%3C%3D+PRESSURE_LEAKAGE_THRESH%29%0A++++++++++++++++if+dataNotAvailable%3A%0A++++++++++++++++++++leakagePassedOrSkipped+%3D+True%0A++++++++++++++++else%3A%0A++++++++++++++++++++leakagePassedOrSkipped+%3D+leakageCheckResult%0A++++++++++++++++if+leakageCheckResult%3A%0A++++++++++++++++++++leakageResultCode+%3D+0%0A++++++++++++++++else%3A%0A++++++++++++++++++++leakageResultCode+%3D+1%0A++++++++++++++++if+boundsNotExceeded+and+leakagePassedOrSkipped%3A%0A++++++++++++++++++++finalResultCode+%3D+0%0A++++++++++++++++else%3A%0A++++++++++++++++++++finalResultCode+%3D+1%0A++++++++++++++++await+capture_metric%28high_limit+%3D+maxValue%2C+%0A++++++++++++++++++++++++++++++++++++low_limit+%3D+minValue%2C+%0A++++++++++++++++++++++++++++++++++++metadata+%3D+metadata%2C+%0A++++++++++++++++++++++++++++++++++++metric_name+%3D+TEST_FIELD%2C+%0A++++++++++++++++++++++++++++++++++++result_code+%3D+finalResultCode%2C+%0A++++++++++++++++++++++++++++++++++++value+%3D+testFieldValue%29%0A++++++++++++++++metadata%5B%27FormattedResults%27%5D%5B%27PRESSURE_LEAKAGE%27%5D+%3D+pressureDelta%0A++++++++++++++++cornerTestOutput+%3D+%7B%22name%22%3A+TEST_FIELD%2C%0A++++++++++++++++++++++++++++++++++++%22value%22%3A+testFieldValue%2C%0A++++++++++++++++++++++++++++++++++++%22metadata%22%3A+metadata%7D%0A++++++++++++++++await+capture_metric%28metadata+%3D+pressureLeakageDelta%2C%0A++++++++++++++++++++++++++++++++++++metric_name+%3D+%27StiffnessLeakage%27%2C%0A++++++++++++++++++++++++++++++++++++result_code+%3D+leakageResultCode%2C%0A++++++++++++++++++++++++++++++++++++value+%3D+pressureDelta%29%0A++++++++++++if+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++if+brakeSwitchStartSuccess+%3D%3D+%27SUCCESSFUL%27%3A%0A++++++++++++++++++++for+attempt+in+range%28ODX_RETRY_ATTEMPTS%29%3A%0A++++++++++++++++++++++++try%3A%0A++++++++++++++++++++++++++++brakeSwitchRequestResults+%3D+await+odx_request_results%28diagnostic_session+%3D+%27EXTENDED_DIAGNOSTIC_SESSION%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++node_name+%3D+ECU_BLS_NODE_NAME%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++routine_name+%3D+%27ACTIVE_BRAKE_LINE_SELF_TEST%27%29++++++++++++++++++++++++++++++++++++++++++%0A++++++++++++++++++++++++except+Exception+as+error%3A%0A++++++++++++++++++++++++++++await+capture_metric%28metric_name+%3D+%27ExceptionDetectedIn%27%2BECU_BLS_NODE_NAME%2B%27ResultsBrakeTest%27%2C+%0A++++++++++++++++++++++++++++++++++++++++++++++++result_code+%3D+2%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++value+%3D+error%29%0A++++++++++++++++++++++++++++brakeSwitchSuccessful+%3D+False%0A++++++++++++++++++++++++++++await+sleep%28ODX_RETRY_DELAY_SECONDS%29%0A++++++++++++++++++++++++else%3A%0A++++++++++++++++++++++++++++brakeSwitchRawData+%3D+brakeSwitchRequestResults.get%28%27raw_results%27%29%0A++++++++++++++++++++++++++++brakeSwitchResults+%3D+brakeSwitchRequestResults.get%28%27results%27%29%0A++++++++++++++++++++++++++++brakeSwitchResults.update%28%7B%27raw_results%27%3A+brakeSwitchRawData%7D%29%0A++++++++++++++++++++++++++++switchRoutineRunningStatus+%3D+brakeSwitchResults%5B%27STATUS%27%5D%0A++++++++++++++++++++++++++++if+switchRoutineRunningStatus+%3D%3D+%27NOT_RUNNING_FINISHED%27%3A%0A++++++++++++++++++++++++++++++++switchRoutineRunningResultCode+%3D+0%0A++++++++++++++++++++++++++++else%3A%0A++++++++++++++++++++++++++++++++switchRoutineRunningResultCode+%3D+1%0A++++++++++++++++++++++++++++await+capture_metric%28expected_value+%3D+%27NOT_RUNNING_FINISHED%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++metadata+%3D+brakeSwitchResults%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++metric_name+%3D+%27BrakeSwitchTestRoutineRequestResultsStatus%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++result_code+%3D+switchRoutineRunningResultCode%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++value+%3D+switchRoutineRunningStatus%29%0A++++++++++++++++++++++++++++noSwitchTestPassedVCLEFT+%3D+0%0A++++++++++++++++++++++++++++noSwitchTestPassedDI+%3D+0%0A++++++++++++++++++++++++++++ncSwitchTestPassedDI+%3D+0%0A++++++++++++++++++++++++++++switchInstalledCorrectDepth+%3D+0%0A++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+%22%22%0A++++++++++++++++++++++++++++if+%27VCLEFT_NO_SWITCH_TEST_PASSED%27+in+brakeSwitchResults%3A%0A++++++++++++++++++++++++++++++++noSwitchTestPassedVCLEFT+%3D+brakeSwitchResults%5B%27VCLEFT_NO_SWITCH_TEST_PASSED%27%5D%0A++++++++++++++++++++++++++++++++if+noSwitchTestPassedVCLEFT+%21%3D+0%3A%0A++++++++++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+brakeSwitchFailReason+%2B+%22VCLEFT_NO_SWITCH_TEST_FAILED%22%0A++++++++++++++++++++++++++++if+%27DI_NO_SWITCH_TEST_PASSED%27+in+brakeSwitchResults%3A%0A++++++++++++++++++++++++++++++++noSwitchTestPassedDI+%3D+brakeSwitchResults%5B%27DI_NO_SWITCH_TEST_PASSED%27%5D%0A++++++++++++++++++++++++++++++++if+noSwitchTestPassedDI+%21%3D+0%3A%0A++++++++++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+brakeSwitchFailReason+%2B+%22+DI_NO_SWITCH_TEST_FAILED%22++++++++++++++++++++++++++++++++++++++++%0A++++++++++++++++++++++++++++if+%27DI_NC_SWITCH_TEST_PASSED%27+in+brakeSwitchResults%3A%0A++++++++++++++++++++++++++++++++ncSwitchTestPassedDI+%3D+brakeSwitchResults%5B%27DI_NC_SWITCH_TEST_PASSED%27%5D%0A++++++++++++++++++++++++++++++++if+ncSwitchTestPassedDI+%21%3D+0%3A%0A++++++++++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+brakeSwitchFailReason+%2B+%22+DI_NC_SWITCH_TEST_FAILED%22%0A++++++++++++++++++++++++++++if+%27SWITCH_INSTALLED_AT_CORRECT_DEPTH%27+in+brakeSwitchResults%3A%0A++++++++++++++++++++++++++++++++switchInstalledCorrectDepth+%3D+brakeSwitchResults%5B%27SWITCH_INSTALLED_AT_CORRECT_DEPTH%27%5D%0A++++++++++++++++++++++++++++++++if+switchInstalledCorrectDepth+%21%3D+0%3A%0A++++++++++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+brakeSwitchFailReason+%2B+%22+SWITCH_INSTALLED_AT_INCORRECT_DEPTH%22%0A++++++++++++++++++++++++++++if+brakeSwitchFailReason+%3D%3D+%22%22+and+switchRoutineRunningResultCode+%3D%3D+1%3A+%0A++++++++++++++++++++++++++++++++brakeSwitchFailReason+%3D+brakeSwitchFailReason+%2B+%22SWITCH_TEST_DID_NOT_FINISH%22%0A++++++++++++++++++++++++++++if+%28noSwitchTestPassedVCLEFT+%21%3D+0%29+or+%28noSwitchTestPassedDI+%21%3D+0%29+or+%28ncSwitchTestPassedDI+%21%3D+0%29+or+%28switchInstalledCorrectDepth+%21%3D+0%29%3A%0A++++++++++++++++++++++++++++++++brakeSwitchTest+%3D+False%0A++++++++++++++++++++++++++++else%3A%0A++++++++++++++++++++++++++++++++brakeSwitchTest+%3D+True%0A++++++++++++++++++++++++++++if+brakeSwitchTest+and+%28switchRoutineRunningStatus+%3D%3D+%27NOT_RUNNING_FINISHED%27%29%3A%0A++++++++++++++++++++++++++++++++brakeSwitchSuccessful+%3D+True%0A++++++++++++++++++++++++++++else%3A%0A++++++++++++++++++++++++++++++++brakeSwitchSuccessful+%3D+False++%0A++++++++++++++++++++++++++++break%0A++++++++++++++++else%3A%0A++++++++++++++++++++brakeSwitchSuccessful+%3D+False%0A++++++++++++if+not+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++brakeSwitchSuccessful+%3D+True++++%0A++++++++++++if+boundsNotExceeded%3A%0A++++++++++++++++stiffness_message+%3D+f%22passed+%28measured+stiffness+%3D+%7BpressureP100%7D+bar%2C+%5Bmin%2C+max%5D+%3D+%5B%7BminValue%7D%2C+%7BmaxValue%7D%5D+bar%29%22%0A++++++++++++else%3A%0A++++++++++++++++if+stiffnessRoutineResults%5B%27ROUTINE_FAILURE_REASON%27%5D+%21%3D+%22NONE%22%3A%0A++++++++++++++++++++stiffness_message+%3D+f%22failed+%28reason%3A+%7BstiffnessRoutineResults%5B%27ROUTINE_FAILURE_REASON%27%5D%7D%29%22%0A++++++++++++++++elif+testFieldValue+%3E+maxValue%3A%0A++++++++++++++++++++stiffness_message+%3D+f%22failed+%28reason%3A+%7BmaxValue%7D+bar+maximum+pressure+exceeded+%28stiffness+%3D+%7BpressureP100%7D+bar%29%2C+make+sure+there+are+no+blockages+in+the+brake+circuit%29%22%0A++++++++++++++++elif+testFieldValue+%3C+minValue%3A%0A++++++++++++++++++++stiffness_message+%3D+f%22failed+%28reason%3A+%7BminValue%7D+bar+minimum+pressure+was+not+reached+%28stiffness+%3D+%7BpressureP100%7D+bar%29%2C+check+brake+fluid+levels+and+perform+brake+bleed%29%22%0A++++++++++++++++else%3A%0A++++++++++++++++++++stiffness_message+%3D+%22failed+%28undefined+failure+mode%29%22%0A++++++++++++if+leakagePassedOrSkipped%3A%0A++++++++++++++++if+TEST_OUTLET_VALVE%3A+++%0A++++++++++++++++++++leakage_message+%3D+f%22Outlet+valve+release+check+passed+%28measured+pressure+release+%3D+%7BpressureDelta%7D+bar%2C+minimum+%3D+%7BPRESSURE_LEAKAGE_THRESH%7D+bar%29%22%0A++++++++++++++++else%3A+++++++++++++++++++%0A++++++++++++++++++++leakage_message+%3D+f%22Leakage+check+passed+%28measured+leakage+%3D+%7BpressureDelta%7D+bar%2C+maximum+%3D+%7BPRESSURE_LEAKAGE_THRESH%7D+bar%29%22%0A++++++++++++else%3A%0A++++++++++++++++if+TEST_OUTLET_VALVE%3A%0A++++++++++++++++++++leakage_message+%3D+f%22Outlet+valve+release+check+failed+%28reason%3A+%7BPRESSURE_LEAKAGE_THRESH%7D+bar+minimum+release+pressure+was+not+met+%28released+pressure+%3D+%7BpressureDelta%7D+bar%29%2C+the+outlet+valve+did+not+actuate+sufficiently%29%22%0A++++++++++++++++else%3A%0A++++++++++++++++++++leakage_message+%3D+f%22Leakage+check+failed+%28reason%3A+%7BPRESSURE_LEAKAGE_THRESH%7D+bar+leakage+threshold+exceeded+%28leakage+%3D+%7BpressureDelta%7D+bar%29%2C+there+is+a+leak+or+air+in+the+brake+circuit%29%22%0A++++++++++++if+brakeSwitchSuccessful+and+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++switch_message+%3D+%22passed%22%0A++++++++++++elif+brakeSwitchSuccessful+and+not+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++switch_message+%3D+%22skipped%22%0A++++++++++++else%3A%0A++++++++++++++++switch_message+%3D+%22failed+%28reason%3A+%22+%2B+brakeSwitchFailReason+%2B+%22%29%22%0A++++++++++++if+RUN_BRAKE_SWITCH%3A%0A++++++++++++++++message+%3D+f%22Stiffness+check+%7Bstiffness_message%7D.+%7Bleakage_message%7D.+Brake+switch+check+%7Bswitch_message%7D.%22%0A++++++++++++else%3A%0A++++++++++++++++message+%3D+f%22Stiffness+check+%7Bstiffness_message%7D.+%7Bleakage_message%7D.%22%0A++++++++++++if+boundsNotExceeded+and+leakagePassedOrSkipped+and+brakeSwitchSuccessful%3A%0A++++++++++++++++out+%3D+output%28user_facing_msg%3Dmessage%2C%0A++++++++++++++++++++++++++++exit_code%3Dexit_reason.PASS%29%0A++++++++++++else%3A%0A++++++++++++++++out+%3D+output%28user_facing_msg%3Dmessage%2C%0A++++++++++++++++++++++++++++exit_code%3Dexit_reason.FAIL%29%0A++++++++++++out.add_data%28%0A++++++++++++++++name%3D%22Stiffness+Routine+Data%22%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3DcornerTestOutput%0A++++++++++++%29%0A++++++++++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_VCLEFT-VCRIGHT-OCS1P_X_CHECK-OCCUPANCY.py
			async+def+odin_script_test%28api%29%3A%0A++++async+with+api.vehiclecontrols.power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++result+%3D+await+api.subnetwork.run_reference%28%0A++++++++++++%27Model3%2Flib%2FCAN_SIGNALS_CHECK%27%2C%0A++++++++++++CANsignals%3D%7B%27VCLEFT_frontOccupancyStatus%27%3A+%5B%27SEAT_UNOCCUPIED%27%5D%2C%0A++++++++++++++++%27VCLEFT_rearCenterOccupancyStatus%27%3A+%5B%27SEAT_UNOCCUPIED%27%5D%2C%0A++++++++++++++++%27VCLEFT_rearLeftOccupancyStatus%27%3A+%5B%27SEAT_UNOCCUPIED%27%5D%2C%0A++++++++++++++++%27VCLEFT_rearRightOccupancyStatus%27%3A+%5B%27SEAT_UNOCCUPIED%27%5D%2C%0A++++++++++++++++%27OCS1P_occupiedState%27%3A+%5B%27OCCUPIED_STATE_UNOCCUPIED%27%2C%27OCCUPIED_STATE_SNA%27%5D%7D%0A++++%29%0A++++return+result%5B%27exit_code%27%5D
		../../odin_bundle/networks/Gen3/scripts/PROC_HVC_X_PACK-REPLACEMENT.py
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+sleep%0A++++exit_reason%3Dapi.service_output_exit_reason%0A++++output%3Dapi.service_output%0A++++run_ref%3Dapi.subnetwork.run_reference%0A++++STEP_RETRY_COUNT+%3D+3%0A++++STEP_RETRY_SLEEP_INTERVAL_SECONDS+%3D+1%0A++++out%3Doutput%28%29%0A++++routine_list+%3D+%7B%0A++++++++%27Gen3%2Ftasks%2FPROC_HVBMS_X_RESET-ISOLATION-COUNTERS%27%3A+%27Clear+Isolation+Counters%27%2C%0A++++++++%27Gen3%2Ftasks%2FPROC_HVP_X_HVIL-SET-CONFIGURATION%27%3A+%27Set+HVIL+Configuration%27%2C%0A++++++++%27Gen3%2Ftasks%2FPROC_HVBMS_X_RESET-VSH-FAULT%27%3A+%27Clear+VSH+Fault%27%2C%0A++++++++%27Gen3%2Ftasks%2FPROC_HVC_X_ECU-REPLACEMENT-BACKUP%27%3A+%27Backup+HVC%27%0A++++%7D%0A++++async+def+run_routine_with_retries%28routine%29+-%3E+bool%3A%0A++++++++retries+%3D+0%0A++++++++exception+%3D+None%0A++++++++while+retries+%3C+STEP_RETRY_COUNT%3A%0A++++++++++++try%3A%0A++++++++++++++++routine_status+%3D+await+run_ref%28routine%29%0A++++++++++++++++if+routine_status%5B%27exit_code%27%5D+%3D%3D+0%3A%0A++++++++++++++++++++return+True%2C+None%0A++++++++++++except+Exception+as+e%3A%0A++++++++++++++++exception+%3D+e%0A++++++++++++retries+%2B%3D+1%0A++++++++++++await+sleep%28STEP_RETRY_SLEEP_INTERVAL_SECONDS%29%0A++++++++return+False%2C+exception%0A++++out.set_user_facing_msg%28%27High+voltage+battery+replacement+routine+failed.+See+Article+6768800+for+more+details.%27%29%0A++++out.set_exit_code%28exit_reason.FAIL%29%0A++++all_routine_runs+%3D+%5B%5D%0A++++for+routine%2C+name+in+routine_list.items%28%29%3A%0A++++++++result%2C+exception+%3D+await+run_routine_with_retries%28routine%29++++++++%0A++++++++if+routine+%3D%3D+%27Gen3%2Ftasks%2FPROC_HVBMS_X_RESET-VSH-FAULT%27%3A%0A++++++++++++out.add_data%28name%3Dname%2C+data_type%3Dstr%2C+data%3D%22PASS%22%29%0A++++++++else%3A%0A++++++++++++out.add_data%28name%3Dname%2C+data_type%3Dstr%2C+data%3Df%22%7B%27PASS%27+if+result+else+%27FAIL%27%7D%22%29%0A++++++++++++all_routine_runs.append%28result%29%0A++++++++if+exception%3A%0A++++++++++++out.add_exception%28exception%29%0A++++if+all%28all_routine_runs%29%3A%0A++++++++out.set_user_facing_msg%28%27High+voltage+battery+replacement+routine+passed.%27%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_ESP_FRONT-L-REAR-R-BRAKE-BLEED-SCRIPT.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++try%3A%0A++++++++disable_auto_cycle+%3D+await+run_ref%28%0A++++++++++++name%3D%22Gen3%2Ftasks%2FPROC_ESP_EVACFILL-STATUS-WRITE-REPAIR%22%0A++++++++%29%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Ddict%2C+data%3Ddisable_auto_cycle%29%0A++++++++if+not+%28isinstance%28disable_auto_cycle%2C+dict%29+and+disable_auto_cycle.get%28%22exit_code%22%2C+exit_reason.FAIL.value%29+in+%5Bexit_reason.PASS.value%2C+exit_reason.OPERATION_NOT_PERMITTED.value%5D%29%3A%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28%22Failed+to+disable+ESP+auto+cycle%22%29%0A++++++++++++return+output%0A++++except+ModuleNotFoundError%3A%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Dstr%2C+data%3D%22Skip+disabling+ESP+production+mode%22%29%0A++++brake_bleed+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FFL_RR_BRAKE_BLEED%22%0A++++%29%0A++++output.add_data%28name%3D%22FL_RR_BRAKE_BLEED%22%2C+data_type%3Ddict%2C+data%3Dbrake_bleed%29%0A++++if+isinstance%28brake_bleed%2C+dict%29+and+brake_bleed.get%28%22exit_code%22%2C+1%29+%3D%3D+0%3A%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+execute+brake+bleed%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_ESP_FRONT-R-REAR-L-BRAKE-BLEED-SCRIPT.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++try%3A%0A++++++++disable_auto_cycle+%3D+await+run_ref%28%0A++++++++++++name%3D%22Gen3%2Ftasks%2FPROC_ESP_EVACFILL-STATUS-WRITE-REPAIR%22%0A++++++++%29%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Ddict%2C+data%3Ddisable_auto_cycle%29%0A++++++++if+not+%28isinstance%28disable_auto_cycle%2C+dict%29+and+disable_auto_cycle.get%28%22exit_code%22%2C+exit_reason.FAIL.value%29+in+%5Bexit_reason.PASS.value%2C+exit_reason.OPERATION_NOT_PERMITTED.value%5D%29%3A%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28%22Failed+to+disable+ESP+auto+cycle%22%29%0A++++++++++++return+output%0A++++except+ModuleNotFoundError%3A%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Dstr%2C+data%3D%22Skip+disabling+ESP+production+mode%22%29%0A++++brake_bleed+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FFR_RL_BRAKE_BLEED%22%0A++++%29%0A++++output.add_data%28name%3D%22FR_RL_BRAKE_BLEED%22%2C+data_type%3Ddict%2C+data%3Dbrake_bleed%29%0A++++if+isinstance%28brake_bleed%2C+dict%29+and+brake_bleed.get%28%22exit_code%22%2C+1%29+%3D%3D+0%3A%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+execute+brake+bleed%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/TEST_GTW_ENABLE-BMP-WATCHDOG.py
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+TimeoutError%0A++++from+asyncio+import+sleep%0A++++for+i+in+range%283%29%3A%0A++++++++try%3A%0A++++++++++++result+%3D+await+api.cid.execute_application%28%0A++++++++++++++++path%3D%22%2Fusr%2Fsbin%2Fgw-diag%22%2C+user%3D%22odin%22%2C+whitelist_chars%3D%22_%22%2C%0A++++++++++++++++args%3D%5B%27SET_CONFIG_DATA%27%2C+%2700%27%2C+%2761%27%2C+%2700%27%5D%2C+timeout%3D5%0A++++++++++++%29%0A++++++++except+TimeoutError%3A%0A++++++++++++await+sleep%28i%29%0A++++++++else%3A%0A++++++++++++if+result.get%28%27exit_status%27%29+%3E+0+or+len%28result.get%28%27stderr%27%29%29+%3E+0+or+len%28result.get%28%27stdout%27%2C+%27%27%29%29+%3D%3D+0%3A%0A++++++++++++++++return+7%0A++++++++++++break++%0A++++r+%3D+await+api.subnetwork.run_reference%28%22Gen3%2Ftasks%2FTEST_GTW_BMP-WATCHDOG-ENABLED%22%29%0A++++return+r.get%28%27exit_code%27%29
		../../odin_bundle/networks/Gen3/scripts/HERMES_GRABLOGS_REQUEST_APE.py
			async+def+odin_script_test%28api%2C+log_paths%3A+list%2C+request_timeout%3A+int%2C+save_path%3A+list%29%3A%0A++++from+time+import+strftime%2C+localtime%0A++++download+%3D+api.http.download%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++json_dumps+%3D+api.json.dumps%0A++++debug_print+%3D+api.reporting.debug_print%0A++++upload_file+%3D+api.cid.upload_file%0A++++is_fused+%3D+api.cid.is_fused%0A++++async+def+try_http_download%28url%2C+timeout%2C+data%2C+save_path%29%3A%0A++++++++try%3A%0A++++++++++++response+%3D+await+download%28%0A++++++++++++++++timeout%3Dtimeout%2C%0A++++++++++++++++url%3Durl%2C%0A++++++++++++++++data%3Ddata%2C%0A++++++++++++++++filepath%3Dsave_path%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22http_download_response%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Dresponse%29%0A++++++++++++return+response%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++++++return+%7B%7D%0A++++async+def+try_upload%28save_path%29%3A%0A++++++++try%3A%0A++++++++++++response+%3D+await+upload_file%28file_path%3Dsave_path%29%0A++++++++++++output.add_data%28name%3D%22upload_response%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Dresponse%29%0A++++++++++++return+response%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_data%28name%3D%22upload_exception%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++++++++++data%3D%7B%0A++++++++++++++++++++++++++++++++%22save_path%22%3A+save_path%2C%0A++++++++++++++++++++++++++++++++%22exception%22%3A+e%0A++++++++++++++++++++++++++++%7D%29%0A++++++++++++return+%7B%7D%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++REQUEST_URL+%3D+%27http%3A%2F%2Fape%3A8901%2Fgrablogs%27%0A++++request_body+%3D+%7B%0A++++++++%22logs%22%3A+%5B%0A++++++++++++%7B%0A++++++++++++++++%22paths%22%3A+%5B%5D%0A++++++++++++%7D%0A++++++++%5D%0A++++%7D%0A++++fused+%3D+await+is_fused%28%29%0A++++if+fused%5B%22is_fused%22%5D%3A%0A++++++++output.set_user_facing_msg%28%22Unable+to+grab+snapshot%2C+car+fused%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++for+path+in+log_paths%3A%0A++++++++built_path+%3D+%27%27%0A++++++++for+x+in+path%3A%0A++++++++++++built_path+%2B%3D+f%27%2F%7Bx%7D%27%0A++++++++request_body%5B%22logs%22%5D%5B0%5D%5B%22paths%22%5D+%2B%3D+%5Bbuilt_path%5D%0A++++output.add_data%28name%3D%22request_json%22%2C%0A++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++data%3Df%22%7Brequest_body%7D%22%29%0A++++built_path+%3D+%27%27%0A++++for+x+in+save_path%3A%0A++++++++built_path+%2B%3D+f%27%2F%7Bx%7D%27%0A++++current_time+%3D+strftime%28%22%25Y-%25m-%25dT%25T%22%2C+localtime%28%29%29%0A++++save_path+%3D+f%27%7Bbuilt_path%7D-%7Bcurrent_time%7D.tgz%27%0A++++output.add_data%28name%3D%22save_path%22%2C%0A++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++data%3Df%22%7Bsave_path%7D%22%29%0A++++request_body_str+%3D+%28await+json_dumps%28json%3Drequest_body%29%29.get%28%27string%27%2C+%27%27%29%0A++++try%3A%0A++++++++resp+%3D+await+run_script%28%0A++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++timeout%3D10%2C%0A++++++++++++attempts%3D3%0A++++++++%29%0A++++++++output.add_data%28name%3Df%22Nested+call+to+%7BWAKE_AND_PING%7D%22%2C%0A++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++data%3Dresp%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++if+resp%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++output.set_user_facing_msg%28%22Unable+to+talk+to+Autopilot%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++except+Exception+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++download_result+%3D+await+try_http_download%28REQUEST_URL%2C+request_timeout%2C+request_body_str%2C+save_path%29%0A++++try%3A%0A++++++++if%28download_result%5B%22status_code%22%5D+%21%3D+200%29%3A%0A++++++++++++output.set_user_facing_msg%28f%22APE+file+transfer+failed+with+status+code+%7Bdownload_result%5B%27status_code%27%5D%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++except+KeyError+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+parse+download+result%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++upload_result+%3D+await+try_upload%28save_path%29%0A++++try%3A%0A++++++++if%28upload_result%5B%22exit_status%22%5D+%21%3D+0%29%3A%0A++++++++++++output.set_user_facing_msg%28%22Failed+to+upload+files+from+ICE+to+garage%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++except+KeyError+as+e%3A%0A++++++++output.add_exception%28e%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+parse+upload+results%22%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output%0A++++output.set_user_facing_msg%28%22Successfully+uploaded+APE+file%22%29%0A++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_HVBMS_X_SNAPSHOT-PACK-CAPACITY.py
			async+def+odin_script_test%28api%2C+num_bricks%3A+int%2C+max_pack_current%3A+float%2C+min_soc%3A+float%2C+max_soc%3A+float%2C%0A+++++++++++++++++++++++++++check_dc_charger%3A+bool%2C+capacity_deviation_threshold%3A+float%2C%0A+++++++++++++++++++++++++++net_ah_change_threshold%3A+int%2C+store_snapshot%3A+bool%2C+perform_calcs%3A+bool%2C%0A+++++++++++++++++++++++++++spoof_values%3A+bool%29%3A%0A++++from+asyncio+import+sleep%0A++++signal_read+%3D+api.can.can_signal_read%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++odx_read_data+%3D+api.odx.odx_read_data%0A++++save_to_file+%3D+api.cid.save_data%0A++++read_from_file+%3D+api.cid.load_data%0A++++json_dumps+%3D+api.json.dumps%0A++++hvbms_lut+%3D+await+api.import_module%28%22Gen3%2Fscripts%2FMODULE_HVBMS-SOC-BY-OCV-LUT%22%29%0A++++SOC_OCV_LOOKUP+%3D+hvbms_lut.SOC_OCV_LOOKUP%0A++++lookup_soc+%3D+hvbms_lut.lookup_soc%0A++++returns+%3D+%7B%0A++++++++%22SUCCESS%22%3A++++++++++++++++++++++++++%7B%22exit_code%22%3A+exit_reason.PASS%2C+%22msg%22%3A+%22SUCCESS+-+self+test+passed%22%7D%2C%0A++++++++%22FAILED_INVALID_INPUTS%22%3A++++++++++++%7B%22exit_code%22%3A+exit_reason.INVALID_INPUT%2C+%22msg%22%3A+%22FAILED+-+invalid+self+test+inputs%22%7D%2C%0A++++++++%22FAILED_REQUIREMENT%22%3A+++++++++++++++%7B%22exit_code%22%3A+exit_reason.PRECONDITIONS_NOT_MET%2C+%22msg%22%3A+%22FAILED+-+car+in+invalid+state%22%7D%2C%0A++++++++%22FAILED_READ_CHECK%22%3A++++++++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+unable+to+read+CAN+frame%22%7D%2C%0A++++++++%22FAILED_FILE_WRITE%22%3A++++++++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+unable+to+save+snapshot+file%22%7D%2C%0A++++++++%22FAILED_EMPTY_FILE%22%3A++++++++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+blank+file+detected%2C+indicating+missing+cell%2C+escalate+to+quality+for+HV+battery+replacement%22%7D%2C%0A++++++++%22FAILED_FILE_LOAD%22%3A+++++++++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+unable+to+open+previous+snapshot+file%22%7D%2C%0A++++++++%22FAILED_SNAPSHOT_COMPARE%22%3A++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+previous+snapshot+for+different+HV+battery%2C+rerun+SNAPSHOT-PACK-CAPACITY%22%7D%2C%0A++++++++%22FAILED_INSUFFICIENT_AH_CHANGE%22%3A++++%7B%22exit_code%22%3A+exit_reason.PRECONDITIONS_NOT_MET%2C+%22msg%22%3A+%22FAILED+-+insufficient+AH+charge%2C+charge+HV+battery%22%7D%2C%0A++++++++%22FAILED_BRICK_CAPACITY_CALC%22%3A+++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+unable+to+calculate+reference+capacity%22%7D%2C%0A++++++++%22FAILED_INVALID_RESULTS%22%3A+++++++++++%7B%22exit_code%22%3A+exit_reason.ERROR%2C+%22msg%22%3A+%22FAILED+-+battery+capacity+deviation+exceeds+noise+threshold%22%7D%2C%0A++++++++%22FAILED_MISSING_CELLS%22%3A+++++++++++++%7B%22exit_code%22%3A+exit_reason.FAIL%2C+%22msg%22%3A+%22FAILED+-+missing+cell+detected%2C+escalate+to+quality+for+HV+battery+replacement%22%7D%2C%0A++++++++%22FAILED_UNKNOWN%22%3A+++++++++++++++++++%7B%22exit_code%22%3A+exit_reason.UNKNOWN%2C+%22msg%22%3A+%22FAILED+-+Unknown+failure%22%7D%0A++++%7D%0A++++PRIMARY_SNAPSHOT_FILE_PATH+%3D+%27%2Fvar%2Fspool%2Fodin%2Fhvbms_snapshot_data.json%27%0A++++BACKUP_SNAPSHOT_FILE_PATH+%3D+%27%2Fvar%2Fspool%2Fodin%2FBACKUP_hvbms_snapshot_data.json%27%0A++++BRICKS+%3D+%5Bf%27BRICKV_%7Bi%7D%27+for+i+in+range%281%2C+num_bricks+%2B+1%29%5D%0A++++async+def+get_charge_counters%28%29%3A%0A++++++++data+%3D+%7B%7D%0A++++++++for+attempt+in+range%283%29%3A%0A++++++++++++try%3A%0A++++++++++++++++data+%3D+%28await+odx_read_data%28node_name%3D%27HVBMS%27%2C+data_name%3D%27ENERGY_COUNTERS%27%29%29.get%28%27data%27%2C+%7B%7D%29%0A++++++++++++++++break%0A++++++++++++except%3A%0A++++++++++++++++await+sleep%280.1%29%0A++++++++++++++++pass%0A++++++++return+%7B%27CHARGE_AH%27%3A+data.get%28%27CHARGE_AH%27%2C+None%29%2C+%27DISCHARGE_AH%27%3A+data.get%28%27DISCHARGE_AH%27%2C+None%29%7D%0A++++async+def+get_brick_voltages%28bricks%29%3A%0A++++++++data+%3D+%7B%7D%0A++++++++for+attempt+in+range%283%29%3A%0A++++++++++++try%3A%0A++++++++++++++++data+%3D+%28await+odx_read_data%28node_name%3D%27HVBMS%27%2C+data_name%3D%27BRICKV_DATA%27%29%29.get%28%27data%27%2C+%7B%7D%29%0A++++++++++++++++break%0A++++++++++++except%3A%0A++++++++++++++++await+sleep%280.1%29%0A++++++++++++++++pass%0A++++++++voltages+%3D+%7Bbrick%3A+data.get%28brick%2C+None%29+for+brick+in+bricks%7D%0A++++++++return+voltages%0A++++async+def+load_snapshot%28filename%29%3A%0A++++++++data+%3D+None%0A++++++++try%3A%0A++++++++++++data+%3D+%28await+read_from_file%28filename%3Dfilename%29%29.get%28%27data%27%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++return+data%0A++++async+def+write_snapshot_and_confirm%28filename%2C+data_to_write%29%3A%0A++++++++str_to_write+%3D+%28await+json_dumps%28json%3Ddata_to_write%29%29.get%28%27string%27%2C+%27%27%29%0A++++++++await+save_to_file%28filename%3Dfilename%2C+data%3Dstr_to_write%29%0A++++++++data_read+%3D+await+load_snapshot%28filename%29%0A++++++++return+data_read+%3D%3D+data_to_write%0A++++async+def+get_can_signals%28can_signals%3A+list%29%3A%0A++++++++data+%3D+%7B%7D%0A++++++++for+can_signal+in+can_signals%3A%0A++++++++++++for+attempt+in+range%283%29%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++data%5Bcan_signal%5D+%3D+%28await+signal_read%28signal_name%3Dcan_signal%29%29.get%28%27value%27%2C+None%29%0A++++++++++++++++++++break%0A++++++++++++++++except%3A%0A++++++++++++++++++++await+sleep%280.1%29%0A++++++++++++++++++++pass%0A++++++++return+data%0A++++async+def+get_pack_sn%28%29%3A%0A++++++++return+%28await+odx_read_data%28node_name%3D%27HVBMS%27%2C+data_name%3D%27PACKAGE_SERIAL_NUMBER%27%29%29.get%28%27data%27%2C+None%29%0A++++async+def+check_requirements%28signal_requirements%3A+dict%2C+data%3A+dict%29%3A%0A++++++++all_requirements_met+%3D+True%0A++++++++for+signal+in+signal_requirements%3A%0A++++++++++++if+not+%28signal_requirements%5Bsignal%5D%28data.get%28signal%2C+None%29%29%29%3A%0A++++++++++++++++all_requirements_met+%3D+False%0A++++++++++++++++break%0A++++++++return+all_requirements_met%0A++++def+is_pack_current_requirement_met%28current%29%3A%0A++++++++if+max_pack_current+%3D%3D+0%3A%0A++++++++++++met+%3D+True%0A++++++++elif+current+is+None%3A%0A++++++++++++met+%3D+False%0A++++++++else%3A%0A++++++++++++met+%3D+abs%28current%29+%3C+abs%28max_pack_current%29++%0A++++++++output.add_data%28%0A++++++++++++name%3D%27requirement_pack_current%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Acurrent%2C%0A++++++++++++++++%27expected_max_current%27%3A+max_pack_current%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+met+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+met%3A+returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27msg%27%5D+%3D+f%22FAILED+-+battery+current+%28%7Babs%28current%29%7DA%29+not+below+%7Bmax_pack_current%7DA%22%0A++++++++return+met%0A++++def+is_soc_requirement_met%28soc%29%3A%0A++++++++if+soc+is+None%3A%0A++++++++++++met+%3D+False%0A++++++++else%3A%0A++++++++++++met+%3D+min_soc+%3C+soc+and+soc+%3C+max_soc++%0A++++++++output.add_data%28%0A++++++++++++name%3D%27requirement_soc%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Asoc%2C%0A++++++++++++++++%27expected_min_soc%27%3A+min_soc%2C%0A++++++++++++++++%27expected_max_soc%27%3A+max_soc%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+met+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+met%3A+returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27msg%27%5D+%3D+f%22FAILED+-+battery+SoC+%28%7Bsoc%7D%25%29+not+between+%7Bmin_soc%7D%25+and+%7Bmax_soc%7D%25%22%0A++++++++return+met%0A++++def+is_charge_type_requirement_met%28charge_type%29%3A%0A++++++++if+not+check_dc_charger%3A%0A++++++++++++met+%3D+True%0A++++++++else%3A%0A++++++++++++met+%3D+charge_type+%3D%3D+%27DC_CHARGER_PRESENT%27%0A++++++++output.add_data%28%0A++++++++++++name%3D%27requirement_charge_type%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D+%7B%0A++++++++++++++++%27value%27%3Acharge_type%2C%0A++++++++++++++++%27expected%27%3A+%27DC_CHARGER_PRESENT%27+if+check_dc_charger+else+charge_type%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+met+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+met%3A+returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27msg%27%5D+%3D+f%22FAILED+-+charger+is+%7Bcharge_type%7D+and+not+DC_CHARGER_PRESENT%22%0A++++++++return+met%0A++++def+is_cell_requirement_met%28cell_type%29%3A%0A++++++++met+%3D+cell_type+in+SOC_OCV_LOOKUP.keys%28%29%0A++++++++output.add_data%28%0A++++++++++++name%3D%27requirement_cell_type%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Acell_type%2C%0A++++++++++++++++%27expected%27%3A+%27+or+%27.join%28SOC_OCV_LOOKUP.keys%28%29%29%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+met+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+met%3A+returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27msg%27%5D+%3D+f%22FAILED+-+HV+battery+not+supported%22%0A++++++++return+met%0A++++def+valid_inputs%28%29%3A%0A++++++++if+num_bricks+%3C%3D+0%3A%0A++++++++++++return+1%0A++++++++if+not+%280+%3C%3D+min_soc+%3C%3D+100%29%3A%0A++++++++++++return+1%0A++++++++if+not+%280+%3C%3D+max_soc+%3C%3D+100%29%3A%0A++++++++++++return+1%0A++++++++if+not+%280+%3C+capacity_deviation_threshold+%3C+1%29%3A%0A++++++++++++return+1%0A++++++++if+not+%280+%3C%3D+net_ah_change_threshold%29%3A%0A++++++++++++return+1%0A++++++++return+0%0A++++store_successful+%3D+False%0A++++perform_calcs_success+%3D+False%0A++++if+spoof_values%3A++%0A++++++++snapshot+%3D+SPOOFED_ENDING_VALUES%0A++++++++output.add_data%28%0A++++++++++++name%3D%27using_spoofed_values%27%0A++++++++%29%0A++++else%3A%0A++++++++if+not+valid_inputs%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_INVALID_INPUTS%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_INVALID_INPUTS%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++if+perform_calcs%3A%0A++++++++++++await+sleep%2810%29%0A++++++++requirements+%3D+%7B%27BMS_packCurrent%27%3A+is_pack_current_requirement_met%2C%0A++++++++++++++++++++++++%27BMS_socAvg%27%3A+is_soc_requirement_met%2C%0A++++++++++++++++++++++++%27CP_evseChargeType_UI%27%3A+is_charge_type_requirement_met%2C%0A++++++++++++++++++++++++%27BMS_reservedConfig_0%27%3A+is_cell_requirement_met%7D%0A++++++++can_signal_data+%3D+await+get_can_signals%28requirements.keys%28%29%29%0A++++++++can_signal_data_good+%3D+len%28can_signal_data%29+%3D%3D+len%28requirements.keys%28%29%29%0A++++++++if+not+can_signal_data_good%3A%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27can_signal_data%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27metadata%27%3Acan_signal_data%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Fail+if+not+can_signal_data_good+else+api.metric_result.Pass%0A++++++++++++%7D%29%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++requirements_met+%3D+await+check_requirements%28requirements%2C+can_signal_data%29%0A++++++++if+not+requirements_met%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_REQUIREMENT%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++psn+%3D+await+get_pack_sn%28%29%0A++++++++if+not+psn%3A%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27psn%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27pack_serial%27%3A+psn%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Fail+if+not+psn+else+api.metric_result.Pass%0A++++++++++++%7D%29%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++charge_counters+%3D+await+get_charge_counters%28%29%0A++++++++charge_counters_good+%3D+None+not+in+charge_counters.values%28%29%0A++++++++if+not+charge_counters_good%3A%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27charge_counters%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27value%27%3Alen%28charge_counters%29%2C%0A++++++++++++++++++++%27CHARGE_AH%27%3A+charge_counters.get%28%27CHARGE_AH%27%2C+None%29%2C%0A++++++++++++++++++++%27DISCHARGE_AH%27%3A+charge_counters.get%28%27DISCHARGE_AH%27%2C+None%29%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Fail+if+not+charge_counters_good+else+api.metric_result.Pass%0A++++++++++++%7D%29%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++brick_voltages+%3D+await+get_brick_voltages%28BRICKS%29%0A++++++++brick_voltages_good+%3D+len%28brick_voltages%29+%3D%3D+len%28BRICKS%29%0A++++++++if+not+brick_voltages_good%3A%0A++++++++++++missing_bricks+%3D+%5Bbrick+for+brick+in+brick_voltages+if+brick_voltages%5Bbrick%5D+is+None%5D%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27brick_voltage_data_missing%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27value%27%3Alen%28missing_bricks%29%2C%0A++++++++++++++++++++%27missing_bricks_num%27%3A+len%28brick_voltages%29%2C%0A++++++++++++++++++++%27expected%27%3A+len%28BRICKS%29%2C%0A++++++++++++++++++++%27missing_bricks%27%3A+missing_bricks%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Fail+if+not+brick_voltages_good+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_READ_CHECK%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++snapshot+%3D+%7B%2A%2Apsn%2C+%2A%2Abrick_voltages%2C+%2A%2Acan_signal_data%2C+%2A%2Acharge_counters%7D%0A++++++++output.add_data%28%0A++++++++++++name%3D%27snapshot%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3Dsnapshot%0A++++++++%29%0A++++++++if+store_snapshot%3A%0A++++++++++++exception+%3D+%22%22%0A++++++++++++try%3A%0A++++++++++++++++store_successful+%3D+await+write_snapshot_and_confirm%28PRIMARY_SNAPSHOT_FILE_PATH%2C+snapshot%29+%0A++++++++++++++++await+write_snapshot_and_confirm%28BACKUP_SNAPSHOT_FILE_PATH%2C+snapshot%29+%0A++++++++++++except+Exception+as+e%3A%0A++++++++++++++++store_successful+%3D+False%0A++++++++++++++++exception+%3D+str%28e%29%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27snapshot_write_check%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27value%27%3APRIMARY_SNAPSHOT_FILE_PATH%2C%0A++++++++++++++++++++%27exception%27%3A+exception%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+store_successful+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++++++if+not+store_successful%3A%0A++++++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_FILE_WRITE%27%5D%5B%27msg%27%5D%29%0A++++++++++++++++output.set_exit_code%28returns%5B%27FAILED_FILE_WRITE%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++++++return+output%0A++++if+perform_calcs%3A%0A++++++++if+spoof_values%3A++%0A++++++++++++old_snapshot+%3D+SPOOFED_STARTING_VALUES%0A++++++++else%3A%0A++++++++++++old_snapshot+%3D+await+load_snapshot%28PRIMARY_SNAPSHOT_FILE_PATH%29%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%27file_load_check%27%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3D%7B%0A++++++++++++++++++++%27value%27%3APRIMARY_SNAPSHOT_FILE_PATH%2C%0A++++++++++++++++++++%27snapshot_loaded%27%3A+old_snapshot%2C%0A++++++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+old_snapshot+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++++++if+old_snapshot+%3D%3D+%7B%7D%3A%0A++++++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_EMPTY_FILE%27%5D%5B%27msg%27%5D%29%0A++++++++++++++++output.set_exit_code%28returns%5B%27FAILED_EMPTY_FILE%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++++++return+output%0A++++++++++++if+not+old_snapshot%3A%0A++++++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_FILE_LOAD%27%5D%5B%27msg%27%5D%29%0A++++++++++++++++output.set_exit_code%28returns%5B%27FAILED_FILE_LOAD%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++++++return+output%0A++++++++same_length+%3D+len%28snapshot%29+%3D%3D+len%28old_snapshot%29%0A++++++++same_psn+%3D+snapshot.get%28f%27PACKAGE_SERIAL_NUMBER%27%2C+%27%27%29+%3D%3D+old_snapshot.get%28%27PACKAGE_SERIAL_NUMBER%27%2C+%27%27%29%0A++++++++compare_successful+%3D+same_length+and+same_psn%0A++++++++output.add_data%28%0A++++++++++++name%3D%27snapshot_compare_check%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27same_length%27%3A+same_length%2C%0A++++++++++++++++%27same_psn%27%3A+same_psn%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+compare_successful+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+compare_successful%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_SNAPSHOT_COMPARE%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_SNAPSHOT_COMPARE%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++net_ah_change+%3D+0%0A++++++++if+%27CHARGE_AH%27+in+old_snapshot++++++++++++++++and+%27CHARGE_AH%27+in+snapshot++++++++++++++++and+%27DISCHARGE_AH%27+in+old_snapshot++++++++++++++++and+%27DISCHARGE_AH%27+in+snapshot%3A%0A++++++++++++net_ah_change+%3D+%28snapshot%5B%27CHARGE_AH%27%5D+-+old_snapshot%5B%27CHARGE_AH%27%5D%29++++++++++++++++++++++++++++-+%28snapshot%5B%27DISCHARGE_AH%27%5D+-+old_snapshot%5B%27DISCHARGE_AH%27%5D%29%0A++++++++net_ah_change_sufficient+%3D+net_ah_change+%3E+net_ah_change_threshold%0A++++++++output.add_data%28%0A++++++++++++name%3D%27net_ah_change_sufficient%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Anet_ah_change%2C%0A++++++++++++++++%27net_ah_change_threshold%27%3A+net_ah_change_threshold%2C%0A++++++++++++++++%27result_code%27%3A+api.metric_result.Pass+if+net_ah_change_sufficient+else+api.metric_result.Fail%0A++++++++%7D%29%0A++++++++if+not+net_ah_change_sufficient%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_INSUFFICIENT_AH_CHANGE%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_INSUFFICIENT_AH_CHANGE%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++cell_type+%3D+snapshot%5B%27BMS_reservedConfig_0%27%5D%0A++++++++snapshot_soc+%3D+%7B%7D%0A++++++++old_snapshot_soc+%3D+%7B%7D%0A++++++++soc_movement+%3D+%7B%7D%0A++++++++brick_capacity+%3D+%7B%7D%0A++++++++for+brick+in+BRICKS%3A%0A++++++++++++if+brick+in+snapshot%3A%0A++++++++++++++++snapshot_soc%5Bbrick%5D+%3D+await+lookup_soc%28cell_type%2C+snapshot%5Bbrick%5D%29%0A++++++++++++if+brick+in+old_snapshot%3A%0A++++++++++++++++old_snapshot_soc%5Bbrick%5D+%3D+await+lookup_soc%28cell_type%2C+old_snapshot%5Bbrick%5D%29%0A++++++++++++if+brick+in+snapshot+and+brick+in+old_snapshot%3A%0A++++++++++++++++soc_movement%5Bbrick%5D+%3D+snapshot_soc%5Bbrick%5D+-+old_snapshot_soc%5Bbrick%5D%0A++++++++++++++++if+soc_movement%5Bbrick%5D+%21%3D+0%3A%0A++++++++++++++++++++brick_capacity%5Bbrick%5D+%3D+net_ah_change+%2F+soc_movement%5Bbrick%5D%0A++++++++brick_capacity_sum+%3D+sum%28brick_capacity.values%28%29%29%0A++++++++reference_capacity+%3D+None%0A++++++++if+len%28brick_capacity%29+%3D%3D+len%28BRICKS%29+and+len%28brick_capacity%29+%21%3D+0+and+brick_capacity_sum+%21%3D+0%3A%0A++++++++++++reference_capacity+%3D+brick_capacity_sum+%2F+len%28brick_capacity%29++%0A++++++++brick_capacity_calc_successful+%3D+reference_capacity+is+not+None%0A++++++++output.add_data%28%0A++++++++++++name%3D%27reference_capacity%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Areference_capacity%2C%0A++++++++++++++++%27reference_capacity%27%3A+reference_capacity%2C%0A++++++++++++++++%27brick_capacities_found%27%3A+len%28brick_capacity%29%2C%0A++++++++++++++++%27brick_capacities_expected%27%3A+len%28BRICKS%29%2C%0A++++++++++++++++%27brick_capacity_sum%27%3A+brick_capacity_sum%2C%0A++++++++++++++++%27result_code%27%3Aapi.metric_result.Pass+if+brick_capacity_calc_successful+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++if+not+brick_capacity_calc_successful%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_BRICK_CAPACITY_CALC%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_BRICK_CAPACITY_CALC%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++brick_capacity_deviation+%3D+%7B%7D%0A++++++++missing_cell_bricks+%3D+%5B%5D%0A++++++++for+brick+in+BRICKS%3A%0A++++++++++++if+brick+in+brick_capacity%3A%0A++++++++++++++++brick_capacity_deviation%5Bbrick%5D+%3D+%28brick_capacity%5Bbrick%5D+-+reference_capacity%29+%2F+reference_capacity%0A++++++++++++++++if+brick_capacity_deviation%5Bbrick%5D+%3C+-capacity_deviation_threshold%3A%0A++++++++++++++++++++missing_cell_bricks.append%28brick%29%0A++++++++max_capacity_deviation+%3D+max%28brick_capacity_deviation.values%28%29%29%0A++++++++min_capacity_deviation+%3D+min%28brick_capacity_deviation.values%28%29%29%0A++++++++max_positive_capacity_deviation_success+%3D+max_capacity_deviation+%3C+capacity_deviation_threshold%0A++++++++output.add_data%28%0A++++++++++++name%3D%27max_capacity_deviation%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3Amax_capacity_deviation%2C%0A++++++++++++++++%27max_capacity_deviation%27%3A+max_capacity_deviation%2C%0A++++++++++++++++%27threshold%27%3A+capacity_deviation_threshold%2C%0A++++++++++++++++%27min_capacity_deviation%27%3A+min_capacity_deviation%2C%0A++++++++++++++++%27len_brick_capacity_deviation%27%3A+len%28brick_capacity_deviation%29%2C%0A++++++++++++++++%27result_code%27%3A+api.metric_result.Pass+if+max_positive_capacity_deviation_success+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++if+not+max_positive_capacity_deviation_success%3A%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_INVALID_RESULTS%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_INVALID_RESULTS%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++missing_cell_bricks_success+%3D+len%28missing_cell_bricks%29+%3D%3D+0%0A++++++++output.add_data%28%0A++++++++++++name%3D%27missing_cells%27%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3D%7B%0A++++++++++++++++%27value%27%3A+len%28missing_cell_bricks%29%2C%0A++++++++++++++++%27missing_cell_bricks%27%3A+missing_cell_bricks%2C%0A++++++++++++++++%27result_code%27%3A+api.metric_result.Pass+if+missing_cell_bricks_success+else+api.metric_result.Fail%0A++++++++++++%7D%29%0A++++++++if+not+missing_cell_bricks_success%3A%0A++++++++++++await+write_snapshot_and_confirm%28PRIMARY_SNAPSHOT_FILE_PATH%2C+%7B%7D%29%0A++++++++++++output.set_user_facing_msg%28returns%5B%27FAILED_MISSING_CELLS%27%5D%5B%27msg%27%5D%29%0A++++++++++++output.set_exit_code%28returns%5B%27FAILED_MISSING_CELLS%27%5D%5B%27exit_code%27%5D%29%0A++++++++++++return+output%0A++++++++perform_calcs_success+%3D+True%0A++++store_snapshot_as_desired+%3D+store_successful+if+store_snapshot+else+True%0A++++perform_calcs_as_desired+%3D+perform_calcs_success+if+perform_calcs+else+True%0A++++if+store_snapshot_as_desired+and+perform_calcs_as_desired%3A%0A++++++++output.set_user_facing_msg%28returns%5B%27SUCCESS%27%5D%5B%27msg%27%5D%29%0A++++++++output.set_exit_code%28returns%5B%27SUCCESS%27%5D%5B%27exit_code%27%5D%29%0A++++++++return+output%0A++++output.set_user_facing_msg%28returns%5B%27FAILED_UNKNOWN%27%5D%5B%27msg%27%5D%29%0A++++output.set_exit_code%28returns%5B%27FAILED_UNKNOWN%27%5D%5B%27exit_code%27%5D%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_X_FRONT_DIM-MIRRORS.py
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+gather%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++get_data_value+%3D+api.cid.get_data_value%0A++++odx_start_routine+%3D+api.odx.odx_start_routine%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++power_state_enum+%3D+api.power_state_enum%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%0A++++++++user_facing_msg%3Df%22Failed+to+enable+dimming+on+the+side+and+rear+view+mirrors.%22%2C%0A++++++++exit_code%3Dexit_reason.FAIL%0A++++%29%0A++++car_type+%3D+await+get_data_value%28data_name%3D%22VAPI_carType%22%29%0A++++car_type+%3D+car_type.get%28%22value%22%2C+None%29%0A++++if+car_type+in+%28%22Lychee%22%2C+%22Model3%22%2C+%22ModelY%22%29%3A%0A++++++++node_list+%3D+%5B%22VCLEFT%22%2C+%22VCRIGHT%22%5D%0A++++elif+car_type+%3D%3D+%22Tamarind%22%3A%0A++++++++node_list+%3D+%5B%22BCFDM%22%2C+%22BCFPM%22%2C+%22VCRIGHT%22%5D%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28f%22Unsupported+vehicle+model%3A+%7Bcar_type%7D.%22%29%0A++++++++return+output%0A++++try%3A%0A++++++++async+with+power_context%28power_state%3Dpower_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++++++failed_nodes+%3D+%5B%5D%0A++++++++++++for+node+in+node_list%3A%0A++++++++++++++++result+%3D+await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3Dnode%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+not+result.get%28%27done%27%29%3A%0A++++++++++++++++++++raise+Exception%28f%22Failed+to+ensure+%7Bnode%7D+was+in+application+state.%22%29%0A++++++++++++++++result+%3D+await+odx_start_routine%28node_name%3Dnode%2C+routine_name%3D%22SET_MIRROR_DIM%22%2C+params%3D%7B%0A++++++++++++++++++++%22DIM_ON%22%3A+1%7D%29%0A++++++++++++++++if+not+result.get%28%22done%22%2C+False%29%3A%0A++++++++++++++++++++failed_nodes.append%28node%29%0A++++++++++++if+failed_nodes%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Failed+to+enabled+dimming+on+mirrors+controlled+by+%7Bfailed_nodes%7D.%22%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++output.set_user_facing_msg%28%22Successfuly+enabled+dimming+on+the+side+and+rear+view+mirrors+for+two+minutes.%22%29%0A++++++++++++++++if+car_type+%3D%3D+%27Model3%27%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22Successfuly+enabled+dimming+on+the+side+and+rear+view+mirrors+for+two+minutes.%5Cn%5Cn%22%0A+++++++++++++++++++++++++++++++++++++++++++++++%22Note%3A+Certain+Model+3+built+between+February+and+August+2020+have+base+side+mirrors+with+no+dimming+functionality.+%22%0A+++++++++++++++++++++++++++++++++++++++++++++++%22This+routine+will+only+dim+the+rear+view+mirror+on+these+vehicles.%22%29%0A++++++++++++return+output%0A++++except+Exception+as+e%3A%0A++++++++output.add_data%28%0A++++++++++++name%3D%22RoutineException%22%2C+data_type%3Ddict%2C+data%3D%7B%0A++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C%0A++++++++++++++++%22args%22%3A+str%28e%29%7D%2C+%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+gather%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++get_data_value+%3D+api.cid.get_data_value%0A++++odx_start_routine+%3D+api.odx.odx_start_routine%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++power_state_enum+%3D+api.power_state_enum%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%0A++++++++user_facing_msg%3Df%22Failed+to+enable+dimming+on+the+side+and+rear+view+mirrors.%22%2C%0A++++++++exit_code%3Dexit_reason.FAIL%0A++++%29%0A++++car_type+%3D+await+get_data_value%28data_name%3D%22VAPI_carType%22%29%0A++++car_type+%3D+car_type.get%28%22value%22%2C+None%29%0A++++if+car_type+in+%28%22Lychee%22%2C+%22Model3%22%2C+%22ModelY%22%29%3A%0A++++++++node_list+%3D+%5B%22VCLEFT%22%2C+%22VCRIGHT%22%5D%0A++++elif+car_type+%3D%3D+%22Tamarind%22%3A%0A++++++++node_list+%3D+%5B%22BCFDM%22%2C+%22BCFPM%22%2C+%22VCRIGHT%22%5D%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28f%22Unsupported+vehicle+model%3A+%7Bcar_type%7D.%22%29%0A++++++++return+output%0A++++try%3A%0A++++++++async+with+power_context%28power_state%3Dpower_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++++++failed_nodes+%3D+%5B%5D%0A++++++++++++for+node+in+node_list%3A%0A++++++++++++++++result+%3D+await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3Dnode%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+not+result.get%28%27done%27%29%3A%0A++++++++++++++++++++raise+Exception%28f%22Failed+to+ensure+%7Bnode%7D+was+in+application+state.%22%29%0A++++++++++++++++result+%3D+await+odx_start_routine%28node_name%3Dnode%2C+routine_name%3D%22SET_MIRROR_DIM%22%2C+params%3D%7B%0A++++++++++++++++++++%22DIM_ON%22%3A+1%7D%29%0A++++++++++++++++if+not+result.get%28%22done%22%2C+False%29%3A%0A++++++++++++++++++++failed_nodes.append%28node%29%0A++++++++++++if+failed_nodes%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Failed+to+enabled+dimming+on+mirrors+controlled+by+%7Bfailed_nodes%7D.%22%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++output.set_user_facing_msg%28%22Successfuly+enabled+dimming+on+the+side+and+rear+view+mirrors+for+two+minutes.%22%29%0A++++++++++++++++if+car_type+%3D%3D+%27Model3%27%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22Successfuly+enabled+dimming+on+the+side+and+rear+view+mirrors+for+two+minutes.%5Cn%5Cn%22%0A+++++++++++++++++++++++++++++++++++++++++++++++%22Note%3A+Certain+Model+3+built+between+February+and+August+2020+have+base+side+mirrors+with+no+dimming+functionality.+%22%0A+++++++++++++++++++++++++++++++++++++++++++++++%22This+routine+will+only+dim+the+rear+view+mirror+on+these+vehicles.%22%29%0A++++++++++++return+output%0A++++except+Exception+as+e%3A%0A++++++++output.add_data%28%0A++++++++++++name%3D%22RoutineException%22%2C+data_type%3Ddict%2C+data%3D%7B%0A++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C%0A++++++++++++++++%22args%22%3A+str%28e%29%7D%2C+%29%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_CALIBRATE-DRIVER-SEAT-STEERING-MIRRORS.py
			async+def+odin_script_test%28api%29%3A%0A++++from+asyncio+import+gather+as+AsyncioGather%0A++++debug_print+%3D+api.reporting.debug_print%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++platform_dict+%3D+await+api.cid.get_platform%28%29%0A++++platform+%3D+platform_dict.get%28%27info%27%2C+%7B%7D%29.get%28%27platform%27%29+if+platform_dict+else+None%0A++++rhd_dict+%3D+await+api.cid.get_data_value%28data_name%3D%22VAPI_rightHandDrive%22%29%0A++++rhd+%3D+rhd_dict.get%28%27value%27%29+if+rhd_dict+else+None%0A++++tasks+%3D+None%0A++++if+platform+%3D%3D+%27lychee%27%3A%0A++++++++tasks+%3D+%7B%0A++++++++++++%27seat_driver%27%3A+%27Coriander%2Ftasks%2FPROC_VCSEATD_SEAT-CALIBRATE%27%2C%0A++++++++++++%27steering%27%3A+%27Gen3%2Ftasks%2FPROC-VCLEFT_X_STEERING-COLUMN-CALIBRATION%27%2C%0A++++++++++++%27mirror_1%27%3A+%27Gen3%2Ftasks%2FPROC_VCLEFT_MIRROR-CALIBRATE%27%2C%0A++++++++++++%27mirror_2%27%3A+%27Gen3%2Ftasks%2FPROC_VCRIGHT_MIRROR-CALIBRATE%27%2C%0A++++++++++++%7D%0A++++elif+platform+%3D%3D+%27tamarind%27%3A%0A++++++++tasks+%3D+%7B%0A++++++++++++%27seat_driver%27%3A+%27Coriander%2Ftasks%2FPROC_VCSEATD_SEAT-CALIBRATE%27%2C%0A++++++++++++%27steering%27%3A+%27Gen3%2Ftasks%2FPROC-VCLEFT_X_STEERING-COLUMN-CALIBRATION%27%2C%0A++++++++++++%27mirror_1%27%3A+%27Tamarind%2Ftasks%2FPROC_BCFDM_MIRROR-CALIBRATE%27%2C%0A++++++++++++%27mirror_2%27%3A+%27Tamarind%2Ftasks%2FPROC_BCFPM_MIRROR-CALIBRATE%27%2C%0A++++++++++++%7D%0A++++else%3A%0A++++++++if+rhd+%3D%3D+%27true%27%3A%0A++++++++++++tasks+%3D+%7B%0A++++++++++++++++%27seat_driver%27%3A+%27Gen3%2Ftasks%2FPROC_VCRIGHT_SEAT-CALIBRATE%27%2C%0A++++++++++++++++%27steering%27%3A+%27Gen3%2Ftasks%2FPROC-VCLEFT_X_STEERING-COLUMN-CALIBRATION%27%2C%0A++++++++++++++++%27mirror_1%27%3A+%27Gen3%2Ftasks%2FPROC_VCLEFT_MIRROR-CALIBRATE%27%2C%0A++++++++++++++++%27mirror_2%27%3A+%27Gen3%2Ftasks%2FPROC_VCRIGHT_MIRROR-CALIBRATE%27%2C%0A++++++++++++++++%7D%0A++++++++elif+rhd+%3D%3D+%27false%27%3A%0A++++++++++++tasks+%3D+%7B%0A++++++++++++++++%27seat_driver%27%3A+%27Gen3%2Ftasks%2FPROC_VCLEFT_SEAT-CALIBRATE%27%2C%0A++++++++++++++++%27steering%27%3A+%27Gen3%2Ftasks%2FPROC-VCLEFT_X_STEERING-COLUMN-CALIBRATION%27%2C%0A++++++++++++++++%27mirror_1%27%3A+%27Gen3%2Ftasks%2FPROC_VCLEFT_MIRROR-CALIBRATE%27%2C%0A++++++++++++++++%27mirror_2%27%3A+%27Gen3%2Ftasks%2FPROC_VCRIGHT_MIRROR-CALIBRATE%27%2C%0A++++++++++++++++%7D%0A++++++++else%3A%0A++++++++++++return+output%28%0A++++++++++++++++user_facing_msg%3D%22Could+not+detect+right+hand+drive+versus+left-hand+drive%22%2C%0A++++++++++++++++exit_code%3Dexit_reason.INVALID_VEHICLE_STATE%0A++++++++++++%29%0A++++if+not+tasks%3A%0A++++++++return+output%28%0A++++++++++++user_facing_msg%3Df%22Unsupported+platform+%7Bplatform%7D+for+this+procedure.%22%2C%0A++++++++++++exit_code%3Dexit_reason.INVALID_VEHICLE_STATE%0A++++++++%29%0A++++async+def+run_seat_steering%28%29%3A%0A++++++++r1+%3D+await+api.subnetwork.run_reference%28tasks%5B%27steering%27%5D%29%0A++++++++r2+%3D+await+api.subnetwork.run_reference%28tasks%5B%27seat_driver%27%5D%29%0A++++++++return+%28r1%2C+r2%29%0A++++async+def+run_mirror_1%28%29%3A%0A++++++++return+%28await+api.subnetwork.run_reference%28tasks%5B%27mirror_1%27%5D%29%2C%29%0A++++async+def+run_mirror_2%28%29%3A%0A++++++++return+%28await+api.subnetwork.run_reference%28tasks%5B%27mirror_2%27%5D%29%2C%29%0A++++R+%3D+await+AsyncioGather%28run_seat_steering%28%29%2C+run_mirror_1%28%29%2C+run_mirror_2%28%29%29%0A++++for+r+in+R%3A%0A++++++++for+rp+in+r%3A%0A++++++++++++exit_code+%3D+rp.get%28%27exit_code%27%29%0A++++++++++++if+exit_code+%21%3D+0%3A%0A++++++++++++++++return+output%28%0A++++++++++++++++++++user_facing_msg%3D%22Calibration+failed%22%2C%0A++++++++++++++++++++exit_code%3Dexit_code%0A++++++++++++++++%29%0A++++return+output%28%0A++++++++user_facing_msg%3D%22All+calibrations+succeeded%22%2C%0A++++++++exit_code%3Dexit_reason.PASS%0A++++%29
		../../odin_bundle/networks/Gen3/scripts/PROC_VC_X_RECONNECT-LV-BATTERY.py
			async+def+odin_script_test%28api%2C+node_name%3A+str%2C+routine_name%3A+str%2C+tester_present%3A+bool%2C+power_state%3A+str%2C+timeout%3A+float%29%3A%0A++++from+odin.core.isotp.error+import+TimeoutBs%0A++++from+asyncio+import+TimeoutError%2C+wait_for%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++odin_status+%3D+api.odin_status%0A++++listen+%3D+api.messages.listen%0A++++status_update+%3D+api.messages.status_update%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+output%28%29%0A++++enable_user_input_ok_button+%3D+False%0A++++if+enable_user_input_ok_button%3A%0A++++++++status_update_resp+%3D+await+status_update%28%0A++++++++++++status%3D%22Disconnect+any+external+LV+support+device%2C+then+click+OK+when+ready.+%5C%0A++++++++++++++++Vehicle+must+be+supporting+its+own+LV+system+prior+to+running+the+reconnect+routine.%22%2C%0A++++++++++++odin_status%3Dodin_status.WAITING_FOR_USER_INPUT.value%2C%0A++++++++%29%0A++++try%3A%0A++++++++if+enable_user_input_ok_button%3A%0A++++++++++++async+with+listen%28message_type%3Dstatus_update_resp%5B%27listen_id%27%5D%29+as+listen_event%3A%0A++++++++++++++++await+wait_for%28listen_event.wait%28%29%2C+timeout%3D60%2A10%29%0A++++++++res+%3D+await+run_ref%28%22Gen3%2Flib%2FFW_SELF_TEST%22%2C+node_name%3Dnode_name%2C+routine_name%3Droutine_name%2C+tester_present%3Dtester_present%2C+power_state%3Dpower_state%2C+timeout%3Dtimeout%29%0A++++except+TimeoutError+as+e%3A%0A++++++++out.set_user_facing_msg%28%22Timed+out+waiting+for+user+input%22%29%0A++++++++out.set_exit_code%28exit_reason.TIMEOUT%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++except+KeyError+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22The+task+was+not+able+to+find+the+node%3A+%7Be%7D.+Are+you+running+on+the+correct+platform%28s%29%3F%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++except+RuntimeError+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22ECU+failed+to+enter+desired+APPLICATION+state.+Please+check+connections+to+VCFRONT+and+try+again.%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++except+TimeoutBs+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Failed+to+read+CAN+signals%2C+operation+timed+out.+Ensure+vehicle+is+in+factory+mode+and+connections+are+correct.%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++except+Exception+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Exception+occurred+during+task+run%3A+%7Be%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++exit_code+%3D+res.get%28%27exit_code%27%2C+1%29%0A++++if+exit_code+%3D%3D+0%3A%0A++++++++out.set_user_facing_msg%28%22LV+Battery+was+reconnected+successfully%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++elif+res.get%28%27stderr%27%29+or+res.get%28%27exit_code%27%29+%3D%3D+1%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22There+was+a+failure%2C+Error%3A+%7Bres.get%28%27stderr%27%29%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_HVBMS_X_BRICKV-DELTA.py
			async+def+odin_script_test%28api%2C+MAX_LUT_SOC_DELTA%3A+float%29%3A%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++signal_read+%3D+api.can.can_signal_monitor%0A++++save_to_file+%3D+api.cid.save_data%0A++++read_from_file+%3D+api.cid.load_data%0A++++get_dir+%3D+api.cid.get_directory_contents%0A++++odx_read_data+%3D+api.odx.odx_read_data%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%29%0A++++SENTINEL_NAME+%3D+%27hvbms-brickv-delta-fail%27%0A++++DIR_PATH+%3D+%27%2Fvar%2Fspool%2Fodin%2F%27%0A++++FAIL_SENTINEL_PATH+%3D+DIR_PATH+%2B+SENTINEL_NAME%0A++++HVBMS_LUT+%3D+await+api.import_module%28%22Gen3%2Fscripts%2FMODULE_HVBMS-SOC-BY-OCV-LUT%22%29%0A++++CONFIG_LIST%3D%5B%27BMS_CONFIG_23%27%2C%27BMS_CONFIG_24%27%2C%27BMS_CONFIG_25%27%5D%0A++++lookup_soc+%3D+HVBMS_LUT.lookup_soc%0A++++async+def+get_pack_sn%28%29%3A%0A++++++++return+%28await+odx_read_data%28node_name%3D%27HVBMS%27%2C+data_name%3D%27PACKAGE_SERIAL_NUMBER%27%29%29.get%28%27data%27%2C+None%29%0A++++async+def+get_can_value%28signal%29%3A%0A++++++++sig_val_resp+%3D+await+signal_read%28%0A++++++++++++signal_name%3Df%22%7Bsignal%7D%22%2C%0A++++++++++++bus_name%3D%22ETH%22%2C%0A++++++++++++timeout%3D5%29%0A++++++++return+sig_val_resp%5B%27current%27%5D%0A++++async+def+get_brickv_soc_max_min%28%29%3A%0A++++++++error_code+%3D+0%0A++++++++try%3A%0A++++++++++++data+%3D+%28await+odx_read_data%28node_name%3D%27HVBMS%27%2C+data_name%3D%27BRICKV_DATA%27%29%29.get%28%27data%27%2C+None%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++++++error_code+%3D+1%0A++++++++++++return+0%2C+0%2C+0%2C+0%2C+0%2C+0%2C+error_code%0A++++++++pack_info+%3D+await+get_can_value%28%27BMS_reservedConfig_0%27%29%0A++++++++if+pack_info+in+CONFIG_LIST%3A%0A++++++++++++output.add_data%28data_type%3Dstr%2C%0A++++++++++++++++++++++++++++++++name%3D%274680+pack+supported%27%2C%0A++++++++++++++++++++++++++++++++data%3Dpack_info%29%0A++++++++++++pack_info%3D%27BMS_CONFIG_25%27%0A++++++++else%3A%0A++++++++++++output.add_data%28data_type%3Dstr%2C%0A++++++++++++++++++++++++++++name%3D%27Not+a+supported+4680+pack%27%2C%0A++++++++++++++++++++++++++++data%3Dpack_info%29%0A++++++++++++error_code+%3D+2%0A++++++++++++return+0%2C+0%2C+0%2C+0%2C+0%2C+0%2C+error_code%0A++++++++v_max+%3D+0.0%0A++++++++v_min+%3D+99999.9+%0A++++++++for+brick+in+data.keys%28%29%3A%0A++++++++++++if+%22STATUS%22+in+brick+and+data.get%28brick%29+%3D%3D+%22NOMINAL%22%3A%0A++++++++++++++++voltage+%3D+data.get%28brick%5B%3A-7%5D%29%0A++++++++++++++++if+voltage+%3E+v_max%3A%0A++++++++++++++++++++v_max+%3D+voltage%0A++++++++++++++++++++v_max_index+%3D+brick%5B%3A-7%5D%0A++++++++++++++++if+voltage+%3C+v_min%3A%0A++++++++++++++++++++v_min+%3D+voltage%0A++++++++++++++++++++v_min_index+%3D+brick%5B%3A-7%5D%0A++++++++soc_min+%3D+%28await+lookup_soc%28pack_info%2C+v_min%29%29+%2A+100%0A++++++++soc_max+%3D+%28await+lookup_soc%28pack_info%2C+v_max%29%29+%2A+100%0A++++++++return+v_min%2C+v_min_index%2C+v_max%2C+v_max_index%2C+soc_min%2C+soc_max%2C+error_code%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++brickv_min%2C+brick_min%2C+brickv_max%2C+brick_max%2C+soc_min%2C+soc_max%2C+exit+%3D+await+get_brickv_soc_max_min%28%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_user_facing_msg%28%22Failed+to+read+BMS+information+-+Please+re-run+the+task%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+exit+%3D%3D+1%3A%0A++++++++++++output.set_user_facing_msg%28%22odx_read_data+exception+occured+for+BRICKV_DATA+on+HVBMS+-+Please+re-run+the+task%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+exit+%3D%3D+2%3A%0A++++++++++++output.set_user_facing_msg%28%22Pack+configuration+unsupported.+Applies+only+to+4680+Structural+pack%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++odx_values+%3D+%7B%27brickV_min%27%3A+brickv_min%2C%0A++++++++++++++++++++++%27brickID_min%27%3A+brick_min%2C%0A++++++++++++++++++++++%27brickV_max%27%3A+brickv_max%2C%0A++++++++++++++++++++++%27brickID_max%27%3A+brick_max%2C%0A++++++++++++++++++++++%27soc_min%27%3A+soc_min%2C%0A++++++++++++++++++++++%27soc_max%27%3A+soc_max%7D%0A++++++++output.add_data%28data_type%3Ddict%2C%0A++++++++++++++++++++++++name%3D%27BMS_odx_values%27%2C%0A++++++++++++++++++++++++data%3Dodx_values%29%0A++++++++psn+%3D+await+get_pack_sn%28%29%0A++++++++output.add_data%28data_type%3Ddict%2C%0A++++++++++++++++++++++++name%3D%27current_pack_serial%27%2C%0A++++++++++++++++++++++++data%3Dpsn%29%0A++++++++delta+%3D+odx_values.get%28%27soc_max%27%29+-+odx_values.get%28%27soc_min%27%29%0A++++++++if+delta+%3C+MAX_LUT_SOC_DELTA%3A%0A++++++++++++contents+%3D+await+get_dir%28directory%3DDIR_PATH%2C%0A+++++++++++++++++++++++++++++++++++++show_hidden%3DFalse%2C%0A+++++++++++++++++++++++++++++++++++++details%3DFalse%2C%0A+++++++++++++++++++++++++++++++++++++human_readable%3DFalse%29%0A++++++++++++if+SENTINEL_NAME+in+contents.get%28%27result%27%29%3A%0A++++++++++++++++data+%3D+%28await+read_from_file%28filename%3DFAIL_SENTINEL_PATH%29%29.get%28%27data%27%29%0A++++++++++++++++output.add_data%28data_type%3Ddict%2C%0A++++++++++++++++++++++++++++++++name%3D%27old_pack_serial%27%2C%0A++++++++++++++++++++++++++++++++data%3Ddata%29%0A++++++++++++++++if+data+%3D%3D+psn%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22This+pack+previously+failed+this+SOC%2FVoltage+delta+check%22%0A+++++++++++++++++++++++++++++++++++++++++++++++%22+-+escalate+to+pack+quality+at+DL-GFTX-PWT-Battery-Quality-Internal%40tesla.com+for+pack+replacement+instructions%22%29%0A++++++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++++++return+output%0A++++++++++++output.set_user_facing_msg%28f%22SOC+delta+%7Bdelta%7D%25+is+less+than+the+maximum+%28%7BMAX_LUT_SOC_DELTA%7D%29%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++return+output%0A++++++++else%3A%0A++++++++++++await+save_to_file%28filename%3DFAIL_SENTINEL_PATH%2C+data%3Dpsn%29%0A++++++++++++output.set_user_facing_msg%28f%22SOC+delta+%7Bdelta%7D%25+is+more+than+the+maximum+%28%7BMAX_LUT_SOC_DELTA%7D%29%22%0A+++++++++++++++++++++++++++++++++++++++f%22+-+escalate+to+pack+quality+at+DL-GFTX-PWT-Battery-Quality-Internal%40tesla.com+for+pack+replacement+instructions%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+output%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/VCSEC_CLEAR_KEY_WHITELIST.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++capture+%3D+api.reporting.capture_metric%0A++++VCSEC_KEY_SLOTS+%3D+20%0A++++for+slot+in+range%281%2C+VCSEC_KEY_SLOTS%29%3A%0A++++++++result+%3D+await+run_ref%28%0A++++++++++++%27Gen3%2Ftasks%2FPROC_VCSEC_X_REMOVE-FROM-WHITELIST%27%2C%0A++++++++++++slot%3Dslot%0A++++++++%29%0A++++++++if+result.get%28%27exit_code%27%29+%21%3D+0%3A%0A++++++++++++await+capture%28metric_name%3D%22FailedToClearSlot%22%2C+value%3Df%22Failed+to+clear+slot+%7Bslot%7D%22%2C+result_code%3Dapi.metric_result.Fail%29%0A++++++++++++return+1%0A++++return+0
		../../odin_bundle/networks/Gen3/scripts/MODULE_HVBMS-SOC-BY-OCV-LUT.py
			async+def+make_module%28api%29%3A%0A++++from+types+import+ModuleType%0A++++module+%3D+ModuleType%28%22Gen3.scripts.MODULE-HVBMS-SOC-BY-OCV-LUT%22%29%0A++++SOC_OCV_LOOKUP+%3D+%7B%0A++++++++%22BMS_CONFIG_23%22%3A+%7B%0A++++++++++++0.00%3A+2.84097%2C%0A++++++++++++0.01%3A+3.00048%2C%0A++++++++++++0.02%3A+3.10657%2C%0A++++++++++++0.03%3A+3.18423%2C%0A++++++++++++0.04%3A+3.24582%2C%0A++++++++++++0.05%3A+3.29571%2C%0A++++++++++++0.06%3A+3.33665%2C%0A++++++++++++0.07%3A+3.36171%2C%0A++++++++++++0.08%3A+3.37366%2C%0A++++++++++++0.09%3A+3.38165%2C%0A++++++++++++0.1%3A+3.38929%2C%0A++++++++++++0.11%3A+3.39721%2C%0A++++++++++++0.12%3A+3.40572%2C%0A++++++++++++0.13%3A+3.41527%2C%0A++++++++++++0.14%3A+3.4262%2C%0A++++++++++++0.15%3A+3.43844%2C%0A++++++++++++0.16%3A+3.45152%2C%0A++++++++++++0.17%3A+3.46484%2C%0A++++++++++++0.18%3A+3.47813%2C%0A++++++++++++0.19%3A+3.49161%2C%0A++++++++++++0.2%3A+3.50506%2C%0A++++++++++++0.21%3A+3.51728%2C%0A++++++++++++0.22%3A+3.52914%2C%0A++++++++++++0.23%3A+3.54107%2C%0A++++++++++++0.24%3A+3.55188%2C%0A++++++++++++0.25%3A+3.55996%2C%0A++++++++++++0.26%3A+3.56681%2C%0A++++++++++++0.27%3A+3.57341%2C%0A++++++++++++0.28%3A+3.57962%2C%0A++++++++++++0.29%3A+3.58555%2C%0A++++++++++++0.3%3A+3.59095%2C%0A++++++++++++0.31%3A+3.59591%2C%0A++++++++++++0.32%3A+3.60096%2C%0A++++++++++++0.33%3A+3.60582%2C%0A++++++++++++0.34%3A+3.61063%2C%0A++++++++++++0.35%3A+3.61533%2C%0A++++++++++++0.36%3A+3.61995%2C%0A++++++++++++0.37%3A+3.62482%2C%0A++++++++++++0.38%3A+3.62966%2C%0A++++++++++++0.39%3A+3.63442%2C%0A++++++++++++0.4%3A+3.63946%2C%0A++++++++++++0.41%3A+3.64466%2C%0A++++++++++++0.42%3A+3.65006%2C%0A++++++++++++0.43%3A+3.65553%2C%0A++++++++++++0.44%3A+3.66128%2C%0A++++++++++++0.45%3A+3.66753%2C%0A++++++++++++0.46%3A+3.6741%2C%0A++++++++++++0.47%3A+3.68098%2C%0A++++++++++++0.48%3A+3.68846%2C%0A++++++++++++0.49%3A+3.69646%2C%0A++++++++++++0.5%3A+3.70497%2C%0A++++++++++++0.51%3A+3.71417%2C%0A++++++++++++0.52%3A+3.72386%2C%0A++++++++++++0.53%3A+3.73439%2C%0A++++++++++++0.54%3A+3.74571%2C%0A++++++++++++0.55%3A+3.75804%2C%0A++++++++++++0.56%3A+3.772%2C%0A++++++++++++0.57%3A+3.7871%2C%0A++++++++++++0.58%3A+3.80203%2C%0A++++++++++++0.59%3A+3.81566%2C%0A++++++++++++0.6%3A+3.82785%2C%0A++++++++++++0.61%3A+3.83869%2C%0A++++++++++++0.62%3A+3.84873%2C%0A++++++++++++0.63%3A+3.85861%2C%0A++++++++++++0.64%3A+3.86779%2C%0A++++++++++++0.65%3A+3.87689%2C%0A++++++++++++0.66%3A+3.88561%2C%0A++++++++++++0.67%3A+3.89409%2C%0A++++++++++++0.68%3A+3.90233%2C%0A++++++++++++0.69%3A+3.91054%2C%0A++++++++++++0.7%3A+3.91894%2C%0A++++++++++++0.71%3A+3.92718%2C%0A++++++++++++0.72%3A+3.93578%2C%0A++++++++++++0.73%3A+3.9446%2C%0A++++++++++++0.74%3A+3.9539%2C%0A++++++++++++0.75%3A+3.96364%2C%0A++++++++++++0.76%3A+3.97371%2C%0A++++++++++++0.77%3A+3.98411%2C%0A++++++++++++0.78%3A+3.99495%2C%0A++++++++++++0.79%3A+4.00599%2C%0A++++++++++++0.8%3A+4.01713%2C%0A++++++++++++0.81%3A+4.02831%2C%0A++++++++++++0.82%3A+4.03904%2C%0A++++++++++++0.83%3A+4.04936%2C%0A++++++++++++0.84%3A+4.05914%2C%0A++++++++++++0.85%3A+4.06789%2C%0A++++++++++++0.86%3A+4.07568%2C%0A++++++++++++0.87%3A+4.08205%2C%0A++++++++++++0.88%3A+4.08742%2C%0A++++++++++++0.89%3A+4.09192%2C%0A++++++++++++0.9%3A+4.09595%2C%0A++++++++++++0.91%3A+4.10022%2C%0A++++++++++++0.92%3A+4.10487%2C%0A++++++++++++0.93%3A+4.11018%2C%0A++++++++++++0.94%3A+4.11584%2C%0A++++++++++++0.95%3A+4.12262%2C%0A++++++++++++0.96%3A+4.13101%2C%0A++++++++++++0.97%3A+4.14139%2C%0A++++++++++++0.98%3A+4.15452%2C%0A++++++++++++0.99%3A+4.17062%2C%0A++++++++++++1.00%3A+4.19043%0A++++++++%7D%2C%0A++++++++%22BMS_CONFIG_24%22%3A+%7B%0A++++++++++++0.00%3A+2.89637%2C%0A++++++++++++0.01%3A+3.00053%2C%0A++++++++++++0.02%3A+3.10469%2C%0A++++++++++++0.03%3A+3.18220%2C%0A++++++++++++0.04%3A+3.24396%2C%0A++++++++++++0.05%3A+3.29473%2C%0A++++++++++++0.06%3A+3.33685%2C%0A++++++++++++0.07%3A+3.36712%2C%0A++++++++++++0.08%3A+3.38198%2C%0A++++++++++++0.09%3A+3.39061%2C%0A++++++++++++0.10%3A+3.39847%2C%0A++++++++++++0.11%3A+3.40634%2C%0A++++++++++++0.12%3A+3.41460%2C%0A++++++++++++0.13%3A+3.42354%2C%0A++++++++++++0.14%3A+3.43343%2C%0A++++++++++++0.15%3A+3.44441%2C%0A++++++++++++0.16%3A+3.45641%2C%0A++++++++++++0.17%3A+3.46895%2C%0A++++++++++++0.18%3A+3.48153%2C%0A++++++++++++0.19%3A+3.49416%2C%0A++++++++++++0.20%3A+3.50702%2C%0A++++++++++++0.21%3A+3.51953%2C%0A++++++++++++0.22%3A+3.53121%2C%0A++++++++++++0.23%3A+3.54237%2C%0A++++++++++++0.24%3A+3.55350%2C%0A++++++++++++0.25%3A+3.56373%2C%0A++++++++++++0.26%3A+3.57188%2C%0A++++++++++++0.27%3A+3.57868%2C%0A++++++++++++0.28%3A+3.58507%2C%0A++++++++++++0.29%3A+3.59103%2C%0A++++++++++++0.30%3A+3.59676%2C%0A++++++++++++0.31%3A+3.60190%2C%0A++++++++++++0.32%3A+3.60710%2C%0A++++++++++++0.33%3A+3.61209%2C%0A++++++++++++0.34%3A+3.61681%2C%0A++++++++++++0.35%3A+3.62154%2C%0A++++++++++++0.36%3A+3.62635%2C%0A++++++++++++0.37%3A+3.63116%2C%0A++++++++++++0.38%3A+3.63612%2C%0A++++++++++++0.39%3A+3.64117%2C%0A++++++++++++0.40%3A+3.64618%2C%0A++++++++++++0.41%3A+3.65144%2C%0A++++++++++++0.42%3A+3.65694%2C%0A++++++++++++0.43%3A+3.66264%2C%0A++++++++++++0.44%3A+3.66870%2C%0A++++++++++++0.45%3A+3.67496%2C%0A++++++++++++0.46%3A+3.68164%2C%0A++++++++++++0.47%3A+3.68876%2C%0A++++++++++++0.48%3A+3.69621%2C%0A++++++++++++0.49%3A+3.70434%2C%0A++++++++++++0.50%3A+3.71285%2C%0A++++++++++++0.51%3A+3.72178%2C%0A++++++++++++0.52%3A+3.73104%2C%0A++++++++++++0.53%3A+3.74100%2C%0A++++++++++++0.54%3A+3.75135%2C%0A++++++++++++0.55%3A+3.76194%2C%0A++++++++++++0.56%3A+3.77317%2C%0A++++++++++++0.57%3A+3.78511%2C%0A++++++++++++0.58%3A+3.79738%2C%0A++++++++++++0.59%3A+3.80994%2C%0A++++++++++++0.60%3A+3.82262%2C%0A++++++++++++0.61%3A+3.83532%2C%0A++++++++++++0.62%3A+3.84757%2C%0A++++++++++++0.63%3A+3.85893%2C%0A++++++++++++0.64%3A+3.86912%2C%0A++++++++++++0.65%3A+3.87853%2C%0A++++++++++++0.66%3A+3.88755%2C%0A++++++++++++0.67%3A+3.89620%2C%0A++++++++++++0.68%3A+3.90455%2C%0A++++++++++++0.69%3A+3.91263%2C%0A++++++++++++0.70%3A+3.92067%2C%0A++++++++++++0.71%3A+3.92890%2C%0A++++++++++++0.72%3A+3.93725%2C%0A++++++++++++0.73%3A+3.94591%2C%0A++++++++++++0.74%3A+3.95491%2C%0A++++++++++++0.75%3A+3.96421%2C%0A++++++++++++0.76%3A+3.97412%2C%0A++++++++++++0.77%3A+3.98450%2C%0A++++++++++++0.78%3A+3.99506%2C%0A++++++++++++0.79%3A+4.00576%2C%0A++++++++++++0.80%3A+4.01678%2C%0A++++++++++++0.81%3A+4.02745%2C%0A++++++++++++0.82%3A+4.03790%2C%0A++++++++++++0.83%3A+4.04793%2C%0A++++++++++++0.84%3A+4.05724%2C%0A++++++++++++0.85%3A+4.06592%2C%0A++++++++++++0.86%3A+4.07319%2C%0A++++++++++++0.87%3A+4.07935%2C%0A++++++++++++0.88%3A+4.08437%2C%0A++++++++++++0.89%3A+4.08848%2C%0A++++++++++++0.90%3A+4.09216%2C%0A++++++++++++0.91%3A+4.09592%2C%0A++++++++++++0.92%3A+4.09990%2C%0A++++++++++++0.93%3A+4.10453%2C%0A++++++++++++0.94%3A+4.11004%2C%0A++++++++++++0.95%3A+4.11672%2C%0A++++++++++++0.96%3A+4.12502%2C%0A++++++++++++0.97%3A+4.13580%2C%0A++++++++++++0.98%3A+4.14995%2C%0A++++++++++++0.99%3A+4.16788%2C%0A++++++++++++1.00%3A+4.19029%0A++++++++%7D%2C%0A++++++++%22BMS_CONFIG_25%22%3A+%7B%0A++++++++++++0.00%3A+2.89637%2C%0A++++++++++++0.01%3A+3.00053%2C%0A++++++++++++0.02%3A+3.10469%2C%0A++++++++++++0.03%3A+3.18220%2C%0A++++++++++++0.04%3A+3.24396%2C%0A++++++++++++0.05%3A+3.29473%2C%0A++++++++++++0.06%3A+3.33685%2C%0A++++++++++++0.07%3A+3.36712%2C%0A++++++++++++0.08%3A+3.38198%2C%0A++++++++++++0.09%3A+3.39061%2C%0A++++++++++++0.10%3A+3.39847%2C%0A++++++++++++0.11%3A+3.40634%2C%0A++++++++++++0.12%3A+3.41460%2C%0A++++++++++++0.13%3A+3.42354%2C%0A++++++++++++0.14%3A+3.43343%2C%0A++++++++++++0.15%3A+3.44441%2C%0A++++++++++++0.16%3A+3.45641%2C%0A++++++++++++0.17%3A+3.46895%2C%0A++++++++++++0.18%3A+3.48153%2C%0A++++++++++++0.19%3A+3.49416%2C%0A++++++++++++0.20%3A+3.50702%2C%0A++++++++++++0.21%3A+3.51953%2C%0A++++++++++++0.22%3A+3.53121%2C%0A++++++++++++0.23%3A+3.54237%2C%0A++++++++++++0.24%3A+3.55350%2C%0A++++++++++++0.25%3A+3.56373%2C%0A++++++++++++0.26%3A+3.57188%2C%0A++++++++++++0.27%3A+3.57868%2C%0A++++++++++++0.28%3A+3.58507%2C%0A++++++++++++0.29%3A+3.59103%2C%0A++++++++++++0.30%3A+3.59676%2C%0A++++++++++++0.31%3A+3.60190%2C%0A++++++++++++0.32%3A+3.60710%2C%0A++++++++++++0.33%3A+3.61209%2C%0A++++++++++++0.34%3A+3.61681%2C%0A++++++++++++0.35%3A+3.62154%2C%0A++++++++++++0.36%3A+3.62635%2C%0A++++++++++++0.37%3A+3.63116%2C%0A++++++++++++0.38%3A+3.63612%2C%0A++++++++++++0.39%3A+3.64117%2C%0A++++++++++++0.40%3A+3.64618%2C%0A++++++++++++0.41%3A+3.65144%2C%0A++++++++++++0.42%3A+3.65694%2C%0A++++++++++++0.43%3A+3.66264%2C%0A++++++++++++0.44%3A+3.66870%2C%0A++++++++++++0.45%3A+3.67496%2C%0A++++++++++++0.46%3A+3.68164%2C%0A++++++++++++0.47%3A+3.68876%2C%0A++++++++++++0.48%3A+3.69621%2C%0A++++++++++++0.49%3A+3.70434%2C%0A++++++++++++0.50%3A+3.71285%2C%0A++++++++++++0.51%3A+3.72178%2C%0A++++++++++++0.52%3A+3.73104%2C%0A++++++++++++0.53%3A+3.74100%2C%0A++++++++++++0.54%3A+3.75135%2C%0A++++++++++++0.55%3A+3.76194%2C%0A++++++++++++0.56%3A+3.77317%2C%0A++++++++++++0.57%3A+3.78511%2C%0A++++++++++++0.58%3A+3.79738%2C%0A++++++++++++0.59%3A+3.80994%2C%0A++++++++++++0.60%3A+3.82262%2C%0A++++++++++++0.61%3A+3.83532%2C%0A++++++++++++0.62%3A+3.84757%2C%0A++++++++++++0.63%3A+3.85893%2C%0A++++++++++++0.64%3A+3.86912%2C%0A++++++++++++0.65%3A+3.87853%2C%0A++++++++++++0.66%3A+3.88755%2C%0A++++++++++++0.67%3A+3.89620%2C%0A++++++++++++0.68%3A+3.90455%2C%0A++++++++++++0.69%3A+3.91263%2C%0A++++++++++++0.70%3A+3.92067%2C%0A++++++++++++0.71%3A+3.92890%2C%0A++++++++++++0.72%3A+3.93725%2C%0A++++++++++++0.73%3A+3.94591%2C%0A++++++++++++0.74%3A+3.95491%2C%0A++++++++++++0.75%3A+3.96421%2C%0A++++++++++++0.76%3A+3.97412%2C%0A++++++++++++0.77%3A+3.98450%2C%0A++++++++++++0.78%3A+3.99506%2C%0A++++++++++++0.79%3A+4.00576%2C%0A++++++++++++0.80%3A+4.01678%2C%0A++++++++++++0.81%3A+4.02745%2C%0A++++++++++++0.82%3A+4.03790%2C%0A++++++++++++0.83%3A+4.04793%2C%0A++++++++++++0.84%3A+4.05724%2C%0A++++++++++++0.85%3A+4.06592%2C%0A++++++++++++0.86%3A+4.07319%2C%0A++++++++++++0.87%3A+4.07935%2C%0A++++++++++++0.88%3A+4.08437%2C%0A++++++++++++0.89%3A+4.08848%2C%0A++++++++++++0.90%3A+4.09216%2C%0A++++++++++++0.91%3A+4.09592%2C%0A++++++++++++0.92%3A+4.09990%2C%0A++++++++++++0.93%3A+4.10453%2C%0A++++++++++++0.94%3A+4.11004%2C%0A++++++++++++0.95%3A+4.11672%2C%0A++++++++++++0.96%3A+4.12502%2C%0A++++++++++++0.97%3A+4.13580%2C%0A++++++++++++0.98%3A+4.14995%2C%0A++++++++++++0.99%3A+4.16788%2C%0A++++++++++++1.00%3A+4.19029%0A++++++++%7D%0A++++%7D%0A++++async+def+lookup_soc%28bms_config%3A+str%2C+voltage%3A+float%29+-%3E+float%3A%0A++++++++soc_ocv_lookup+%3D+SOC_OCV_LOOKUP%5Bbms_config%5D%0A++++++++closest_soc+%3D+list%28soc_ocv_lookup.keys%28%29%29%5B0%5D%0A++++++++for+soc+in+soc_ocv_lookup%3A%0A++++++++++++if+soc_ocv_lookup%5Bsoc%5D+%3E+voltage%3A%0A++++++++++++++++break%0A++++++++++++closest_soc+%3D+soc%0A++++++++x+%3D+voltage%0A++++++++y1+%3D+closest_soc%0A++++++++y2+%3D+round%28closest_soc+%2B+0.01%2C+2%29%0A++++++++x1+%3D+soc_ocv_lookup%5Bclosest_soc%5D%0A++++++++x2+%3D+soc_ocv_lookup%5By2%5D%0A++++++++linear_interpolated_soc+%3D+y1+%2B+%28%28y2+-+y1%29+%2A+%28%28x+-+x1%29+%2F+%28x2+-+x1%29%29%29%0A++++++++return+linear_interpolated_soc%0A++++module.lookup_soc+%3D+lookup_soc%0A++++module.SOC_OCV_LOOKUP+%3D+SOC_OCV_LOOKUP%0A++++return+module
		../../odin_bundle/networks/Gen3/scripts/PROC_VCFRONT_X_HOMELINK-RETROFIT.py
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++HOMELINK_ID+%3D+%2718%27%0A++++HOMELINK_VALUE+%3D+%2701%27%0A++++usr_fm_msg+%3D+%27HomeLink+configuration+changed+from+None+to+Vopt2%27%0A++++vitals_info+%3D+await+api.cid.get_vitals%28%29%0A++++cfg_homelinktype+%3D+vitals_info.get%28%27vitals%27%29.get%28%27cfg_homelinktype%27%29%0A++++if+cfg_homelinktype+%21%3D+%27NONE%27%3A%0A++++++++usr_fm_msg+%3D+%27HomeLink+configuration+set+to+None%27%0A++++++++HOMELINK_VALUE+%3D+%2700%27%0A++++HOMELINK_CONFIG_PARAMS+%3D+%5B%0A++++++++%7B%27configid%27%3A+HOMELINK_ID%2C+%27data%27%3A+HOMELINK_VALUE%7D%5D%0A++++res+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FICE_SAFE_SET_CONFIGS%22%2C%0A++++++++configParams%3DHOMELINK_CONFIG_PARAMS%2C%0A++++++++configs_require_ice_reboot%3D%5BHOMELINK_ID%5D%2C%0A++++++++ignore_display_state%3DTrue%0A++++%29%0A++++if+res.get%28%22exit_code%22%29+%21%3D+0%3A%0A++++++++out+%3D+output%28%0A++++++++++++user_facing_msg%3D%22Failed+to+update+HomeLink+Configuration%22%2C%0A++++++++++++exit_code%3Dexit_reason.FAIL%0A++++++++%29%0A++++++++out.add_data%28%0A++++++++++++name%3D%22DEBUG+INFO%22%2C%0A++++++++++++data_type%3Dstr%2C%0A++++++++++++data%3Df%22%7Bres%7D%22%0A++++++++%29%0A++++++++return+out%0A++++out+%3D+output%28%0A++++++++user_facing_msg%3Df%22%22%22%0A++++++++%7Busr_fm_msg%7D.+Under+Software+%3E+Additional+Vehicle+information+%3E+Garage+door+opener%2C+you+can+see+the+current+configuration.%0A++++++++If+this+routine+has+been+ran+by+accident%2C+run+it+again+to+undo+the+configuration+change.%0A++++++++%22%22%22%2C%0A++++++++exit_code%3Dexit_reason.PASS%0A++++%29%0A++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_BRAKE_X_EVAC-AND-FILL-SCRIPT.py
			async+def+odin_script_test%28api%2C+PUMP_START_SEC%2C+TOTAL_PROC_SEC%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++try%3A%0A++++++++disable_auto_cycle+%3D+await+run_ref%28%0A++++++++++++name%3D%22Gen3%2Ftasks%2FPROC_ESP_EVACFILL-STATUS-WRITE-REPAIR%22%0A++++++++%29%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Ddict%2C+data%3Ddisable_auto_cycle%29%0A++++++++if+not+%28isinstance%28disable_auto_cycle%2C+dict%29+and+disable_auto_cycle.get%28%22exit_code%22%2C+exit_reason.FAIL.value%29+in+%5Bexit_reason.PASS.value%2C+exit_reason.OPERATION_NOT_PERMITTED.value%5D%29%3A%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28%22Failed+to+disable+ESP+auto+cycle%22%29%0A++++++++++++return+output%0A++++except+ModuleNotFoundError%3A%0A++++++++output.add_data%28name%3D%22DISABLE-ESP-AUTO-CYCLE%22%2C+data_type%3Dstr%2C+data%3D%22Skip+disabling+ESP+production+mode%22%29%0A++++evac_and_fill+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FBRAKE_EVAC_AND_FILL_PROC%22%2C%0A++++++++PUMP_START_SEC%3DPUMP_START_SEC%2C%0A++++++++TOTAL_PROC_SEC%3DTOTAL_PROC_SEC%0A++++%29%0A++++output.add_data%28name%3D%22BRAKE_EVAC_AND_FILL_PROC%22%2C+data_type%3Ddict%2C+data%3Devac_and_fill%29%0A++++if+isinstance%28evac_and_fill%2C+dict%29+and+evac_and_fill.get%28%22exit_code%22%2C+1%29+%3D%3D+0%3A%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+execute+evac+and+fill%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/TEST-SELF_HVP_X_PCS-INTERFACE.py
			async+def+odin_script_test%28api%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+api.service_output%28%29%0A++++runodx+%3D+api.odx.odx_start_and_wait_results_v2%0A++++debug_print+%3D+api.reporting.debug_print%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++NODE_HVP+%3D+%22HVP%22%0A++++ROUTINE_NAME+%3D+%22SELF_TEST_PCS_INTERFACE%22%0A++++pcs_chg_enable+%3D+%27PASS%27%0A++++pcs_dcdc_enable+%3D+%27PASS%27%0A++++pcs_enable+%3D+%27PASS%27+%0A++++try%3A+%0A++++++++powerstate_result+%3D+await+run_ref%28%27Gen3%2Flib%2FPOWER_CONTEXT%27%2Cpower_state%3D%27CONTACTORS_OPEN%27%29%0A++++++++powerstate_exit_code+%3D+powerstate_result.get%28%27exit_code%27%29%0A++++++++await+debug_print+%28%22Power+State+Result+%3D+%7B%7D%22.format%28powerstate_result%29%29%0A++++++++await+debug_print+%28%22Power+State+Exit+Code+%3D+%7B%7D%22.format%28powerstate_exit_code%29%29%0A++++++++if+powerstate_exit_code+%3D%3D+1%3A%0A++++++++++++out.set_user_facing_msg%28%22Vehicle+power+state+failure.+Make+sure+the+vehicle+drive+rail+is+on+by+pressing+the+brake+pedal+with+the+key+inside.%22%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++return+out%0A++++++++else%3A%0A++++++++++++odx_output+%3D+await+runodx%28%0A++++++++++++++++node_name%3DNODE_HVP%2C%0A++++++++++++++++routine_name%3D+ROUTINE_NAME%2C%0A++++++++++++++++diagnostic_session%3D%27EXTENDED_DIAGNOSTIC_SESSION%27%2C%0A++++++++++++++++start_status_parameter%3D%27STATUS%27%2C%0A++++++++++++++++successful_start_statuses%3D%5B%27SUCCESSFUL%27%5D%2C%0A++++++++++++++++status_parameter%3D%27STATUS%27%2C%0A++++++++++++++++in_progress_statuses%3D%5B%27RUNNING%27%5D%2C%0A++++++++++++++++poll_interval%3D1%2C%0A++++++++++++++++should_stop%3DTrue%2C%0A++++++++++++++++uds_resilience%3D2%2C%0A++++++++++++++++handle_brr%3DTrue%0A++++++++++++%29%0A++++++++++++odx_failed+%3D+odx_output.get%28%27failed%27%29%0A++++++++++++odx_result+%3D+odx_output.get%28%27results%27%29%0A++++++++++++await+debug_print+%28%22ODX+Output+%3D+%7B%7D%22.format%28odx_output%29%29%0A++++++++++++await+debug_print+%28%22ODX+Failed+%3D+%7B%7D%22.format%28odx_failed%29%29%0A++++++++++++await+debug_print+%28%22ODX+Result+%3D+%7B%7D%22.format%28odx_result%29%29%0A++++++++++++if+odx_failed+%3D%3D+False%3A%0A++++++++++++++++if+odx_result.get%28%27PCS_CHG_EN_LINE_FAILURE%27%29+or+odx_result.get%28%27PCS_DCDC_EN_LINE_FAILURE%27%29+or+odx_result.get%28%27PCS_EN_LINE_FAILLURE%27%29+%3D%3D+True%3A%0A++++++++++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++++++user_facing_msg+%3D+%27HVP%2FPCS+interface+self+test+FAILURE.+See+Toolbox+Article+6456900+for+next+steps.%27%0A++++++++++++++++else%3A%0A++++++++++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++++++user_facing_msg+%3D+%27HVP%2FPCS+interface+self+test+PASSED.%27%0A++++++++++++++++if+odx_result.get%28%27PCS_CHG_EN_LINE_FAILURE%27%29+%3D%3D+True%3A%0A++++++++++++++++++++pcs_chg_enable+%3D+%27FAIL%27%0A++++++++++++++++if+odx_result.get%28%27PCS_DCDC_EN_LINE_FAILURE%27%29+%3D%3D+True%3A%0A++++++++++++++++++++pcs_dcdc_enable+%3D+%27FAIL%27%0A++++++++++++++++if+odx_result.get%28%27PCS_EN_LINE_FAILLURE%27%29+%3D%3D+True%3A%0A++++++++++++++++++++pcs_enable+%3D+%27FAIL%27%0A++++++++++++++++out.add_data%28%0A++++++++++++++++++++name%3D%22HVP%2FPCS+Interface+Data%3A%22%2C%0A++++++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++++++data%3D%7B%0A++++++++++++++++++++++++%22PCS+Charge+Enable+Line%22%3A+pcs_chg_enable%2C%0A++++++++++++++++++++++++%22PCS+DCDC+Enable+Line%22%3A+pcs_dcdc_enable%2C%0A++++++++++++++++++++++++%22PCS+Enable+Line%22%3A+pcs_enable%0A++++++++++++++++++++%7D%0A++++++++++++++++%29%0A++++++++++++else%3A%0A++++++++++++++++user_facing_msg+%3D+%27Failed+to+run+HVP%2FPCS+interface+self+test+routine.%27%0A++++++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++out.set_user_facing_msg%28%22%7B%7D%22.format%28user_facing_msg%29%29%0A++++++++return+out%0A++++except+Exception+as+error%3A%0A++++++++out.set_user_facing_msg%28%22Failed+to+run+HVP%2FPCS+interface+self+test.%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.add_data%28name%3D%22RoutineException%22%2C+data_type%3Ddict%2C+data%3D%7B%22Exception%22%3A+type%28error%29.__name__%2C+%22args%22%3A+str%28error%29%7D%29%0A++++++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_VCFRONT_X_HV-DISCHARGE.py
			async+def+odin_script_test%28api%2C+target_soc%3A+int%2C+ground_ship%3A+bool%2C+air_ship%3A+bool%2C+custom_soc%3A+bool%29%3A%0A++++from+asyncio+import+sleep%0A++++from+time+import+time%0A++++startOdx+%3D+api.odx.odx_start_routine%0A++++getResults+%3D+api.odx.odx_request_results%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref%3Dapi.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++STEP_RETRY_COUNT+%3D+3%0A++++STEP_RETRY_SLEEP_INTERVAL_SECONDS+%3D+1%0A++++routine_list+%3D+%5B%0A++++++++++++%27Gen3%2Ftasks%2FPROC_HVBMS_X_RESET-ISOLATION-COUNTERS%27%2C%0A++++++++++++%27Gen3%2Ftasks%2FPROC_HVBMS_X_RESET-VSH-FAULT%27%2C+%0A++++++++++++%27Gen3%2Ftasks%2FTEST-RESET_HVP%27%2C%0A++++++++++++%27Gen3%2Ftasks%2FTEST-RESET_HVBMS%27%0A++++++++++++%5D%0A++++class+Preconditions%28Exception%29%3A%0A++++++++pass%0A++++async+def+run_routine_with_retries%28routine%29+-%3E+bool%3A%0A++++++++retries+%3D+0%0A++++++++exception+%3D+None%0A++++++++while+retries+%3C+STEP_RETRY_COUNT%3A%0A++++++++++++try%3A%0A++++++++++++++++routine_status+%3D+await+run_ref%28routine%29%0A++++++++++++++++if+routine_status%5B%27exit_code%27%5D+%3D%3D+0%3A%0A++++++++++++++++++++return+True%2C+None%0A++++++++++++except+Exception+as+e%3A%0A++++++++++++++++exception+%3D+e%0A++++++++++++retries+%2B%3D+1%0A++++++++++++await+sleep%28STEP_RETRY_SLEEP_INTERVAL_SECONDS%29%0A++++++++return+False%2C+exception%0A++++selections+%3D+0%0A++++for+s+in+%5Bground_ship%2C+air_ship%2C+custom_soc%5D%3A%0A++++++++++++if+s%3A%0A++++++++++++++++selections+%2B%3D+1%0A++++soc+%3D+45%0A++++failure_reasons+%3D%7B%7D%0A++++try%3A%0A++++++++if+selections+%3D%3D+0%3A%0A++++++++++++raise+Exception%28%22No+input+selection+made%21+Select+at+least+one+option.%22%29%0A++++++++elif+selections+%3E+1%3A%0A++++++++++++raise+Exception%28%22Multiple+selections+made%21+Select+only+one+option.%22%29%0A++++++++else%3A++++++++++++%0A++++++++++++for+routine+in+routine_list%3A%0A++++++++++++++++result+%3D+await+run_routine_with_retries%28routine%29++++++++%0A++++++++++++try%3A++++++++%0A++++++++++++++++if%28air_ship%29%3A%0A++++++++++++++++++++soc+%3D+25%0A++++++++++++++++if%28custom_soc%29%3A%0A++++++++++++++++++++soc+%3D+target_soc%0A++++++++++++++++startResult+%3D+await+startOdx%28%0A++++++++++++++++++++node_name%3D%27VCFRONT%27%2C%0A++++++++++++++++++++routine_name%3D%27HV_BATTERY_DISCHARGE%27%2C%0A++++++++++++++++++++params%3D%7B%27TARGET_SOC%27%3Asoc%7D%2C%0A++++++++++++++++++++diagnostic_session%3D%27EXTENDED_DIAGNOSTIC_SESSION%27%0A++++++++++++++++%29%0A++++++++++++except%3A%0A++++++++++++++++raise%0A++++++++++++if+not+isinstance%28startResult%2C+dict%29+or+not+%28startResult.get%28%27results%27%2C+%7B%7D%29.get%28%27START_RESULT%27%29+%3D%3D+%27SUCCESSFUL%27%29%3A%0A++++++++++++++++raise+Exception%28%27Unable+to+start+routine%2C+rejected+by+controller+%7B%7D%27.format%28repr%28startResult.get%28%27results%27%29.get%28%27START_RESULT%27%29%29%29%29%0A++++++++++++await+sleep%281%29%0A++++++++++++try%3A%0A++++++++++++++++result+%3D+await+getResults%28%0A++++++++++++++++++++node_name%3D%27VCFRONT%27%2C%0A++++++++++++++++++++routine_name%3D%27HV_BATTERY_DISCHARGE%27%2C%0A++++++++++++++++%29%0A++++++++++++except%3A%0A++++++++++++++++raise%0A++++++++++++if+not+isinstance%28result%2C+dict%29+or+not+%28result.get%28%27results%27%2C+%7B%7D%29.get%28%27STATUS%27%29+%3D%3D+%27RUNNING%27%29%3A%0A++++++++++++++++reason+%3D+%27%27%0A++++++++++++++++for+metadata+in+result.get%28%27results%27%29%3A%0A++++++++++++++++++++failure_reasons.update%28%7Bmetadata%3Aresult.get%28%27results%27%29.get%28metadata%29%7D%29%0A++++++++++++++++++++if+result.get%28%27results%27%29.get%28metadata%29+%3D%3D+True%3A%0A++++++++++++++++++++++++reason+%3D+metadata%0A++++++++++++++++if+result.get%28%27results%27%29.get%28%27STATUS%27%29+%3D%3D+%27NOT_RUNNING_FINISHED%27%3A%0A++++++++++++++++++++reason+%3D+%22High+voltage+battery+state+of+charge+%28SOC%29+max+already+below+target.%22%0A++++++++++++++++raise+Preconditions%28%27Preconditions+not+met%21+%7B%7D%27.format%28repr%28failure_reasons%29%29%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++output.set_user_facing_msg%28%22Successfully+started+the+high+voltage+battery+discharge+routine.%22%29%0A++++except+Preconditions+as+error%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28%27Unable+to+start+routine%3A+%7B%7D%27.format%28reason%29%29%0A++++++++output.add_data%28name%3D%22Preconditions%22%2C+data_type%3Ddict%2C+data%3Dfailure_reasons%29%0A++++++++output.add_exception%28error%29%0A++++except+Exception+as+error%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28%27Unable+to+start+routine...+%7B%7D%27.format%28repr%28error%29%29%29%0A++++++++output.add_exception%28error%29%0A++++finally%3A%0A++++++++return+output
		../../odin_bundle/networks/Gen3/scripts/PING-BASH_ANT.py
			async+def+odin_script_test%28api%29%3A%0A++++result+%3D+await+api.subnetwork.run_reference%28%0A++++++++%27Gen3%2Flib%2FCID_TEST_SANITIZED%27%2C%0A++++++++timeout%3D65%2C%0A++++++++path%3D%27%2Fusr%2Fbin%2Fselftests%2Fantenna-check-selftest.sh%27%2C%0A++++++++script_language%3D%27sh%27%2C%0A++++++++user%3D%27root%27%0A++++%29%0A++++return+result%5B%27exit_code%27%5D
		../../odin_bundle/networks/Gen3/scripts/PROC_PAB_X-RETROFIT.py
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++PAB_ID+%3D+%2791%27%0A++++PAB_VALUE+%3D+%2700%27%0A++++usr_fm_msg+%3D+%27Passenger+airbag+configuration+changed+from+Full+Suppression+to+Safety+Vent%27%0A++++vitals_info+%3D+await+api.cid.get_vitals%28%29%0A++++cfg_passengerairbagtype+%3D+vitals_info.get%28%27vitals%27%29.get%28%27cfg_passengerairbagtype%27%29%0A++++if+cfg_passengerairbagtype+%21%3D+%27FULL_SUPPRESSION%27%3A%0A++++++++usr_fm_msg+%3D+%27Passenger+airbag+type+is+not+full+suppression%2C+this+routine+is+not+needed%27%0A++++++++output%28user_facing_msg%3Dusr_fm_msg%2Cexit_code%3Dexit.reason.PASS%29%0A++++++++return+output%0A++++else%3A%0A++++++++usr_fm_msg+%3D+%27Passenger+airbag+type+is+being+changed+from+full+suppression+to+safety+vent%2C+ensure+that+the+airbag+installed+is+of+safety+vent+type%27%0A++++++++PAB_VALUE+%3D+%2701%27%0A++++PAB_CONFIG_PARAMS+%3D+%5B%0A++++++++%7B%27configid%27%3A+PAB_ID%2C+%27data%27%3A+PAB_VALUE%7D%5D%0A++++res+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FICE_SAFE_SET_CONFIGS%22%2C%0A++++++++configParams%3DPAB_CONFIG_PARAMS%2C%0A++++++++configs_require_ice_reboot%3D%5BPAB_ID%5D%2C%0A++++++++ignore_display_state%3DTrue%0A++++%29%0A++++if+res.get%28%22exit_code%22%29+%21%3D+0%3A%0A++++++++out+%3D+output%28%0A++++++++++++user_facing_msg%3D%22Failed+to+update+Passenger+Airbag+Type+Configuration%22%2C%0A++++++++++++exit_code%3Dexit_reason.FAIL%0A++++++++%29%0A++++++++out.add_data%28%0A++++++++++++name%3D%22DEBUG+INFO%22%2C%0A++++++++++++data_type%3Dstr%2C%0A++++++++++++data%3Df%22%7Bres%7D%22%0A++++++++%29%0A++++++++return+out%0A++++out+%3D+output%28%0A++++++++user_facing_msg%3Df%22%22%22%0A++++++++%7Busr_fm_msg%7D.+The+passengerAirbagType+configuration+has+been+updated+to+SAFETY_VENT.+This+can+be+checked+in+the+Infotainment+Dashboard+%3E+Vehicle+Configuration+on+Toolbox.%0A++++++++%22%22%22%2C%0A++++++++exit_code%3Dexit_reason.PASS%0A++++%29%0A++++return+out
		../../odin_bundle/networks/Gen3/scripts/PROC_BRAKE_X_CARBON-BRAKES-CONFIG-UPDATE.py
			async+def+odin_script_test%28api%2C+SERVICE_INSTALLATION%3A+bool%29%3A%0A++++run_reference+%3D+api.subnetwork.run_reference%0A++++capture+%3D+api.reporting.capture_metric%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++if+SERVICE_INSTALLATION%3A%0A++++++++brakeConfig+%3D+%270A%27++%0A++++++++epbConfig+%3D+%2707%27++++%0A++++++++serviceOutputText+%3D+%27installation%27%0A++++else%3A%0A++++++++brakeConfig+%3D+%270B%27++%0A++++++++epbConfig+%3D+%2706%27++++%0A++++++++serviceOutputText+%3D+%27uninstallation%27%0A++++configDict+%3D+%7B%27brake%27%3A++%7B%27configid%27%3A17%2C+%27data%27%3AbrakeConfig%7D%2C%0A++++++++++++++++%27epbl%27%3A+++++%7B%27configid%27%3A128%2C+%27data%27%3AepbConfig%7D%2C%0A++++++++++++++++%27epbr%27%3A+++++%7B%27configid%27%3A129%2C+%27data%27%3AepbConfig%7D%2C%7D%0A++++for+config+in+configDict%3A%0A++++++++configResult+%3D+await+run_reference%28%27Gen3%2Flib%2FSET_VEHICLE_CONFIG%27%2C+input+%3D+configDict%5Bconfig%5D%29%0A++++++++if+configResult%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+configuration+update+failed%3A+%27%2Bconfig%2B%27HwType+GTW+configuration+was+not+set.%27%2C%0A++++++++++++++++++++++++exit_code+%3D+exit_reason.ERROR%29%0A++++refreshResult+%3D+await+run_reference%28%27Gen3%2Flib%2FICE_GTW_REFRESH_CONFIG_MSG%27%29%0A++++if+refreshResult%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+configuration+update+failed%3A+GTW+config+refresh+failed+after+setting+brakeHwType.%27%2C%0A++++++++++++++++++++exit_code+%3D+exit_reason.ERROR%29%0A++++readConfigResult+%3D+await+run_reference%28%27Gen3%2Flib%2FICE_INFO_READ-GW-CONFIGS%27%2C+configList+%3D+%5B%2717%27%2C+%27128%27%2C+%27129%27%5D%29%0A++++await+capture%28metric_name+%3D+%27brakeHwType%27%2C%0A++++++++++++++++++++value+%3D+readConfigResult%5B%27Output%27%5D%5B%2717%27%5D%2C%0A++++++++++++++++++++expected_value+%3D+brakeConfig%29%0A++++await+capture%28metric_name+%3D+%27epblHwType%27%2C%0A++++++++++++++++++++value+%3D+readConfigResult%5B%27Output%27%5D%5B%27128%27%5D%2C%0A++++++++++++++++++++expected_value+%3D+epbConfig%29%0A++++await+capture%28metric_name+%3D+%27epbrHwType%27%2C%0A++++++++++++++++++++value+%3D+readConfigResult%5B%27Output%27%5D%5B%27129%27%5D%2C%0A++++++++++++++++++++expected_value+%3D+epbConfig%29%0A++++if+readConfigResult%5B%27Output%27%5D%5B%2717%27%5D+%21%3D+brakeConfig+or+readConfigResult%5B%27Output%27%5D%5B%27128%27%5D+%21%3D+epbConfig+or+readConfigResult%5B%27Output%27%5D%5B%27129%27%5D+%21%3D+epbConfig%3A%0A++++++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+configuration+update+failed%3A+One+or+more+HW+types+were+set+incorrectly.+brakeHwType+%3D+%27%2BreadConfigResult%5B%27Output%27%5D%5B%2717%27%5D%2B%27+%28expected+%27%2BbrakeConfig%2B%27%29.+epblHwType+%3D+%27%2BreadConfigResult%5B%27Output%27%5D%5B%27128%27%5D%2B%27+%28expected+%27%2BepbConfig%2B%27%29.+epbrHwType+%3D+%27%2BreadConfigResult%5B%27Output%27%5D%5B%27129%27%5D%2B%27+%28expected+%27%2BepbConfig%2B%27%29.%27%2C%0A++++++++++++++++exit_code+%3D+exit_reason.FAIL%29%0A++++relearnEcus+%3D+%5B%27EPBL%27%2C+%27EPBR%27%5D%0A++++for+ecu+in+relearnEcus%3A%0A++++++++relearnResult+%3D+await+run_reference%28%27Gen3%2Flib%2FSTART_ROUTINE%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++node_name+%3D+ecu%2C%0A++++++++++++++++++++++++++++++++++++++++++++routine_name+%3D+%27CLEAR_BRAKE_HW_TYPE%27%29%0A++++++++if+relearnResult%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+configuration+update+failed%3A+%27%2Becu%2B%27+HW+type+relearn+failed.%27%2C%0A++++++++++++++++++++++++exit_code+%3D+exit_reason.ERROR%29%0A++++redeployResult+%3D+await+run_reference%28%27Gen3%2Flib%2FFIRMWARE_REDEPLOY%27%2C%0A++++++++++++++++++++++++++++++++++++++++CommandType+%3D+%27SERVICE%27%29%0A++++if+redeployResult%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+configuration+update+failed%3A+service+redeploy+failed.%27%2C%0A++++++++++++++++++++exit_code+%3D+exit_reason.ERROR%29%0A++++return+output%28user_facing_msg+%3D+%27Carbon+ceramic+brake+%27%2BserviceOutputText%2B%27+routine+completed+successfully%3A+brakeHwType%2C+epblHwType%2C+and+epbrHwType+GTW+configurations+updated+successfully.+EPBL+and+EPBR+HW+type+relearn+routines+completed+successfully.+Firmware+redeploy+triggered+successfully%2C+please+install+the+package+if+it+does+not+start+automatically+after+downloading.%27%2C%0A++++++++++++++++exit_code+%3D+exit_reason.PASS%29
		../../odin_bundle/networks/Gen3/scripts/PROC_DAS_FACTORY_MODE.py
			async+def+odin_script_test%28api%2C+input_operation%3A+str%29%3A%0A++++request+%3D+api.http.request%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++VALID_INPUTS+%3D+%5B%27enter%27%2C+%27exit%27%5D%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++if+input_operation+not+in+VALID_INPUTS%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28f%22%7Binput_operation%7D+is+not+a+valid+operation%22%29%0A++++++++return+output%0A++++async+def+request_das_factory%28input_url%2C+request_type%2C+req_num%29%3A%0A++++++++res+%3D+await+request%28%0A++++++++++++attempts%3D3%2C%0A++++++++++++method%3D%27GET%27%2C%0A++++++++++++timeout%3D10%2C%0A++++++++++++url%3Dinput_url%0A++++++++%29%0A++++++++if+res%5B%27status_code%27%5D+%21%3D+200%3A%0A++++++++++++output.add_data%28name%3Df%27%7Brequest_type%7D+request+%7Breq_num%7D%27%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22Response%3A+%7Bres%5B%27response%27%5D%7D%2C+url%3A%7Binput_url%7D%2C+http_status%3A%7Bres%5B%27status_code%27%5D%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28f%22%7Brequest_type%7D+request+number+%7Breq_num%7D+failed%22%29%0A++++++++else%3A%0A++++++++++++output.add_data%28name%3Df%27%7Brequest_type%7D+request+%7Breq_num%7D%27%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22Response%3A+%7Bres%5B%27response%27%5D%7D%2C+url%3A%7Binput_url%7D%2C+http_status%3A%7Bres%5B%27status_code%27%5D%7D%22%29%0A++++++++return+res%5B%27response%27%5D%0A++++async+def+check_status%28input_operation%2C+response%29%3A%0A++++++++if+input_operation+%3D%3D+%22enter%22%3A%0A++++++++++++return+%22Already+in+factory+mode%22.lower%28%29+in+response.lower%28%29%0A++++++++elif+input_operation+%3D%3D+%22exit%22%3A%0A++++++++++++return+%22Request+ignored.+Not+in+factory+mode%22.lower%28%29+in+response.lower%28%29%0A++++++++return+False%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++++++timeout%3D10%2C%0A++++++++++++++++attempts%3D3%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DWAKE_AND_PING%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++request_url+%3D+f%27http%3A%2F%2F192.168.90.103%3A8901%2Ffactory%2F%7Binput_operation%7D%27%0A++++++++request_type+%3D+%27Primary+factory+mode%27%0A++++++++await+request_das_factory%28request_url%2C+request_type%2C+1%29%0A++++++++response+%3D+await+request_das_factory%28request_url%2C+request_type%2C+2%29%0A++++++++primary_flag+%3D+await+check_status%28input_operation%2C+response%29%0A++++++++request_url+%3D+f%27http%3A%2F%2F192.168.90.105%3A8901%2Ffactory%2F%7Binput_operation%7D%27%0A++++++++request_type+%3D+%27Secondary+factory+mode%27%0A++++++++await+request_das_factory%28request_url%2C+request_type%2C+1%29%0A++++++++response+%3D+await+request_das_factory%28request_url%2C+request_type%2C+2%29%0A++++++++secondary_flag+%3D+await+check_status%28input_operation%2C+response%29%0A++++++++if+input_operation+%3D%3D+%22enter%22+and+%28primary_flag+and+secondary_flag%29%3A%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++output.set_user_facing_msg%28f%22DAS+is+in+Factory+mode%22%29%0A++++++++elif+input_operation+%3D%3D+%22exit%22+and+%28primary_flag+and+secondary_flag%29%3A%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++output.set_user_facing_msg%28f%22DAS+is+not+in+Factory+mode%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_WIPER_X_POST-REPLACEMENT-PROCEDURES.py
			async+def+odin_script_test%28api%29%3A%0A++++from+enum+import+Enum%0A++++service_output+%3D+api.service_output%28%0A++++++++exit_code%3Dapi.service_output_exit_reason.ERROR%0A++++%29%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++run_routine+%3D+api.networks.dynamically_referenced_subnetwork%0A++++uds_read_data+%3D+api.uds.uds_read_data%0A++++class+wiperMotorType%28Enum%29%3A%0A++++++++NOT_UPDATEABLE+%3D+0%0A++++++++SHB+%3D+1%0A++++WIPER_MOTOR_TYPE_TO_CONFIG_VALUE_MAP+%3D+%7B%0A++++++++wiperMotorType.NOT_UPDATEABLE%3A+%2700%27%2C%0A++++++++wiperMotorType.SHB%3A+%2701%27%0A++++%7D%0A++++WIPER_MOTOR_HWID_DID+%3D+0x0F11++%0A++++WIPER_MOTOR_TYPE_CONFIG_ID+%3D+157%0A++++try%3A%0A++++++++result+%3D+await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3D%27VCFRONT%27%29%0A++++++++if+not+isinstance%28result%2C+dict%29+or+not+result.get%28%27done%27%29%3A%0A++++++++++++service_output.set_user_facing_msg%28%22Failed+to+ensure+application+state+on+VCFRONT%22%29%0A++++++++++++service_output.set_exit_code%28api.service_output_exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++return+service_output%0A++++++++wiper_motor_type+%3D+wiperMotorType.NOT_UPDATEABLE%0A++++++++try%3A%0A++++++++++++wiper_hwid_response+%3D+await+uds_read_data%28node_name%3D%22VCFRONT%22%2C+data_id%3DWIPER_MOTOR_HWID_DID%29%0A++++++++++++if+%28wiper_hwid+%3A%3D+wiper_hwid_response.get%28%22output_payload%22%2C+None%29%29%3A%0A++++++++++++++++wiper_hwid_int+%3D+int.from_bytes%28wiper_hwid%2C+%22little%22%29%0A++++++++++++++++if+wiper_hwid_int+%3E%3D+1%3A%0A++++++++++++++++++++wiper_motor_type+%3D+wiperMotorType.SHB%0A++++++++except+Exception%3A%0A++++++++++++pass%0A++++++++config_params+%3D+%5B%7B%0A++++++++++++%27configid%27%3A+WIPER_MOTOR_TYPE_CONFIG_ID%2C%0A++++++++++++%27data%27%3A+WIPER_MOTOR_TYPE_TO_CONFIG_VALUE_MAP%5Bwiper_motor_type%5D%2C%0A++++++++%7D%5D%0A++++++++routine_result+%3D+await+run_ref%28%0A++++++++++++name%3D%22Gen3%2Ftasks%2FPROC_ICE_X_SAFE-SET-VEHICLE-CONFIGS%22%2C%0A++++++++++++configParams%3Dconfig_params%2C%0A++++++++%29%0A++++++++if+not+routine_result.get%28%22exit_code%22%2C+-1%29+%3D%3D+0%3A%0A++++++++++++service_output.set_user_facing_msg%28%22Failed+to+set+Motor+Type+GTW+config%22%29%0A++++++++++++service_output.set_exit_code%28api.service_output_exit_reason.ERROR%29%0A++++++++++++return+service_output%0A++++++++wiper_enable_results+%3D+%28await+run_routine%28%0A++++++++++++name%3D%22Gen3%2Ftasks%2FPROC_VCFRONT_X_WIPER-ENABLE%22%29%29.get%28%22results%22%2C+%7B%7D%29.get%28%22results%22%2C+%7B%7D%29%0A++++++++if+wiper_enable_results+is+None+or+not+wiper_enable_results.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++++++for+item+in+wiper_enable_results.get%28%22metrics%22%2C+%5B%5D%29%3A%0A++++++++++++++++service_output.add_exception%28item.get%28%22value%22%2C+%22%22%29%29%0A++++++++++++service_output.set_user_facing_msg%28%22Failed+to+run+wiper+enable%22%29%0A++++++++++++service_output.set_exit_code%28api.service_output_exit_reason.FAIL%29%0A++++++++else%3A%0A++++++++++++wiper_test_results+%3D+%28await+run_routine%28%0A++++++++++++++++name%3D%22Gen3%2Ftasks%2FTEST-SELF_VCFRONT_X_WIPER%22%0A++++++++++++%29%29.get%28%22results%22%2C+%7B%7D%29.get%28%22results%22%2C+%7B%7D%29%0A++++++++++++if+wiper_test_results.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++++++++++service_output.set_user_facing_msg%28%22Wiper+replacement+procedure+completed%22%29%0A++++++++++++++++service_output.set_exit_code%28api.service_output_exit_reason.PASS%29%0A++++++++++++++++service_output.add_data%28name%3D%22Completion+statuses%22%2C+data_type%3Ddict%2C+data%3D%7B%0A++++++++++++++++++++%22Gateway+config%22%3A+f%22Pass%2C+wiper+motor+type+set+to+%7Bwiper_motor_type.name%7D%22%2C%0A++++++++++++++++++++%22Wiper+enable%22%3A+%22Pass%22%2C%0A++++++++++++++++++++%22Self+test%22%3A+%22Pass%22%7D%29%0A++++++++++++else%3A%0A++++++++++++++++for+item+in+wiper_test_results.get%28%22metrics%22%2C+%5B%5D%29%3A%0A++++++++++++++++++++service_output.add_exception%28item.get%28%22value%22%2C+%22%22%29%29%0A++++++++++++++++service_output.set_user_facing_msg%28%22Wiper+self+test+failed%22%29%0A++++++++++++++++service_output.set_exit_code%28api.service_output_exit_reason.FAIL%29%0A++++++++++++++++service_output.add_data%28name%3D%22Completion+statuses%22%2C+data_type%3Ddict%2C+data%3D%7B%0A++++++++++++++++++++%22Gateway+config%22%3A+f%22Pass%2C+wiper+motor+type+set+to+%7Bwiper_motor_type.name%7D%22%2C%0A++++++++++++++++++++%22Wiper+enable%22%3A+%22Pass%22%2C%0A++++++++++++++++++++%22Self+test%22%3A+%22Fail%22%7D%29%0A++++except+Exception+as+e%3A%0A++++++++service_output.set_user_facing_msg%28%22An+error+occurred+while+running+the+wiper+replacement+tasks%22%29%0A++++++++service_output.add_exception%28e%29%0A++++++++service_output.set_exit_code%28api.service_output_exit_reason.ERROR%29%0A++++return+service_output
		../../odin_bundle/networks/Gen3/scripts/TEST_BRAKE_ALL_OUTLET-VALVE-RELEASE.py
			async+def+odin_script_test%28api%2C+PRESSURE_RELEASE_THRESHOLD%3A+float%2C+RELEASE_DELAY%3A+float%2C+INPUT_ROD_STROKE_S100%3A+dict%2C+INPUT_ROD_STROKE_S200%3A+dict%2C+PRESSURE_LIMITS%3A+dict%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_task+%3D+api.subnetwork.run_reference%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++CORNER_TEST+%3D+%22Gen3%2Ftasks%2FTEST-BRAKE_CORNER_STIFFNESS-TEST%22%0A++++output+%3D+api.service_output%28%29%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++FL_Result+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_FRONT_LEFT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++TEST_OUTLET_VALVE%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++OUTLET_VALVE_RELEASE_DELAY%3DRELEASE_DELAY%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_LEAKAGE_THRESH%3DPRESSURE_RELEASE_THRESHOLD%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22FRONT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22FRONT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-LEFT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-LEFT%22%29%5B1%5D%29%0A++++++++FR_Result+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_FRONT_RIGHT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++TEST_OUTLET_VALVE%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++OUTLET_VALVE_RELEASE_DELAY%3DRELEASE_DELAY%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_LEAKAGE_THRESH%3DPRESSURE_RELEASE_THRESHOLD%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22FRONT%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22FRONT%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-RIGHT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-RIGHT%22%29%5B1%5D%29%0A++++++++RL_Result+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_REAR_LEFT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++TEST_OUTLET_VALVE%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++OUTLET_VALVE_RELEASE_DELAY%3DRELEASE_DELAY%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_LEAKAGE_THRESH%3DPRESSURE_RELEASE_THRESHOLD%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22REAR%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22REAR%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-LEFT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-LEFT%22%29%5B1%5D%29%0A++++++++RR_Result+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_REAR_RIGHT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++TEST_OUTLET_VALVE%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++OUTLET_VALVE_RELEASE_DELAY%3DRELEASE_DELAY%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_LEAKAGE_THRESH%3DPRESSURE_RELEASE_THRESHOLD%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22REAR%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22REAR%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-RIGHT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-RIGHT%22%29%5B1%5D%29%0A++++++++corner_results+%3D+%7B%0A++++++++%22FL%22%3A+FL_Result%2C%0A++++++++%22FR%22%3A+FR_Result%2C%0A++++++++%22RL%22%3A+RL_Result%2C%0A++++++++%22RR%22%3A+RR_Result%0A++++++++%7D%0A++++++++P100+%3D+%7B%0A++++++++++++%22FL%22%3A+FL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++++++%22FR%22%3A+FR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++++++%22RL%22%3A+RL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++++++%22RR%22%3A+RR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%0A++++++++%7D%0A++++++++P200+%3D+%7B%0A++++++++++++%22FL%22%3A+FL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++++++%22FR%22%3A+FR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++++++%22RL%22%3A+RL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++++++%22RR%22%3A+RR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%0A++++++++%7D%0A++++++++pressure_release+%3D+%7B%0A++++++++++++%22FL%22%3A+FL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++++++%22FR%22%3A+FR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++++++%22RL%22%3A+RL_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++++++%22RR%22%3A+RR_Result.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%0A++++++++%7D%0A++++++++msg_list+%3D+%5B%5D%0A++++++++stiffness_or_release_failed+%3D+False%0A++++++++for+corner+in+corner_results.keys%28%29%3A%0A++++++++++++if+pressure_release.get%28corner%29+%3C+PRESSURE_RELEASE_THRESHOLD%3A%0A++++++++++++++++msg_list.append%28f%22%7Bcorner%7D+outlet+valve+did+not+sufficiently+release+pressure.+Actual+%3D+%7Bpressure_release.get%28corner%29%7D+bar%2C+minimum+required+%3D+%7BPRESSURE_RELEASE_THRESHOLD%7D+bar.%22%29%0A++++++++++++++++stiffness_or_release_failed+%3D+True%0A++++++++out_msg+%3D+%22%22%0A++++++++for+msg+in+msg_list%3A%0A++++++++++++out_msg+%2B%3D+f%22%7Bmsg%7D%2C+%22%0A++++++++formatted_results+%3D+%7B%0A++++++++++++%22P100%22%3A+P100%2C%0A++++++++++++%22P200%22%3A+P200%2C%0A++++++++++++%22pressure_release%22%3A+pressure_release%2C%0A++++++++%7D%0A++++++++output.add_data%28data%3Dformatted_results%2C%0A++++++++++++++++++++++++name%3D%22formatted_results%22%2C%0A++++++++++++++++++++++++data_type%3Ddict%29%0A++++++++if+stiffness_or_release_failed%3A%0A++++++++++++output.set_user_facing_msg%28out_msg%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++else%3A%0A++++++++++++output.set_user_facing_msg%28%22Pressure+drop+P100-P200+after+outlet+valve+release+is+sufficiently+high.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++return+output
		../../odin_bundle/networks/Gen3/scripts/CONFIG_PRINCIPAL_WHITELIST.py
			async+def+odin_script_test%28api%2C+configParams%3A+list%2C+%2A%2Akwargs%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+api.service_output%28%29%0A++++caller_principals+%3D+%28await+api.odin.get_caller_principals%28%29%29.get%28%27caller_principals%27%29%0A++++configs+%3D+%5B+x.get%28%27configid%27%29+for+x+in+configParams+%5D%0A++++if+not+%27tbx-internal%27+in+caller_principals%3A%0A++++++++cfg_allowlist+%3D+%28await+api.cid.rmi_gtw_config_allowlist%28%29%29.get%28%27allowlist%27%2C+%7B%7D%29.get%28%27gen3%27%29%0A++++++++if+not+all%28x+in+cfg_allowlist+for+x+in+configs%29%3A%0A++++++++++++out.set_user_facing_msg%28%22Unauthorized+configuration+change.%22%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_INPUT%29%0A++++++++++++return+out%0A++++res+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FICE_SAFE_SET_CONFIGS%22%2C%0A++++++++configParams%3DconfigParams%2C%0A++++++++%2A%2Akwargs%0A++++%29%0A++++if+res.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++out.set_user_facing_msg%28%22Successfully+updated+vehicle+configuration.%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++return+out%0A++++out.set_user_facing_msg%28%22Failed+to+update+vehicle+configuration.%22%29%0A++++out.set_exit_code%28exit_reason.FAIL%29%0A++++return+out
		../../odin_bundle/networks/Gen3/scripts/TEST-BRAKE_ALL_STIFFNESS-TEST-DELTA.py
			async+def+odin_script_test%28api%2C+PRESSURE_LIMITS%3A+dict%2C+PRESSURE_DIFF%3A+dict%2C+INPUT_ROD_STROKE_S100%3A+dict%2C+INPUT_ROD_STROKE_S200%3A+dict%2C+DELAY_SECONDS%3A+float%2C+DEAD_TRAVEL_PRESSURE%3A+float%2C+DEAD_TRAVEL_LIMITS%3A+dict%29%3A%0A++++from+asyncio+import+sleep%2C+gather%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++run_task+%3D+api.subnetwork.run_reference%0A++++read_sig+%3D+api.can.can_signal_read%0A++++EPBL_RELEASE+%3D+%22Gen3%2Ftasks%2FPROC_EPBL_START-FACTORY-RELEASE%22%0A++++EPBL_PARK+%3D+%22Gen3%2Ftasks%2FPROC_EPBL_START-FACTORY-PARK%22%0A++++EPBR_RELEASE+%3D+%22Gen3%2Ftasks%2FPROC_EPBR_START-FACTORY-RELEASE%22%0A++++EPBR_PARK+%3D+%22Gen3%2Ftasks%2FPROC_EPBR_START-FACTORY-PARK%22%0A++++EPBL_SIG+%3D+%22EPBL_unitStatus%22%0A++++EPBR_SIG+%3D+%22EPBR_unitStatus%22%0A++++EPB_SAFE+%3D+%22EPB_STATUS_PARK%22%0A++++CORNER_TEST+%3D+%22Gen3%2Ftasks%2FTEST-BRAKE_CORNER_STIFFNESS-TEST%22%0A++++async+def+get_dead_travel_and_slope%28pressure_measurements%3A+%27list%27%2C+delta_stroke%3A+%27float%27%29+-%3E+%28%27float%27%2C+%27float%27%29%3A%0A++++++++dead_travel+%3D+-1%0A++++++++slope+%3D+-1%0A++++++++pressure_measurements+%3D+%5Bpressure+if+pressure+%21%3D+255+else+0+for+pressure+in+pressure_measurements%5D%0A++++++++for+i+in+range%28len%28pressure_measurements%29-1%29%3A%0A++++++++++++if+%28%28pressure_measurements%5Bi%5D+%3C+DEAD_TRAVEL_PRESSURE%29+and+%28pressure_measurements%5Bi%2B1%5D+%3E%3D+DEAD_TRAVEL_PRESSURE%29%29%3A%0A++++++++++++++++dead_travel+%3D+delta_stroke%2Ai+%2B+%28DEAD_TRAVEL_PRESSURE-pressure_measurements%5Bi%5D%29%2A%28delta_stroke%29%2F%28pressure_measurements%5Bi%2B1%5D-pressure_measurements%5Bi%5D%29%0A++++++++if+%28dead_travel+%21%3D+-1%29+and+%28dead_travel+%3C+delta_stroke%2A%28len%28pressure_measurements%29-1%29%29%3A+%0A++++++++++++slope+%3D+%28pressure_measurements%5B-1%5D+-+DEAD_TRAVEL_PRESSURE%29%2F%28delta_stroke%2A%28len%28pressure_measurements%29-1%29+-+dead_travel%29%0A++++++++return+dead_travel%2C+slope%0A++++async+def+get_perc_diff%28left_value%2C+right_value%2C+service_out%29%3A%0A++++++++try%3A%0A++++++++++++perc_diff+%3D+abs%28%28%28left_value+-+right_value%29+%2F+%28%28left_value+%2B+right_value%29+%2F+2%29+%2A+100%29%29%0A++++++++except+ZeroDivisionError%3A%0A++++++++++++perc_diff+%3D+None%0A++++++++++++service_out.add_exception%28Exception%28%22Zero+Division+while+calculating+percent+difference%22%29%29%0A++++++++return+perc_diff%0A++++%22%22%22%0A++++Group+1%0A++++++++Park+EPBL%0A++++++++Park+EPBR%0A++++++++Test+Front+left%0A++++Group+2%0A++++++++Release+EPBL%0A++++++++Test+Front+Right%0A++++Group+3%0A++++++++Test+Rear+Left%0A++++Group+4%0A++++++++Park+EPBL%0A++++Group+5%0A++++++++Release+EPBR%0A++++Group+6%0A++++++++Test+Rear+Right%0A++++Group+7%0A++++++++park+EPBR%0A++++%22%22%22%0A++++output+%3D+api.service_output%28%29%0A++++group1%3D%5Brun_task%28EPBL_PARK%29%2C%0A++++++++++++run_task%28EPBR_PARK%29%2C%0A++++++++++++run_task%28CORNER_TEST%2C%0A+++++++++++++++++++++TEST_FRONT_LEFT_CORNER%3DTrue%2C%0A+++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22FRONT%22%29%5B0%5D%2C%0A+++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22FRONT%22%29%5B0%5D%2C%0A+++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-LEFT%22%29%5B0%5D%2C%0A+++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-LEFT%22%29%5B1%5D%0A+++++++++++++++++++++%29%5D%0A++++group2%3D%5Brun_task%28EPBL_RELEASE%29%2C%0A++++++++++++run_task%28name%3DCORNER_TEST%2C%0A+++++++++++++++++++++TEST_FRONT_RIGHT_CORNER%3DTrue%2C%0A+++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22FRONT%22%29%5B1%5D%2C%0A+++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22FRONT%22%29%5B1%5D%2C%0A+++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-RIGHT%22%29%5B0%5D%2C%0A+++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_FRONT-RIGHT%22%29%5B1%5D%0A+++++++++++++++++++++%29%5D%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++epbl_park1%2C+epbr_park1%2C+FL_stiffness+%3D+await+gather%28%2Agroup1%29%0A++++++++epbl_release%2C+FR_stiffness+%3D+await+gather%28%2Agroup2%29%0A++++++++RL_stiffness+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_REAR_LEFT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22REAR%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22REAR%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-LEFT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-LEFT%22%29%5B1%5D%29%0A++++++++epbl_park2+%3D+await+run_task%28EPBL_PARK%29%0A++++++++epb_res+%3D+%7B%0A++++++++++++%22epbl_park1%22%3A+epbl_park1%2C%0A++++++++++++%22epbr_park1%22%3A+epbr_park1%2C%0A++++++++++++%22epbl_release%22%3A+epbl_release%2C%0A++++++++++++%22epbl_park2%22%3A+epbl_park2%0A++++++++%7D%0A++++++++epbl_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBL_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++++++epbr_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBR_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++++++if+epbl_park2.get%28%22exit_code%22%29+%21%3D+0%3A%0A++++++++++++output.add_data%28data%3D%7B%22CAN%22%3A+%7B%22EPBL%22%3A+epbl_status%2C+%22EPBR%22%3A+epbr_status%7D%2C+%22routine_results%22%3A+epb_res%7D%2C%0A++++++++++++++++++++++++++++name%3D%22EPB_Status%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%29%0A++++++++++++output.set_user_facing_msg%28%22FAILED+TO+PARK+EPBL%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+epbl_status+%21%3D+EPB_SAFE%3A%0A++++++++++++output.add_data%28data%3D%7B%22CAN%22%3A+%7B%22EPBL%22%3A+epbl_status%2C+%22EPBR%22%3A+epbr_status%7D%2C+%22routine_results%22%3A+epb_res%7D%2C%0A++++++++++++++++++++++++++++name%3D%22EPB_Status%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%29%0A++++++++++++output.set_user_facing_msg%28%22FAILED+TO+VERIFY+EPBL+WAS+PARKED%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++if+%28epbl_park2.get%28%22exit_code%22%29+%3D%3D+0%29+and+epbl_status+%3D%3D+EPB_SAFE%3A%0A++++++++++++epbr_release%3Dawait+run_task%28EPBR_RELEASE%29%0A++++++++++++epb_res.update%28%7B%22epbr_release%22%3Aepbr_release%7D%29%0A++++++++await+sleep%28DELAY_SECONDS%29%0A++++++++RR_stiffness+%3D+await+run_task%28CORNER_TEST%2C%0A++++++++++++++++++++++++++++++++++++++TEST_REAR_RIGHT_CORNER%3DTrue%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S100%3DINPUT_ROD_STROKE_S100.get%28%22REAR%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++INPUT_ROD_STROKE_S200%3DINPUT_ROD_STROKE_S200.get%28%22REAR%22%29%5B1%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MIN%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-RIGHT%22%29%5B0%5D%2C%0A++++++++++++++++++++++++++++++++++++++PRESSURE_P100_MAX%3DPRESSURE_LIMITS.get%28%22PRESSURE_P100_REAR-RIGHT%22%29%5B1%5D%29%0A++++++++epbr_park2+%3D+await+run_task%28EPBR_PARK%29%0A++++++++epb_res.update%28%7B%22epbr_park2%22%3Aepbr_park2%7D%29%0A++++++++if+epbr_park2.get%28%22exit_code%22%29+%21%3D+0%3A%0A++++++++++++epbl_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBL_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++++++++++epbr_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBR_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++++++++++output.add_data%28data%3D%7B%22CAN%22%3A+%7B%22EPBL%22%3A+epbl_status%2C+%22EPBR%22%3A+epbr_status%7D%2C+%22routine_results%22%3A+epb_res%7D%2C%0A++++++++++++++++++++++++++++name%3D%22EPB_Status%22%2C%0A++++++++++++++++++++++++++++data_type%3Ddict%29%0A++++++++++++output.set_user_facing_msg%28%22FAILED+TO+PARK+EPBR%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++corner_results+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness%2C%0A++++++++%22FR%22%3A+FR_stiffness%2C%0A++++++++%22RL%22%3A+RL_stiffness%2C%0A++++++++%22RR%22%3A+RR_stiffness%0A++++%7D%0A++++output.add_data%28name%3D%22corner_results%22%2C%0A++++++++++++++++++++data%3Dcorner_results%2C%0A++++++++++++++++++++data_type%3Ddict%29%0A++++P100+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++%22FR%22%3A+FR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++%22RL%22%3A+RL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%2C%0A++++++++%22RR%22%3A+RR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P100%22%29%0A++++%7D%0A++++P200+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++%22FR%22%3A+FR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++%22RL%22%3A+RL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%2C%0A++++++++%22RR%22%3A+RR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_P200%22%29%0A++++%7D%0A++++leakage+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++%22FR%22%3A+FR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++%22RL%22%3A+RL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%2C%0A++++++++%22RR%22%3A+RR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE_LEAKAGE%22%29%0A++++%7D%0A++++pressure_curves+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE%28P0-P10%29%22%29%2C%0A++++++++%22FR%22%3A+FR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE%28P0-P10%29%22%29%2C%0A++++++++%22RL%22%3A+RL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE%28P0-P10%29%22%29%2C%0A++++++++%22RR%22%3A+RR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22PRESSURE%28P0-P10%29%22%29%2C%0A++++%7D%0A++++delta_s+%3D+%7B%0A++++++++%22FL%22%3A+FL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22DELTA_S%22%29%2C%0A++++++++%22FR%22%3A+FR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22DELTA_S%22%29%2C%0A++++++++%22RL%22%3A+RL_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22DELTA_S%22%29%2C%0A++++++++%22RR%22%3A+RR_stiffness.get%28%22service_output%22%29.get%28%22data%22%29%5B0%5D.get%28%22data%22%29.get%28%22metadata%22%29.get%28%22FormattedResults%22%29.get%28%22DELTA_S%22%29%0A++++%7D%0A++++perc_diff+%3D+%7B%0A++++++++%22FRONT%22%3A+await+get_perc_diff%28P100.get%28%22FL%22%29%2C+P100.get%28%22FR%22%29%2C+output%29%2C%0A++++++++%22REAR%22%3A+await+get_perc_diff%28P100.get%28%22RL%22%29%2C+P100.get%28%22RR%22%29%2C+output%29%0A++++%7D%0A++++final_slopes_bar_per_mm+%3D+%7B%7D%0A++++dead_travel_mm+%3D+%7B%7D%0A++++for+corner+in+delta_s.keys%28%29%3A%0A++++++++dead_travel_mm%5Bcorner%5D%2C+final_slopes_bar_per_mm%5Bcorner%5D+%3D++++++++++++await+get_dead_travel_and_slope%28pressure_curves%5Bcorner%5D%2C+delta_s%5Bcorner%5D%29%0A++++msg_list+%3D+%5B%5D%0A++++stiffness_failed+%3D+False%0A++++delta_failed+%3D+False%0A++++dead_travel_failed+%3D+False%0A++++for+corner+in+corner_results.keys%28%29%3A%0A++++++++if+corner_results.get%28corner%29.get%28%22exit_code%22%29+%21%3D+0%3A%0A++++++++++++msg_list.append%28f%22%7Bcorner%7D%3A+%7Bcorner_results.get%28corner%29.get%28%27service_output%27%29.get%28%27user_facing_msg%27%29%7D%22%29%0A++++++++++++stiffness_failed+%3D+True%0A++++for+axle+in+perc_diff.keys%28%29%3A%0A++++++++if+perc_diff.get%28axle%29+%3E+PRESSURE_DIFF.get%28axle%29%3A%0A++++++++++++msg_list.append%28f%22FAILED+for+%7Baxle%7D+Stiffness-Delta%3A+%7Bperc_diff.get%28axle%29%7D+is+above+the+maximum+%7BPRESSURE_DIFF.get%28axle%29%7D%22%29%0A++++++++++++delta_failed+%3D+True%0A++++for+corner+in+dead_travel_mm.keys%28%29%3A%0A++++++++if+dead_travel_mm.get%28corner%29+%3E+DEAD_TRAVEL_LIMITS.get%28corner%29%3A%0A++++++++++++msg_list.append%28f%27%7Bcorner%7D+dead+travel+%7Bdead_travel_mm.get%28corner%29%7D+too+high+%28max+%7BDEAD_TRAVEL_LIMITS.get%28corner%29%7D%29%27%29%0A++++++++++++dead_travel_failed+%3D+True%0A++++out_msg+%3D+%22%22%0A++++for+msg+in+msg_list%3A%0A++++++++out_msg+%2B%3D+f%22%7Bmsg%7D%2C+%22%0A++++epbl_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBL_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++epbr_status+%3D+%28await+read_sig%28signal_name%3Df%22%7BEPBR_SIG%7D%22%2C+bus_name%3D%22ETH%22%29%29.get%28%27value%27%29%0A++++output.add_data%28data%3D%7B%22CAN%22%3A+%7B%22EPBL%22%3A+epbl_status%2C%22EPBR%22%3Aepbr_status%7D%2C%22routine_results%22%3A+epb_res%7D%2C%0A++++++++++++++++++++name%3D%22EPB_Status%22%2C%0A++++++++++++++++++++data_type%3Ddict%29%0A++++formatted_results+%3D+%7B%0A++++++++%22P100%22%3A+P100%2C%0A++++++++%22P200%22%3A+P200%2C%0A++++++++%22leakage%22%3A+leakage%2C%0A++++++++%22final_slopes_bar_per_mm%22%3A+final_slopes_bar_per_mm%2C%0A++++++++%22dead_travel%22%3A+dead_travel_mm%2C%0A++++++++%22P100_axle_delta_PERC-DIFF%22%3A+perc_diff%0A++++%7D%0A++++output.add_data%28data%3Dformatted_results%2C%0A++++++++++++++++++++name%3D%22formatted_results%22%2C%0A++++++++++++++++++++data_type%3Ddict%29%0A++++if+stiffness_failed+or+delta_failed+or+dead_travel_failed%3A%0A++++++++output.set_user_facing_msg%28out_msg%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++else%3A%0A++++++++output.set_user_facing_msg%28%22P100+Pressure+is+in+tolerance%2C%22%0A+++++++++++++++++++++++++++++++++++%22+stiffness-delta+per+axle+is+sufficiently+low%2C%22%0A+++++++++++++++++++++++++++++++++++%22+and+dead+travel+per+wheel+is+sufficiently+low.%22%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/DAS_INTERIOR_CAMERA.py
			async+def+odin_script_test%28api%2C+timeout%3A+int%29%3A%0A++++from+asyncio+import+sleep%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++DAS_SELF_TEST+%3D+%27Gen3%2Fscripts%2FDAS_SELF_TEST%27%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp_camera+%3D+await+run_script%28%0A++++++++++++++++script_name%3DDAS_SELF_TEST%2C%0A++++++++++++++++path_list%3D%5B%27selftest%27%2C%27ping_camera%27%5D%2C%0A++++++++++++++++query_dict%3D%7B%27camera%27%3A+%27selfie%27%7D%2C%0A++++++++++++++++timeout%3Dtimeout%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22Interior+camera+ping+response%22%2C%0A++++++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++++++data%3Dresp_camera%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28%22Interior+camera+ping+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++try%3A%0A++++++++++++resp_fan+%3D+await+run_script%28%0A++++++++++++++++script_name%3DDAS_SELF_TEST%2C%0A++++++++++++++++path_list%3D%5B%27selftest%27%2C%27test_camera_fan%27%5D%2C%0A++++++++++++++++query_dict%3D%7B%7D%2C%0A++++++++++++++++timeout%3Dtimeout%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22Interior+camera+fan+response%22%2C%0A++++++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++++++data%3Dresp_fan%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28%22Interior+camera+fan+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++pass_camera+%3D+%28resp_camera.get%28%22service_output%22%29.get%28%22exit_code%22%29+%3D%3D+0%29%0A++++++++pass_fan+%3D+%28resp_fan.get%28%22service_output%22%29.get%28%22exit_code%22%29+%3D%3D+0%29%0A++++++++camera_data+%3D+resp_camera.get%28%22service_output%22%29.get%28%22data%22%29%0A++++++++for+data+in+camera_data%3A%0A++++++++++++if+data.get%28%22name%22%29+%3D%3D+%22DAS_debug_output%22%3A%0A++++++++++++++++camera_verbose_status+%3D+data.get%28%22DAS_verbose_status%22%29%0A++++++++++++++++if+camera_verbose_status+is+None+or+camera_verbose_status+%3D%3D+%22%22%3A%0A++++++++++++++++++++camera_verbose_status+%3D+%22No+verbose_status+from+DAS%22%0A++++++++fan_data+%3D+resp_fan.get%28%22service_output%22%29.get%28%22data%22%29%0A++++++++for+data+in+fan_data%3A%0A++++++++++++if+data.get%28%22name%22%29+%3D%3D+%22DAS_debug_output%22%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++fan_rpm+%3D+int%28data.get%28%22data%22%29%5B9%3A%5D%29%0A++++++++++++++++except+Exception+as+e%3A%0A++++++++++++++++++++output.set_user_facing_msg%28%22Could+not+get+fan+RPM%22%29%0A++++++++++++++++++++output.add_exception%28e%29%0A++++++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++++++return+output%0A++++++++++++++++break%0A++++++++if+pass_camera+and+pass_fan%3A%0A++++++++++++output.set_user_facing_msg%28f%22Interior+camera%3A+%7Bcamera_verbose_status%7D%2C+Camera+Fan+RPM%3A+%7Bfan_rpm%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++elif+pass_camera+and+not+pass_fan%3A%0A++++++++++++output.set_user_facing_msg%28%22Fan+RPM+is+0%2C+check+the+fan+connection+to+interior+camera.+If+connected%2C+then+%22%0A+++++++++++++++++++++++++++++++++++++++%22replace+camera+with+the+vehicle+powered+off%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++elif+not+pass_camera+and+pass_fan%3A%0A++++++++++++output.set_user_facing_msg%28f%22Failed+to+ping+interior+camera%2C+Camera+Fan+RPM%3A+%7Bfan_rpm%7D.+Check+the+interior+%22%0A+++++++++++++++++++++++++++++++++++++++%22camera.+Replace+the+interior+camera+with+the+vehicle+powered+off%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++else%3A%0A++++++++++++output.set_user_facing_msg%28f%22Failed+to+ping+interior+camera%3A+%7Bresp_camera.get%28%27service_output%27%29.get%28%27user_facing_msg%27%29%7D%2C+%22%0A+++++++++++++++++++++++++++++++++++++++f%22Failed+to+ping+fan%3A+%7Bresp_fan.get%28%27service_output%27%29.get%28%27user_facing_msg%27%29%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_CP_X_PLC-MODEM-RETROFIT.py
			async+def+odin_script_test%28api%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%29%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++PLC_MODEM_ID+%3D+%2770%27%0A++++PLC_MODEM_VALUE+%3D+%2702%27%0A++++user_facing_message+%3D+%27PLC+Modem+Configuration+changed+from+None+to+NATIVE_CHARGE_PORT.%27%0A++++vitals_info+%3D+await+api.cid.get_vitals%28%29%0A++++cfg_plcsupporttype+%3D+vitals_info.get%28%27vitals%27%29.get%28%27cfg_plcsupporttype%27%29%0A++++if+cfg_plcsupporttype+is+None%3A%0A++++++++output.add_exception%28%22Invalid+Configuration+Value%22%29%0A++++++++output.add_data%28name%3D%22PLC+Modem+Config+Update%22%2C+data_type%3Dstr%2C+data%3D%22FAIL%22%29%0A++++++++output.set_user_facing_msg%28%27Failed+to+update+PLC+Modem+Configuration.+Invalid+Configuration+Value.%27%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++return+output+++%0A++++if+cfg_plcsupporttype+%21%3D+%27NONE%27%3A%0A++++++++user_facing_message+%3D+%27PLC+Modem+Configuration+changed+from+NATIVE_CHARGE_PORT+to+None.%27%0A++++++++PLC_MODEM_VALUE+%3D+%2700%27%0A++++PLC_CONFIG_PARAMS+%3D+%5B%7B%27configid%27%3A+PLC_MODEM_ID%2C+%27data%27%3A+PLC_MODEM_VALUE%7D%5D%0A++++try%3A+%0A++++++++issc_status+%3D+await+run_ref%28%0A++++++++%22Gen3%2Flib%2FICE_SAFE_SET_CONFIGS%22%2C%0A++++++++configParams%3DPLC_CONFIG_PARAMS%2C%0A++++++++configs_require_ice_reboot%3D%5BPLC_MODEM_ID%5D%2C%0A++++++++ignore_display_state%3DTrue%0A++++%29%0A++++++++gtw_config_status+%3D+issc_status%5B%27exit_code%27%5D+%3D%3D+0%0A++++except+Exception+as+e%3A%0A++++++++await+output.add_exception%28e%29%0A++++if+not+gtw_config_status%3A%0A++++++++output.add_data%28name%3D%22PLC+Modem+Config+Update%22%2C+data_type%3Dstr%2C+data%3D%22FAIL%22%29%0A++++++++output.set_user_facing_msg%28%27Failed+to+update+PLC+Modem+Configuration.+%27%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++else%3A%0A++++++++output.add_data%28name%3D%22PLC+Modem+Config+Update%22%2C+data_type%3Dstr%2C+data%3D%22PASS%22%29%0A++++++++output.set_user_facing_msg%28user_facing_message%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_INFOZ_X_DAS-ETH-CONNECTIVITY.py
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%28%29%0A++++execute_node+%3D+api.cid.execute_application%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++UDPAPI_DAS_LINK_TEST+%3D+68%0A++++NUM_ETH_LINKS+%3D+2%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++++++timeout%3D10%2C%0A++++++++++++++++attempts%3D3%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3DWAKE_AND_PING%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22exit_reason%3A%7Bresp%5B%27service_output%27%5D%5B%27exit_reason%27%5D%7D+%22%0A+++++++++++++++++++++++++++++++++f%22user_facing_msg%3A+%7Bresp%5B%27service_output%27%5D%5B%27user_facing_msg%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++async+def+gtw_test_eth_to_das%28link%29%3A%0A++++++++++++if+link+%3C+0+or+link+%3E+NUM_ETH_LINKS%3A%0A++++++++++++++++output.add_data%28%27Invalid+eth+link+index%27%2C+data_type%3Dint%2C+data%3Dlink%29%0A++++++++++++++++return+False%2C+%5B0%5D+%2A+NUM_ETH_LINKS%0A++++++++++++try%3A%0A++++++++++++++++r+%3D+await+execute_node%28%0A++++++++++++++++++++path%3D%27%2Fusr%2Fsbin%2Fgw-diag%27%2C%0A++++++++++++++++++++args%3D%5Bstr%28UDPAPI_DAS_LINK_TEST%29%2C+str%28link%29%5D%2C%0A++++++++++++++++++++timeout%3D3%0A++++++++++++++++%29%0A++++++++++++++++result+%3D+r%5B%27stdout%27%5D.strip%28%29.split%28%27+%27%29%0A++++++++++++++++if+len%28result%29+%21%3D+NUM_ETH_LINKS+%2B+1%3A%0A++++++++++++++++++++output.add_data%28name%3D%27Invalid+output+of+UDPAPI+command+%27+%2B+str%28UDPAPI_DAS_LINK_TEST%29%2C%0A++++++++++++++++++++++++++++++++++++data_type%3Ddict%2C+data%3Dr%29%0A++++++++++++++++++++return+False%2C+%5B0%5D+%2A+NUM_ETH_LINKS%0A++++++++++++++++if+result%5B0%5D+%3D%3D+%2700%27%3A%0A++++++++++++++++++++output.add_data%28name%3D%27UDPAPI+command+failed+with+link%23%27+%2B+str%28link%29%2C%0A++++++++++++++++++++++++++++++++++++data_type%3Ddict%2C+data%3Dr%29%0A++++++++++++++++++++return+False%2C+%5B0%5D+%2A+NUM_ETH_LINKS%0A++++++++++++++++else%3A%0A++++++++++++++++++++if+link+%3D%3D+0%3A%0A++++++++++++++++++++++++return+True%2C+result%5B1%3A%5D%0A++++++++++++++++++++try%3A%0A++++++++++++++++++++++++link_up+%3D+%5Bbool%28int%28result%5Bi+%2B+1%5D%29+%25+2%29+for+i+in+range%28NUM_ETH_LINKS%29%5D%0A++++++++++++++++++++++++if+not+link_up%5Blink+-+1%5D%3A%0A++++++++++++++++++++++++++++output.add_data%28name%3D%27DAS+Link+%23%27+%2B+str%28link%29+%2B+%27+is+DOWN%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++data_type%3Ddict%2C+data%3D%7B%27status%27%3A+result%5Blink%5D%7D%29%0A++++++++++++++++++++++++++++return+False%2C+result%5B1%3A%5D%0A++++++++++++++++++++++++other_links+%3D+link_up%5B%3Alink-1%5D+%2B+%5BFalse%5D+%2B+link_up%5Blink%3A%5D%0A++++++++++++++++++++++++if+any%28other_links%29%3A%0A++++++++++++++++++++++++++++err_indice+%3D+%5Bi%2B1+for+i+in+range%28len%28other_links%29%29+if+other_links%5Bi%5D%5D%0A++++++++++++++++++++++++++++output.add_data%28name%3D%27DAS+link+index+failed+to+power+down%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++data_type%3Dlist%2C+data%3Derr_indice%29%0A++++++++++++++++++++++++++++return+False%2C+result%5B1%3A%5D%0A++++++++++++++++++++++++return+True%2C+result%5B1%3A%5D%0A++++++++++++++++++++except+ValueError+as+err%3A%0A++++++++++++++++++++++++output.add_data%28name%3D%27Invalid+link+status+codes%27%2C%0A++++++++++++++++++++++++++++++++++++++++data_type%3Dlist%2C+data%3Dresult%5B1%3A%5D%29%0A++++++++++++++++++++++++return+False%2C+%5B0%5D+%2A+NUM_ETH_LINKS%0A++++++++++++except+Exception+as+e%3A%0A++++++++++++++++output.add_data%28%27DAS+link+index+had+an+exception+in+test%27%2C+data_type%3Dint%2C+data%3Dlink%29%0A++++++++++++++++output.add_exception%28e%29%0A++++++++++++return+False%2C+%5B0%5D+%2A+NUM_ETH_LINKS%0A++++++++r+%3D+await+execute_node%28path%3D%27%2Fusr%2Flocal%2Fbin%2Fkeep-ice-alive%27%2C+user%3D%27odin%27%2C+args%3D%5B%275%27%2C+%27odin%27%5D%29%0A++++++++if+r%5B%27stderr%27%5D%3A%0A++++++++++++output.set_user_facing_msg%28%27Failed+to+request+keeping+car+computer+alive%27%29%0A++++++++++++output.add_data%28name%3D%27keep-ice-alive+error%27%2C+data_type%3Ddict%2C+data%3Dr%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++test_results+%3D+%5Bawait+gtw_test_eth_to_das%28i%2B1%29+for+i+in+range%28NUM_ETH_LINKS%29%5D%0A++++++++link_pass+%3D+%5Bt%5B0%5D+for+t+in+test_results%5D%0A++++++++link_status+%3D+%5Btest_results%5Bi%5D%5B1%5D%5Bi%5D+for+i+in+range%28len%28test_results%29%29%5D%0A++++++++if+all%28link_pass%29%3A%0A++++++++++++user_msg+%3D+%27All+links+are+connected%27%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++user_msg+%3D+%27Connectivity+test+failed%27%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.add_data%28%27Result+Summary%27%2C+data_type%3Ddict%2C%0A++++++++++++++++++++++++data%3D%7B%27passed_link_count%27%3A+sum%28link_pass%29%2C+%27failed_link_count%27%3A+NUM_ETH_LINKS+-+sum%28link_pass%29%7D%29%0A++++++++output.add_data%28name%3D%27Link+Status%27%2C+data_type%3Ddict%2C+data%3Dlink_status%29%0A++++++++revert_result+%3D+await+gtw_test_eth_to_das%280%29%0A++++++++if+not+revert_result%5B0%5D%3A%0A++++++++++++user_msg+%3D+%27Failed+to+revert+configuration+back+to+default%27%0A++++++++++++output.add_data%28name%3D%27Link+status+after+reversion%27%2C+data_type%3Dlist%2C+data%3Drevert_result%5B1%5D%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.set_user_facing_msg%28user_msg%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/DAS_SELF_TEST.py
			async+def+odin_script_test%28api%2C+path_list%3A+list%2C+query_dict%3A+dict%2C+timeout%3A+int%2C+delay_http%3D0%29%3A%0A++++from+asyncio+import+sleep%0A++++request+%3D+api.http.authenticated_request%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_script+%3D+api.scripts.script_test%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++bearer_token_header+%3D+api.http.bearer_token_header%0A++++WAKE_AND_PING+%3D+%27Gen3%2Fscripts%2FAPE_WAKE_AND_PING%27%0A++++async+def+try_http_request%28headers%2C+url%2C+timeout%2C+metric_name%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+request%28%0A++++++++++++++++headers%3Dheaders%2C%0A++++++++++++++++attempts%3D3%2C%0A++++++++++++++++method%3D%27GET%27%2C%0A++++++++++++++++timeout%3Dtimeout%2C%0A++++++++++++++++url%3Durl%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3D%22http_request_succeeded%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Burl%7D%22%29%0A++++++++++++return+resp%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.add_data%28name%3D%22http_request_exception%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Burl%7D%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_user_facing_msg%28f%22Request+to+%7Burl%7D+caused+an+exception+%7Be%7D%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+%7B%7D%0A++++bearer+%3D+await+bearer_token_header%28%29%0A++++token+%3D+bearer.get%28%27header%27%2C+%27key-error%27%29%0A++++path+%3D+%27%27%0A++++query+%3D+%27%27%0A++++for+x+in+path_list%3A%0A++++++++path+%2B%3D+f%27%2F%7Bx%7D%27%0A++++for+x+in+query_dict.keys%28%29%3A%0A++++++++query+%2B%3D+f%22%26%7Bx%7D%3D%7Bquery_dict%5Bx%5D%7D%22%0A++++request_url+%3D+f%27http%3A%2F%2F192.168.90.103%3A8901%7Bpath%7D%3F%7Bquery%7D%27%0A++++async+with+power_context%28power_state%3Dapi.power_state_enum.ACCESSORY_PLUS%29%3A%0A++++++++try%3A%0A++++++++++++resp+%3D+await+run_script%28%0A++++++++++++++++script_name%3DWAKE_AND_PING%2C%0A++++++++++++++++timeout%3D10%2C%0A++++++++++++++++attempts%3D3%0A++++++++++++%29%0A++++++++++++output.add_data%28name%3Df%22Nested+call+to+%7BWAKE_AND_PING%7D%22%2C%0A++++++++++++++++++++++++++++data_type%3Dlist%2C%0A++++++++++++++++++++++++++++data%3Dresp%5B%27service_output%27%5D%5B%27data%27%5D%29%0A++++++++++++if+resp%5B%27exit_code%27%5D+%21%3D+0%3A%0A++++++++++++++++output.set_user_facing_msg%28f%22Unable+to+talk+to+Autopilot%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++return+output%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_user_facing_msg%28f%22%7BWAKE_AND_PING%7D+caused+an+exception%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+output%0A++++++++await+sleep%28delay_http%29%0A++++++++selftest_resp+%3D+await+try_http_request%28token%2C+request_url%2C+timeout%2C+%27DAS+HTTP+request%27%29%0A++++++++try%3A%0A++++++++++++if+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27PASSED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++elif+selftest_resp%5B%22response%22%5D%5B%22status%22%5D.upper%28%29+%3D%3D+%27FAILED%27%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++verbose_status+%3D+selftest_resp%5B%22response%22%5D.get%28%22verbose_status%22%29%0A++++++++++++if+verbose_status+is+None+or+verbose_status+%3D%3D+%22%22%3A%0A++++++++++++++++output.set_user_facing_msg%28%22No+verbose_status+from+DAS%22%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_user_facing_msg%28verbose_status%29%0A++++++++++++output.add_data%28name%3D%22DAS_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_verbose_status%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27verbose_status%27%5D%7D%22%29%0A++++++++++++output.add_data%28name%3D%22DAS_debug_output%22%2C%0A++++++++++++++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%5B%27response%27%5D%5B%27debug_output%27%5D%7D%22%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.set_user_facing_msg%28f%22Unable+to+parse+DAS+response%3A+%7Bselftest_resp%7D%22%29%0A++++++++++++output.add_exception%28e%29%0A++++++++++++output.add_data%28name%3D%22unparsed+DAS+response%22%2C%0A++++++++++++++++++++++++++++data_type%3Dobject%2C%0A++++++++++++++++++++++++++++data%3Df%22%7Bselftest_resp%7D%22%29%0A++++return+output
		../../odin_bundle/networks/Gen3/scripts/PROC_HVC_X_ECU-REPLACEMENT-RESTORE.py
			async+def+odin_script_test%28api%29%3A%0A++++hvc_module+%3D+await+api.import_module%28%22Gen3%2Fscripts%2FMODULE_HVC-REPLACEMENT%22%29%0A++++ecu_module+%3D+hvc_module.ecu_module%0A++++STEP_RETRY_COUNT+%3D+2%0A++++STEP_RETRY_SLEEP_INTERVAL_SECONDS+%3D+10%0A++++step%3Decu_module.Step%28%29%0A++++backup%3D%7B%7D%0A++++hvbms%3Dhvc_module.Hvbms%28%29+%0A++++hvp%3Dhvc_module.Hvp%28%29%0A++++tla%3D%5Bhvbms%2C+hvp%5D%0A++++operation%3Decu_module.Operation.RESTORE.value%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.load_backup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++file_path%3Dhvc_module.BACKUP_FILE_PATH%2C%0A++++++++++++++++++++++++++++++++++++++++++++++operation%3Doperation%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.check_security_level%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Dhvc_module.check_part_number%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++ecu%3Dhvbms%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.check_serial_number%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++ecu%3Dhvbms%2C%0A++++++++++++++++++++++++++++++++++++++++++++++operation%3Doperation%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++for+ecu+in+tla%3A%0A++++++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.restore_bootloader%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++ecu%3Decu%29%0A++++++++if+not+step.passed%3A%0A++++++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++++++step+%3D+await+ecu_module.update%28%29%0A++++++++if+not+step.passed%3A%0A++++++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++for+ecu+in+tla%3A%0A++++++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.restore_application%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++++ecu%3Decu%29%0A++++++++if+not+step.passed%3A%0A++++++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++step+%3D+await+hvc_module.check_restoration%28backup%3Dbackup%2C+ecu%3Dhvbms%2C+tla%3Dtla%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.save_backup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++file_path%3Dhvc_module.BACKUP_FILE_PATH%29%0A++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29
		../../odin_bundle/networks/Gen3/scripts/PROC_HVC_X_ECU-REPLACEMENT-BACKUP.py
			async+def+odin_script_test%28api%2C+operation%3A+str%29%3A%0A++++hvc_module+%3D+await+api.import_module%28%22Gen3%2Fscripts%2FMODULE_HVC-REPLACEMENT%22%29%0A++++ecu_module+%3D+hvc_module.ecu_module%0A++++STEP_RETRY_COUNT+%3D+2%0A++++STEP_RETRY_SLEEP_INTERVAL_SECONDS+%3D+10%0A++++step%3Decu_module.Step%28%29%0A++++backup%3D%7B%7D%0A++++hvbms%3Dhvc_module.Hvbms%28%29+%0A++++hvp%3Dhvc_module.Hvp%28%29%0A++++tla%3D%5Bhvbms%2C+hvp%5D%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.load_backup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++file_path%3Dhvc_module.BACKUP_FILE_PATH%2C%0A++++++++++++++++++++++++++++++++++++++++++++++operation%3Doperation%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.check_serial_number%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++ecu%3Dhvbms%2C%0A++++++++++++++++++++++++++++++++++++++++++++++operation%3Doperation%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.append_backup_metadata%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++ecu%3Dhvbms%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Dhvc_module.append_pack_data%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++ecu%3Dhvbms%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.collect_ecu_data%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++tla%3Dtla%29%0A++++if+not+step.passed%3A%0A++++++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29%0A++++backup+%3D+step.output%0A++++step+%3D+await+ecu_module.step_with_retries%28func%3Decu_module.save_backup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_count%3DSTEP_RETRY_COUNT%2C%0A++++++++++++++++++++++++++++++++++++++++++++++retry_sleep_interval%3DSTEP_RETRY_SLEEP_INTERVAL_SECONDS%2C%0A++++++++++++++++++++++++++++++++++++++++++++++backup%3Dbackup%2C%0A++++++++++++++++++++++++++++++++++++++++++++++file_path%3Dhvc_module.BACKUP_FILE_PATH%29%0A++++return+await+ecu_module.teardown%28step%3Dstep%2C+operation%3Doperation%2C+tla%3Dtla%29
		../../odin_bundle/networks/Gen3/scripts/TEST-SELF_CP_X_UHF.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+output%28%29%0A++++status_update+%3D+api.messages.status_update%0A++++try%3A%0A++++++++await+status_update%28status%3D%22Awaiting+charge+handle+UHF+button+press%22%29%0A++++++++res+%3D+await+run_ref%28%22Gen3%2Flib%2FFW_SELF_TEST%22%2C+node_name%3D%22CP%22%2C+routine_name%3D%22SELF_TEST_UHF%22%2C+start_status%3D%22START_RETURN_CODE%22%2C%0A++++++++++++++++++++++++++++status%3D%22RESPONSE_RETURN_CODE%22%2C+tester_present%3DFalse%2C+timeout%3D0.5%29%0A++++except+Exception+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Exception+occurred+during+task+run%3A+%7Be%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++exit_code+%3D+res.get%28%27exit_code%27%2C+1%29%0A++++err+%3D+res.get%28%27stderr%27%2C+%27%27%29%0A++++if+err%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22There+was+an+error+during+the+test+run%3A+%7Berr%7D.%22%29%0A++++++++out.set_exit_code%28exit_code%29%0A++++++++return+out%0A++++if+exit_code+%3D%3D+0%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++%22Charge+port+UHF+test+successful.%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++elif+exit_code+%3D%3D+1%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Charge+port+UHF+test+failed.+Ensure+the+UHF+antenna+is+properly+connected+%5C%0A++++++++++++++++and+charge+handle+button+was+pressed+within+10+seconds+of+routine+start.%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++elif+exit_code+%3D%3D+5+or+exit_code+%3D%3D+13%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Charge+port+UHF+test+failed.+Vehicle+is+in+improper+state.+Please+ensure+that+the+vehicle+is+not+charging+and+the+state+is+StandStill%7CParked.%22%29%0A++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++else%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Unknown+error+occured%2C+ensure+that+the+vehicle+is+in+service+mode+before+running+this+test.+Exit+code%3A+%7Bexit_code%7D%22%29%0A++++++++out.set_exit_code%28exit_code%29%0A++++return+out
		../../odin_bundle/networks/Tutorials/scripts/CHAINING_SCRIPTS.py
			async+def+odin_script_test%28api%2C+sample_input%3A+int%29%3A%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++script+%3D+api.scripts.script_test%0A++++out+%3D+output%28%29%0A++++child_output+%3D+await+script%28%0A++++++++script_name%3D%22Tutorials%2Fscripts%2FMULTIPLY_BY_2%22%2C%0A++++++++value%3Dsample_input%0A++++%29%0A++++out.add_data%28name%3D%22Child+Script+Output%22%2C+data_type%3Ddict%2C+data%3Dchild_output%29%0A++++result+%3D+child_output.get%28%27multiplied_result%27%29%0A++++out.set_user_facing_msg%28f%22Script+chaining+is+Easy%7B%27%21+%27%2Aresult%7D%22%29%0A++++out.set_exit_code%28exit_reason.PASS%29%0A++++return+out
		../../odin_bundle/networks/Model3/tasks/PROC_EPBR-EPBL_WARNING-CAR-WILL-ROLL-AWAY.py
			I UNDERSTAND
			I UNDERSTAND
			I UNDERSTAND
		../../odin_bundle/networks/Model3/tasks/PROC_ICE_X_INSTALL-LOCAL-NAV-MAP.py
			Installs a local navigation map that corresponds to car's navigation region and country code.
			Installs a local navigation map that corresponds to car's navigation region and country code.
			Installs a local navigation map that corresponds to car's navigation region and country code.
		../../odin_bundle/networks/Model3/tasks/TEST_DAS_CAMERA_CALIBRATION-SANITY-CHECK.py
			Can't talk to APE
			Can't talk to APE
		../../odin_bundle/networks/Model3/tasks/PROC_VCFRONT_X_PARTY-CAN-TERMINATE.py
			RUNNING
			RUNNING
			RUNNING
		../../odin_bundle/networks/Model3/tasks/TEST_DIGITAL-MICS_X_FUNCTIONAL-CHECK.py
			'}}, 'outputs': {'exit_code': {'index': 0}}, 'position': {'x': 1436.3104858398438, 'y': -87.40938758850098}, 'signals': {'exit': {'connection': 'Exit.exit', 'index': 0}}, 'slots': {'enter': {'index': 0}}, 'type': 'networks.ReferencedSubnetwork'}, 'channels': {'value': {'datatype': 'String', 'value': '8'}, 'position': {'x': 274.388427734375, 'y': -47.75867414474487}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'duration': {'value': {'datatype': 'String', 'value': '2'}, 'position': {'x': 275.7154846191406, 'y': 112.55852460861206}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'format': {'value': {'datatype': 'String', 'value': 'S16_LE'}, 'position': {'x': 275.9181213378906, 'y': 32.984044551849365}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'linear-threshold': {'value': {'datatype': 'String', 'value': '0.0001'}, 'position': {'x': 267.60321044921875, 'y': -198.86709642410278}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'metadata': {'cancelable': {'value': True}, 'position': {'x': 1065.0241317749023, 'y': 250.04461669921875}, 'title': {'value': 'Test for checking dead digital microphones on overhead console. '}, 'owner_ids': [24], 'type': 'comments.TaskInfo', 'principals': ['tbx-external', 'tbx-internal'], 'parsers': ['digital_mic_test'], 'car_type': ['Model3', 'ModelY']}, 'rate': {'value': {'datatype': 'String', 'value': '48000'}, 'position': {'x': 270.13372802734375, 'y': -125.04533433914185}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'threshold-limit': {'value': {'datatype': 'String', 'value': '1.5'}, 'position': {'x': 274.2633056640625, 'y': 204.86686658859253}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}}
			'}}, 'outputs': {'exit_code': {'index': 0}}, 'position': {'x': 1436.3104858398438, 'y': -87.40938758850098}, 'signals': {'exit': {'connection': 'Exit.exit', 'index': 0}}, 'slots': {'enter': {'index': 0}}, 'type': 'networks.ReferencedSubnetwork'}, 'channels': {'value': {'datatype': 'String', 'value': '8'}, 'position': {'x': 274.388427734375, 'y': -47.75867414474487}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'duration': {'value': {'datatype': 'String', 'value': '2'}, 'position': {'x': 275.7154846191406, 'y': 112.55852460861206}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'format': {'value': {'datatype': 'String', 'value': 'S16_LE'}, 'position': {'x': 275.9181213378906, 'y': 32.984044551849365}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'linear-threshold': {'value': {'datatype': 'String', 'value': '0.0001'}, 'position': {'x': 267.60321044921875, 'y': -198.86709642410278}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'metadata': {'cancelable': {'value': True}, 'position': {'x': 1065.0241317749023, 'y': 250.04461669921875}, 'title': {'value': 'Test for checking dead digital microphones on overhead console. '}, 'owner_ids': [24], 'type': 'comments.TaskInfo', 'principals': ['tbx-external', 'tbx-internal'], 'parsers': ['digital_mic_test'], 'car_type': ['Model3', 'ModelY']}, 'rate': {'value': {'datatype': 'String', 'value': '48000'}, 'position': {'x': 270.13372802734375, 'y': -125.04533433914185}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'threshold-limit': {'value': {'datatype': 'String', 'value': '1.5'}, 'position': {'x': 274.2633056640625, 'y': 204.86686658859253}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}}
			'}}, 'outputs': {'exit_code': {'index': 0}}, 'position': {'x': 1436.3104858398438, 'y': -87.40938758850098}, 'signals': {'exit': {'connection': 'Exit.exit', 'index': 0}}, 'slots': {'enter': {'index': 0}}, 'type': 'networks.ReferencedSubnetwork'}, 'channels': {'value': {'datatype': 'String', 'value': '8'}, 'position': {'x': 274.388427734375, 'y': -47.75867414474487}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'duration': {'value': {'datatype': 'String', 'value': '2'}, 'position': {'x': 275.7154846191406, 'y': 112.55852460861206}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'format': {'value': {'datatype': 'String', 'value': 'S16_LE'}, 'position': {'x': 275.9181213378906, 'y': 32.984044551849365}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'linear-threshold': {'value': {'datatype': 'String', 'value': '0.0001'}, 'position': {'x': 267.60321044921875, 'y': -198.86709642410278}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'metadata': {'cancelable': {'value': True}, 'position': {'x': 1065.0241317749023, 'y': 250.04461669921875}, 'title': {'value': 'Test for checking dead digital microphones on overhead console. '}, 'owner_ids': [24], 'type': 'comments.TaskInfo', 'principals': ['tbx-external', 'tbx-internal'], 'parsers': ['digital_mic_test'], 'car_type': ['Model3', 'ModelY']}, 'rate': {'value': {'datatype': 'String', 'value': '48000'}, 'position': {'x': 270.13372802734375, 'y': -125.04533433914185}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}, 'threshold-limit': {'value': {'datatype': 'String', 'value': '1.5'}, 'position': {'x': 274.2633056640625, 'y': 204.86686658859253}, 'type': 'constant.Constant', 'out': {'datatype': 'String'}}}
		../../odin_bundle/networks/Model3/tasks/PROC_DAS_X_CALIBRATE-SETUP-PARAMS.py
			version
			version
			version
		../../odin_bundle/networks/Model3/tasks/PROC_VCRIGHT_X_VEHICLE-CAN-TERMINATE.py
			RUNNING
			RUNNING
			RUNNING
		../../odin_bundle/networks/Model3/tasks/PROC_DAS_X_CALIBRATE-SETUP-METROLOGY.py
			0
			0
			0
		../../odin_bundle/networks/Model3/tasks/PROC_VCFRONT_X_PARTY-CAN-UNTERMINATE.py
			RUNNING
			RUNNING
			RUNNING
		../../odin_bundle/networks/Model3/tasks/PROC_VCRIGHT_X_PARTY-CAN-TERMINATE.py
			RUNNING
			RUNNING
			RUNNING
		../../odin_bundle/networks/Model3/lib/POWER_CONTEXT.py
			body
		../../odin_bundle/networks/Model3/lib/SIREN_SELF_TEST.py
			failed to write siren presence bit
		../../odin_bundle/networks/Model3/lib/AUDIO_CID_COMMAND.py
			Feedback
			Feedback
		../../odin_bundle/networks/Model3/scripts/PROC_MCU_X_INFO-SET-HARMAN-FM-REGION.py
			async+def+odin_script_test%28api%2C+region_id%3A+int%29%3A%0A++++from+asyncio+import+sleep%0A++++execute+%3D+api.cid.execute_application%0A++++sdv+%3D+api.cid.set_data_value%0A++++gdv+%3D+api.cid.get_data_value%0A++++capture+%3D+api.reporting.capture_metric%0A++++sv+%3D+api.cid.sv_command%0A++++debug_print+%3D+api.reporting.debug_print%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++PASS+%3D+0%0A++++FAIL+%3D+1%0A++++RETRIES+%3D+10%0A++++regions+%3D+%7B%0A++++++++0%3A+%22US%22%2C%0A++++++++1%3A+%22Latin+America%22%2C%0A++++++++2%3A+%22Canada%22%2C%0A++++++++3%3A+%22Brazil%22%2C%0A++++++++4%3A+%22Europe%22%2C%0A++++++++5%3A+%22South+Africa%22%2C%0A++++++++6%3A+%22Rest+Of+World%22%2C%0A++++++++7%3A+%22Middle+East%22%2C%0A++++++++8%3A+%22Japan%22%2C%0A++++++++9%3A+%22Oceania%22%2C%0A++++++++10%3A+%22Australia%22%2C%0A++++++++11%3A+%22Asia%22%2C%0A++++++++12%3A+%22South+Korea%22%2C%0A++++++++13%3A+%22China%22%2C%0A++++++++14%3A+%22India%22%2C%0A++++++++15%3A+%22Russia%22%0A++++%7D%0A++++async+def+turn_acc_on%28%29+-%3E+bool%3A%0A++++++++await+debug_print%28%22Turning+on+acc+rail...%22%29%0A++++++++try%3A%0A++++++++++++res+%3D+await+sdv%28data_name%3D%27GUI_remoteAccPowerRequest%27%2C+value%3D%27true%27%29%0A++++++++except+Exception+as+err%3A%0A++++++++++++await+report_failure%28err%29%0A++++++++++++return+False%0A++++++++for+x+in+range%28RETRIES%29%3A%0A++++++++++++await+sleep%28x%29++%0A++++++++++++try%3A%0A++++++++++++++++res+%3D+await+gdv%28data_name%3D%27VAPI_accRailOn%27%29%0A++++++++++++except+Exception+as+err%3A%0A++++++++++++++++await+report%28%22Check+failed.+Retrying...%22%2C+f%22%7B%27%3A+%27.join%28err.args%29%7D%22%2C+FAIL%29%0A++++++++++++else%3A%0A++++++++++++++++if+res.get%28%27value%27%29+%3D%3D+%27true%27%3A%0A++++++++++++++++++++return+True%0A++++++++return+False%0A++++async+def+report%28name%2C+msg%2C+exit_code%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3Dname%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++result_code%3Dexit_code%0A++++++++%29%0A++++async+def+ping_tuner%28%29+-%3E+bool%3A%0A++++++++try%3A%0A++++++++++++ping_result+%3D+await+execute%28path%3D%27%2Fbin%2Fping%27%2C+user%3D%27odin%27%2C+whitelist_chars%3D%27-%27%2C+timeout%3D15%2C+args%3D%5B%27-c%27%2C+%271%27%2C+%27tuner%27%5D%29%0A++++++++except+Exception+as+err%3A%0A++++++++++++await+report_failure%28err%29%0A++++++++++++return+False%0A++++++++else%3A%0A++++++++++++return+ping_result.get%28%27exit_status%27%2C+1%29+%3D%3D+0%0A++++async+def+check_res%28res%29+-%3E+bool%3A%0A++++++++if+res.get%28%27exit_status%27%2C+1%29+%3D%3D+0%3A%0A++++++++++++return+True%0A++++++++else%3A%0A++++++++++++await+report%28%27FAIL%27%2C+res.get%28%27stderr%27%2C+%27Could+not+find+stderr+in+response%27%29%2C+FAIL%29%0A++++++++++++await+debug_print%28res.get%28%27stderr%27%2C+%27Could+not+find+stderr+in+response%27%29%29%0A++++++++++++return+False%0A++++if+not+region_id+in+regions.keys%28%29%3A%0A++++++++await+debug_print%28f%22Error%3A+Region+ID+must+be+between+0+and+%7Blen%28regions%29+-+1%7D%22%29%0A++++++++await+report%28%22Error%3A%22%2C+f%22Region+ID+must+be+between+0+and+%7Blen%28regions%29+-+1%7D%22%2C+FAIL%29%0A++++++++return+FAIL%0A++++await+debug_print%28%22Stopping+qtcar-radioserver...%22%29%0A++++if+not+check_res%28await+sv%28service%3D%27qtcar-radioserver%27%2C+action%3D%27stop%27%29%29%3A%0A++++++++return+FAIL%0A++++if+not+await+turn_acc_on%28%29%3A%0A++++++++await+report%28%22Error%22%2C+%22Could+not+turn+on+acc+rail%22%2C+FAIL%29%0A++++++++return+FAIL%0A++++for+x+in+range%28RETRIES%29%3A%0A++++++++if+await+ping_tuner%28%29%3A%0A++++++++++++await+debug_print%28f%22Setting+tuner+region+to+%7Bregions%5Bregion_id%5D%7D...%22%29%0A++++++++++++set_tuner+%3D+await+execute%28path%3D%27%2Fusr%2Fbin%2Fharman-tool%27%2C%0A++++++++++++++++++++++++++++user%3D%27tuner%27%2C%0A++++++++++++++++++++++++++++whitelist_chars%3D%27-%27%2C%0A++++++++++++++++++++++++++++args%3D%5Bf%22-r%7Bstr%28region_id%29%7D%22%5D%2C%0A++++++++++++++++++++++++++++timeout%3D15%0A++++++++++++++++++++++++%29%0A++++++++++++if+not+set_tuner%5B%27done%27%5D+%3D%3D+True%3A%0A++++++++++++++++return+FAIL%0A++++++++++++break%0A++++else%3A%0A++++++++await+report%28%22Error%3A%22%2C+%22Could+not+ping+tuner%22%2C+FAIL%29%0A++++++++return+FAIL%0A++++await+debug_print%28%22Starting+qtcar-radioserver...%22%29%0A++++if+not+await+check_res%28await+sv%28service%3D%27qtcar-radioserver%27%2C+action%3D%27start%27%29%29%3A%0A++++++++return+FAIL%0A++++processes+%3D+%5B%27QtCar%27%2C+%27RadioServe%27%5D%0A++++for+x+in+range%28RETRIES%29%3A%0A++++++++cur_running+%3D+%28await+gdv%28data_name%3D%27SYS_CD_QtCarProcesses%27%29%29.get%28%27value%27%29%0A++++++++if+all%28x+in+cur_running+for+x+in+processes%29%3A%0A++++++++++++break%0A++++++++await+sleep%28x%29%0A++++else%3A%0A++++++++await+report%28%22Error%22%2C+%22QtCar+or+QtCar-RadioServer+failed+to+re-initialize%22%2C+FAIL%29%0A++++++++return+FAIL%0A++++await+debug_print%28%22Waking+display...%22%29%0A++++exit_code+%3D+%28await+run_ref%28name%3D%27Common%2Flib%2FICE_INFO_TAP-TAP%27%29%29.get%28%27exit_code%27%2C+1%29%0A++++if+exit_code+%21%3D+0%3A%0A++++++++await+report%28%22Error%22%2C+f%22Could+not+wake+display%2C+UI+may+be+unavailable.+Exit+code%3A+%7Bexit_code%7D%22%2C+FAIL%29%0A++++++++return+FAIL%0A++++res+%3D+None%0A++++for+x+in+range%28RETRIES%29%3A%0A++++++++res+%3D+%28await+gdv%28data_name%3D%27HARMANRADIODIAG_FMRegion%27%29%29.get%28%27value%27%29%0A++++++++if+res+%3D%3D+%27%3Cinvalid%3E%27+or+res+is+None%3A%0A++++++++++++await+sleep%28x%29%0A++++++++else%3A%0A++++++++++++await+debug_print%28f%22Region+set+to%3A+%7Bres.upper%28%29%7D%2C+intended+value%3A+%7Bregions%5Bregion_id%5D.upper%28%29%7D%22%29%0A++++++++++++if+regions%5Bregion_id%5D.strip%28%29.upper%28%29+%3D%3D+res.strip%28%29.upper%28%29%3A%0A++++++++++++++++await+report%28%27SUCCESS%27%2C+f%27Successfully+set+FM+region+to+%7Bregions%5Bregion_id%5D%7D%27%2C+PASS%29%0A++++++++++++++++return+PASS%0A++++await+report%28%27FAILED%27%2C+f%27Unable+to+set+FM+region+to+%7Bregions%5Bregion_id%5D%7D%2C+was+%7Bres%7D%27%2C+FAIL%29%0A++++return+FAIL
		../../odin_bundle/networks/Model3/scripts/PROC_VCFRONT_X_THERMAL-FIVE-WAY-VALVE-FLOW-TEST.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++get_data_value+%3D+api.cid.get_data_value%0A++++can_signal_read+%3D+api.can.can_signal_read%0A++++status_update+%3D+api.messages.status_update%0A++++output+%3D+api.service_output%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+output%28%29%0A++++try%3A%0A++++++++charge_state+%3D+%28await+get_data_value%28data_name%3D%27GTW_chargeState%27%29%29.get%28%27value%27%29%0A++++++++coolant_temp+%3D+%28await+can_signal_read%28signal_name%3D%27VCFRONT_tempCoolantBatInlet%27%2C+bus_name%3D%27ETH%27%29%29.get%28%27value%27%29%0A++++++++exit_msg+%3D+%5B%5D%0A++++++++if+coolant_temp+%3E%3D+45%3A%0A++++++++++++exit_msg.append%28f%22Coolant+temperature+is+above+threshold+of+45C%3A+%7Bcoolant_temp%7DC%22%29%0A++++++++if+charge_state+%21%3D+%27Disconnected%27%3A%0A++++++++++++exit_msg.append%28f%22Charge+state+is%3A+%7Bcharge_state%7D%22%29%0A++++++++if+exit_msg%3A%0A++++++++++++out.set_user_facing_msg%28%0A++++++++++++++++%27%5Cn%27.join%28exit_msg%29%0A++++++++++++%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++return+out%0A++++++++res+%3D+await+run_ref%28%22Gen3%2Flib%2FFW_SELF_TEST%22%2C+node_name%3D%22VCFRONT%22%2C+routine_name%3D%22THERMAL_COOLANT_VALVE_FLOW_TEST%22%2C+tester_present%3DTrue%2C%0A++++++++++++++++++++++++++++timeout%3D5.0%29%0A++++except+Exception+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Exception+occurred+during+task+run%3A+%7Be%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.add_data%28name%3D%22Exception%22%2C+data_type%3Ddict%2C+data%3D%7B%0A+++++++++++++++++++++%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+repr%28e%29%7D%29%0A++++++++return+out%0A++++exit_code+%3D+res.get%28%27exit_code%27%2C+1%29%0A++++err+%3D+res.get%28%27stderr%27%2C+%27%27%29%0A++++if+err%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22There+was+an+error+during+the+test+run%3A+%7Berr%7D.%22%29%0A++++++++out.set_exit_code%28exit_code%29%0A++++++++return+out%0A++++if+exit_code+%3D%3D+0%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++%22Thermal+five+way+valve+flow+test+was+successful.%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++elif+exit_code+%3D%3D+1+or+exit_code+%3D%3D+13%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Thermal+five+way+valve+flow+test+failed%2C+please+ensure+that+none+of+the+failure+conditions+are+met.%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++else%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22Unknown+error+occured%2C+ensure+that+the+vehicle+is+in+service+mode+before+running+this+test.%22%29%0A++++++++out.set_exit_code%28exit_code%29%0A++++return+out
		../../odin_bundle/networks/Common/tasks/TEST-BASH_ICE_X_SEARCH-CRASHLOG.py
			The crashlog file where the inputPattern will be searched, without the filename's extension.  Use the 'ICE List Crashlogs' routine to list all possible files.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_DUAL-BOOTSTRAP-E-SIM.py
			Swap the eSim operator from AT&T to KPN and vice-versa. Set 'kpn' input to true to switch to KPN, and false for AT&T. If modem processes were recently restarted, the modem can take some time to be responsive. Check Garage Vitals and WAIT until the modem is reporting back to the UI / garage before running this routine.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_RESET-PIN-TO-DRIVE.py
			Reset the Pin To Drive to '0000'.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_SET-MODEM-POWER-STATE.py
			Sets modem power state and stops / starts related cell processes. power_state can be 'on', 'off', or 'cycle'. This network can take up to 3 minutes to run.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_EXIT-SERVICE-MODE-PLUS.py
			Exits Service Mode Plus on the vehicle's user interface.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_SERVICE-POSSESSION-SET-PIN-TO-DRIVE.py
			This network takes a pin to drive password as an input, and is used to set a Tesla service pin or restore customer pin to drive settings.\nenable == true Provide the tesla pin to be set, customer settings will be saved. If an existing backup is found, the network will *not* create an additional backup, unless the 'override' flag is set to true.\nenable == false The active pin to drive pin is passed in and checked on the vehicle (unless the 'override' flag is set). If this matches, the network will remove the active pin and restore customer settings. If the pin does not match, the vehicle state is left unaffected. If no customer pin to drive backup is found, the pin will be cleared and pin to drive will be set to 'off'.\nexit_codes 0 - pass 1 - failure 2 - incorrect inputs 3 - exception
			This network takes a pin to drive password as an input, and is used to set a Tesla service pin or restore customer pin to drive settings.\nenable == true Provide the tesla pin to be set, customer settings will be saved. If an existing backup is found, the network will *not* create an additional backup, unless the 'override' flag is set to true.\nenable == false The active pin to drive pin is passed in and checked on the vehicle (unless the 'override' flag is set). If this matches, the network will remove the active pin and restore customer settings. If the pin does not match, the vehicle state is left unaffected. If no customer pin to drive backup is found, the pin will be cleared and pin to drive will be set to 'off'.\nexit_codes 0 - pass 1 - failure 2 - incorrect inputs 3 - exception
			This network takes a pin to drive password as an input, and is used to set a Tesla service pin or restore customer pin to drive settings.\nenable == true Provide the tesla pin to be set, customer settings will be saved. If an existing backup is found, the network will *not* create an additional backup, unless the 'override' flag is set to true.\nenable == false The active pin to drive pin is passed in and checked on the vehicle (unless the 'override' flag is set). If this matches, the network will remove the active pin and restore customer settings. If the pin does not match, the vehicle state is left unaffected. If no customer pin to drive backup is found, the pin will be cleared and pin to drive will be set to 'off'.\nexit_codes 0 - pass 1 - failure 2 - incorrect inputs 3 - exception
		../../odin_bundle/networks/Common/tasks/PROC_STEERING_COLUMN_CALIBRATION.py
			Runs the relevant steering column calibration routine for all platforms and configurations. When the calibration is run, the steering column will first move all the way down, then move up to the endpoint. Next, the in/out axis will be calibrated in the same manner. The calibration routine is used to set the zero position of both axes and to determine the number of motor encoder counts it takes to reach the other end point of the column's travel.
			Runs the relevant steering column calibration routine for all platforms and configurations. When the calibration is run, the steering column will first move all the way down, then move up to the endpoint. Next, the in/out axis will be calibrated in the same manner. The calibration routine is used to set the zero position of both axes and to determine the number of motor encoder counts it takes to reach the other end point of the column's travel.
			Runs the relevant steering column calibration routine for all platforms and configurations. When the calibration is run, the steering column will first move all the way down, then move up to the endpoint. Next, the in/out axis will be calibrated in the same manner. The calibration routine is used to set the zero position of both axes and to determine the number of motor encoder counts it takes to reach the other end point of the column's travel.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_RESET-VALET-PIN.py
			Reset the PIN for Valet Mode to '0000'
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_EXIT-SERVICE-MODE.py
			Exits Service Mode on the vehicle's user interface.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_DISABLE-PIN-TO-DRIVE.py
			This network will disable pin to drive, while preserving the customer's pin. Remember to enable pin to drive again after disabling.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_SET-MODEM-ONLY-POWER-STATE.py
			Sets modem on / off / cycle. 'on' state be restored by qtcar-connman if it is currently running. This network can take up to 3 minutes to execute.
		../../odin_bundle/networks/Common/tasks/TEST-BASH_ICE_X_SEARCH-PANICLOG.py
			The paniclogs file where the inputPattern will be searched, without the filename's extension. Use the 'List Paniclogs' routine to list all possible files.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_ENABLE-PIN-TO-DRIVE.py
			This network will enable pin to drive, while preserving the customer's pin. If there is no previously entered customer pin, pin will be set to 0000.
		../../odin_bundle/networks/Common/tasks/PROC_ICE_X_RESET-SPEEDLIMIT-PIN.py
			Set the PIN for Speed Limit Mode to '0000'
		../../odin_bundle/networks/Common/lib/ICE_INFO_SDV-PARKED.py
			invalidate
		../../odin_bundle/networks/Common/lib/UUID_GENERATOR.py
			'
		../../odin_bundle/networks/Common/lib/PRINCIPAL_BASED_WHITELIST.py
			Consumes a 'principal -> whitelisted input' map and returns the list of inputs that the current user is allowed to use. Whitelist of inputs is returned in the 'allowed_inputs' output variable.
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_WAKE-DISPLAY.py
			async+def+odin_script_test%28api%29%3A%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++PASSED+%3D+%27PASSED%27%0A++++FAILED+%3D+%27FAILED%27%0A++++taptap+%3D+%28await+run_ref%28%27Common%2Flib%2FICE_INFO_TAP-TAP%27%29%29.get%28%27exit_code%27%2C%27%27%29+%0A++++output.add_data%28%0A++++++++name%3D%22Wake+Display+status%22%2C%0A++++++++data_type%3Ddict%2C%0A++++++++data%3D%7B%0A++++++++++++%22tap-tap+display%22%3A+PASSED+if+taptap+%3D%3D+0+else+FAILED%0A++++++++%7D%0A++++%29%0A++++if+taptap+%3D%3D+0%3A%0A++++++++output.set_user_facing_msg%28%27Wake+display+request+sent+successfully.%27%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++elif+taptap+%3D%3D+1%3A%0A++++++++output.set_user_facing_msg%28%27Unable+to+send+wake+display+request.%27%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++else%3A%0A++++++++output.set_user_facing_msg%28%27An+uknown+error+occurred%2C+please+try+again.%27%29%0A++++++++output.set_exit_code%28exit_reason.UNKNOWN%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_DUAL-BOOTSTRAP-E-SIM.py
			async+def+odin_script_test%28api%2C+kpn%3A+bool%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+run_ref+%3D+api.subnetwork.run_reference%0A++++out+%3D+api.service_output%28%29%0A++++STOP+%3D+%27stop%27%0A++++START+%3D+%27start%27%0A++++from+enum+import+Enum%0A++++class+ModemAlreadySet%28Exception%29%3A%0A++++++++pass%0A++++class+SingleBootstrap%28Exception%29%3A%0A++++++++pass%0A++++class+ModemResponseError%28Exception%29%3A%0A++++++++pass%0A++++class+FailedToSetModem%28Exception%29%3A%0A++++++++pass%0A++++class+FailedToStopModemService%28Exception%29%3A%0A++++++++pass%0A++++class+ModemResp%28Enum%29%3A%0A++++++++SUCCESS+%3D+0%0A++++++++ALREADY_SET+%3D+1%0A++++++++SINGLE_BOOTSRAP+%3D+2%0A++++++++ERROR+%3D+-1%0A++++class+ModemCommand%28%29%3A%0A++++++++SINGLE_BOOTSTRAP+%3D+%276A88%27%0A++++++++def+__init__%28self%2C+command%3A+str%2C+already_set+%3D+None%2C+success_resp%3A+str+%3D+%279000%27%29+-%3E+None%3A%0A++++++++++++self.command+%3D+command%0A++++++++++++self.success_resp+%3D+success_resp%0A++++++++++++self.already_set+%3D+already_set%0A++++++++def+check_resp%28self%2C+resp%3A+str%29%3A%0A++++++++++++if+resp+%3D%3D+self.success_resp%3A%0A++++++++++++++++return+ModemResp.SUCCESS%0A++++++++++++if+self.already_set+and+resp+%3D%3D+self.already_set%3A%0A++++++++++++++++return+ModemResp.ALREADY_SET%0A++++++++++++if+resp+%3D%3D+self.SINGLE_BOOTSTRAP%3A%0A++++++++++++++++return+ModemResp.SINGLE_BOOTSRAP%0A++++++++++++return+ModemResp.ERROR%0A++++class+ModemCommands%3A%0A++++++++OPEN_CHANNEL+%3D++++++++++ModemCommand%28%27openchannel%27%2C+%276A81%27%2C+%27019000%27%29%0A++++++++CLOSE_CHANNEL+%3D+++++++++ModemCommand%28%27closechannel%27%2C+%276200%27%29%0A++++++++SELECT_APPLET+%3D+++++++++ModemCommand%28%27selectapplet%27%29%0A++++++++SET_FALLBACK_ATT+%3D++++++ModemCommand%28%27setfallback_att%27%2C+%276200%27%29%0A++++++++SET_FALLBACK_KPN+%3D++++++ModemCommand%28%27setfallback_kpn%27%2C+%276200%27%29%0A++++++++ENABLE_ATT+%3D++++++++++++ModemCommand%28%27enableprofile_att%27%2C+%276985%27%29%0A++++++++ENABLE_KPN+%3D++++++++++++ModemCommand%28%27enableprofile_kpn%27%2C+%276985%27%29%0A++++async+def+set_cell_process_state%28action%3A+str%29%3A%0A++++++++return+await+run_ref%28%0A++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-CELL-PROCESS-STATE%22%2C%0A++++++++++++action%3Daction%0A++++++++%29%0A++++def+parse_modem_response%28resp%3A+dict%29+-%3E+str%3A%0A++++++++try%3A%0A++++++++++++stdout+%3D+%5B+x.rstrip%28%29+for+x+in+resp.get%28%27stdOut%27%2C+%27%27%29.split%28%27%5Cn%27%29+if+x.rstrip%28%29.startswith%28%27%2BCSIM%27%29+%5D%0A++++++++++++stdout+%3D+stdout%5B0%5D.replace%28%27%22%27%2C+%27%27%29.split%28%27%2C%27%29%5B1%5D%0A++++++++except+Exception%3A%0A++++++++++++raise+ModemResponseError%28repr%28resp%29%29%0A++++++++return+stdout%0A++++async+def+execute_modem_command%28command%3A+ModemCommand%29%3A%0A++++++++res+%3D++await+run_ref%28%0A++++++++++++%22Gen3%2Ftasks%2FPROC_ICE_X_MODEM-COMMAND%22%2C%0A++++++++++++inputModemCommand%3Dcommand.command%0A++++++++%29%0A++++++++res+%3D+parse_modem_response%28res%29%0A++++++++return+res%2C+command.check_resp%28res%29%0A++++command_log+%3D+%5B%5D%0A++++try%3A%0A++++++++r+%3D+await+set_cell_process_state%28STOP%29%0A++++++++command_log.append%28f%22Stopping+cell+proceses%3A+%7Br%7D%22%29%0A++++++++if+not+r.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++++++raise+FailedToStopModemService%28%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.CLOSE_CHANNEL%29%0A++++++++command_log.append%28f%22Close+modem+channel+response%3A+%7Braw%7D%22%29%0A++++++++if+r+not+in+%5B+ModemResp.ALREADY_SET%2C+ModemResp.SUCCESS+%5D%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+close+channel%22%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.OPEN_CHANNEL%29%0A++++++++command_log.append%28f%22Open+modem+channel+response%3A+%7Braw%7D%22%29%0A++++++++if+r+%21%3D+ModemResp.SUCCESS%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+open+channel%22%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.SELECT_APPLET%29%0A++++++++command_log.append%28f%22Select+applet+local+management+response%3A+%7Braw%7D%22%29%0A++++++++if+r+%21%3D+ModemResp.SUCCESS%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+select+applet+local+management%22%29%0A++++++++raw%2C+fall_back+%3D+await+execute_modem_command%28ModemCommands.SET_FALLBACK_KPN+if+kpn+else+ModemCommands.SET_FALLBACK_ATT%29%0A++++++++command_log.append%28f%22Set+fallback+profile+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D+response%3A+%7Braw%7D%22%29%0A++++++++if+fall_back+%3D%3D+ModemResp.SINGLE_BOOTSRAP%3A%0A++++++++++++raise+SingleBootstrap%28%29%0A++++++++elif+fall_back+%3D%3D+ModemResp.ALREADY_SET%3A%0A++++++++++++raise+ModemAlreadySet%28%29%0A++++++++raw%2C+enable+%3D+await+execute_modem_command%28ModemCommands.ENABLE_KPN+if+kpn+else+ModemCommands.ENABLE_ATT%29%0A++++++++command_log.append%28f%22Enable+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D+profile+response%3A+%7Braw%7D%22%29%0A++++++++if+fall_back+%3D%3D+enable+%3D%3D+ModemResp.SUCCESS%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++raise+FailedToSetModem%28%29%0A++++except+ModemAlreadySet%3A%0A++++++++out.set_user_facing_msg%28f%22Modem+already+set+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++except+SingleBootstrap%3A%0A++++++++out.set_user_facing_msg%28f%22Vehicle+has+a+single+bootsrap+e-sim+and+cannot+be+swapped.%22%29%0A++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++except+FailedToStopModemService%3A%0A++++++++out.set_user_facing_msg%28%22Could+not+stop+modem+services%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++except+FailedToSetModem%3A%0A++++++++out.set_user_facing_msg%28f%22Failed+to+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++except+ModemResponseError+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22%22%22Failed+to+communicate+with+the+modem+to+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D.%0A++++++++++++Check+Garage+Vitals+and+WAIT+until+the+modem+is+reporting+back+to+the+UI+%2F+garage+before+attempting+to+run+this+routine+again+-%0A++++++++++++The+modem+may+take+up+to+10+minutes+to+report+back+to+the+UI+%2F+Vitals%21%22%22%22%29%0A++++++++out.add_exception%28e%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++try%3A%0A++++++++raw%2C+_+%3D+await+execute_modem_command%28ModemCommands.CLOSE_CHANNEL%29%0A++++++++command_log.append%28f%22Close+modem+channel+response%3A+%7Braw%7D%22%29%0A++++except%3A%0A++++++++pass%0A++++r+%3D+await+set_cell_process_state%28START%29%0A++++command_log.append%28f%22Start+cell+process+response%3A+%7Br%7D%22%29%0A++++out.add_data%28name%3D%22Command+Response+Debug+Log%22%2C+data_type%3Dlist%2C+data%3Dcommand_log%29%0A++++return+out
			async+def+odin_script_test%28api%2C+kpn%3A+bool%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++run_ref+%3D+run_ref+%3D+api.subnetwork.run_reference%0A++++out+%3D+api.service_output%28%29%0A++++STOP+%3D+%27stop%27%0A++++START+%3D+%27start%27%0A++++from+enum+import+Enum%0A++++class+ModemAlreadySet%28Exception%29%3A%0A++++++++pass%0A++++class+SingleBootstrap%28Exception%29%3A%0A++++++++pass%0A++++class+ModemResponseError%28Exception%29%3A%0A++++++++pass%0A++++class+FailedToSetModem%28Exception%29%3A%0A++++++++pass%0A++++class+FailedToStopModemService%28Exception%29%3A%0A++++++++pass%0A++++class+ModemResp%28Enum%29%3A%0A++++++++SUCCESS+%3D+0%0A++++++++ALREADY_SET+%3D+1%0A++++++++SINGLE_BOOTSRAP+%3D+2%0A++++++++ERROR+%3D+-1%0A++++class+ModemCommand%28%29%3A%0A++++++++SINGLE_BOOTSTRAP+%3D+%276A88%27%0A++++++++def+__init__%28self%2C+command%3A+str%2C+already_set+%3D+None%2C+success_resp%3A+str+%3D+%279000%27%29+-%3E+None%3A%0A++++++++++++self.command+%3D+command%0A++++++++++++self.success_resp+%3D+success_resp%0A++++++++++++self.already_set+%3D+already_set%0A++++++++def+check_resp%28self%2C+resp%3A+str%29%3A%0A++++++++++++if+resp+%3D%3D+self.success_resp%3A%0A++++++++++++++++return+ModemResp.SUCCESS%0A++++++++++++if+self.already_set+and+resp+%3D%3D+self.already_set%3A%0A++++++++++++++++return+ModemResp.ALREADY_SET%0A++++++++++++if+resp+%3D%3D+self.SINGLE_BOOTSTRAP%3A%0A++++++++++++++++return+ModemResp.SINGLE_BOOTSRAP%0A++++++++++++return+ModemResp.ERROR%0A++++class+ModemCommands%3A%0A++++++++OPEN_CHANNEL+%3D++++++++++ModemCommand%28%27openchannel%27%2C+%276A81%27%2C+%27019000%27%29%0A++++++++CLOSE_CHANNEL+%3D+++++++++ModemCommand%28%27closechannel%27%2C+%276200%27%29%0A++++++++SELECT_APPLET+%3D+++++++++ModemCommand%28%27selectapplet%27%29%0A++++++++SET_FALLBACK_ATT+%3D++++++ModemCommand%28%27setfallback_att%27%2C+%276200%27%29%0A++++++++SET_FALLBACK_KPN+%3D++++++ModemCommand%28%27setfallback_kpn%27%2C+%276200%27%29%0A++++++++ENABLE_ATT+%3D++++++++++++ModemCommand%28%27enableprofile_att%27%2C+%276985%27%29%0A++++++++ENABLE_KPN+%3D++++++++++++ModemCommand%28%27enableprofile_kpn%27%2C+%276985%27%29%0A++++async+def+set_cell_process_state%28action%3A+str%29%3A%0A++++++++return+await+run_ref%28%0A++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-CELL-PROCESS-STATE%22%2C%0A++++++++++++action%3Daction%0A++++++++%29%0A++++def+parse_modem_response%28resp%3A+dict%29+-%3E+str%3A%0A++++++++try%3A%0A++++++++++++stdout+%3D+%5B+x.rstrip%28%29+for+x+in+resp.get%28%27stdOut%27%2C+%27%27%29.split%28%27%5Cn%27%29+if+x.rstrip%28%29.startswith%28%27%2BCSIM%27%29+%5D%0A++++++++++++stdout+%3D+stdout%5B0%5D.replace%28%27%22%27%2C+%27%27%29.split%28%27%2C%27%29%5B1%5D%0A++++++++except+Exception%3A%0A++++++++++++raise+ModemResponseError%28repr%28resp%29%29%0A++++++++return+stdout%0A++++async+def+execute_modem_command%28command%3A+ModemCommand%29%3A%0A++++++++res+%3D++await+run_ref%28%0A++++++++++++%22Gen3%2Ftasks%2FPROC_ICE_X_MODEM-COMMAND%22%2C%0A++++++++++++inputModemCommand%3Dcommand.command%0A++++++++%29%0A++++++++res+%3D+parse_modem_response%28res%29%0A++++++++return+res%2C+command.check_resp%28res%29%0A++++command_log+%3D+%5B%5D%0A++++try%3A%0A++++++++r+%3D+await+set_cell_process_state%28STOP%29%0A++++++++command_log.append%28f%22Stopping+cell+proceses%3A+%7Br%7D%22%29%0A++++++++if+not+r.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++++++raise+FailedToStopModemService%28%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.CLOSE_CHANNEL%29%0A++++++++command_log.append%28f%22Close+modem+channel+response%3A+%7Braw%7D%22%29%0A++++++++if+r+not+in+%5B+ModemResp.ALREADY_SET%2C+ModemResp.SUCCESS+%5D%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+close+channel%22%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.OPEN_CHANNEL%29%0A++++++++command_log.append%28f%22Open+modem+channel+response%3A+%7Braw%7D%22%29%0A++++++++if+r+%21%3D+ModemResp.SUCCESS%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+open+channel%22%29%0A++++++++raw%2C+r+%3D+await+execute_modem_command%28ModemCommands.SELECT_APPLET%29%0A++++++++command_log.append%28f%22Select+applet+local+management+response%3A+%7Braw%7D%22%29%0A++++++++if+r+%21%3D+ModemResp.SUCCESS%3A%0A++++++++++++raise+ModemResponseError%28%22Could+not+select+applet+local+management%22%29%0A++++++++raw%2C+fall_back+%3D+await+execute_modem_command%28ModemCommands.SET_FALLBACK_KPN+if+kpn+else+ModemCommands.SET_FALLBACK_ATT%29%0A++++++++command_log.append%28f%22Set+fallback+profile+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D+response%3A+%7Braw%7D%22%29%0A++++++++if+fall_back+%3D%3D+ModemResp.SINGLE_BOOTSRAP%3A%0A++++++++++++raise+SingleBootstrap%28%29%0A++++++++elif+fall_back+%3D%3D+ModemResp.ALREADY_SET%3A%0A++++++++++++raise+ModemAlreadySet%28%29%0A++++++++raw%2C+enable+%3D+await+execute_modem_command%28ModemCommands.ENABLE_KPN+if+kpn+else+ModemCommands.ENABLE_ATT%29%0A++++++++command_log.append%28f%22Enable+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D+profile+response%3A+%7Braw%7D%22%29%0A++++++++if+fall_back+%3D%3D+enable+%3D%3D+ModemResp.SUCCESS%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++raise+FailedToSetModem%28%29%0A++++except+ModemAlreadySet%3A%0A++++++++out.set_user_facing_msg%28f%22Modem+already+set+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++except+SingleBootstrap%3A%0A++++++++out.set_user_facing_msg%28f%22Vehicle+has+a+single+bootsrap+e-sim+and+cannot+be+swapped.%22%29%0A++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++except+FailedToStopModemService%3A%0A++++++++out.set_user_facing_msg%28%22Could+not+stop+modem+services%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++except+FailedToSetModem%3A%0A++++++++out.set_user_facing_msg%28f%22Failed+to+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++except+ModemResponseError+as+e%3A%0A++++++++out.set_user_facing_msg%28%0A++++++++++++f%22%22%22Failed+to+communicate+with+the+modem+to+set+dual+boostrap+e-sim+to+%7B%27kpn%27+if+kpn+else+%27at%26t%27%7D.%0A++++++++++++Check+Garage+Vitals+and+WAIT+until+the+modem+is+reporting+back+to+the+UI+%2F+garage+before+attempting+to+run+this+routine+again+-%0A++++++++++++The+modem+may+take+up+to+10+minutes+to+report+back+to+the+UI+%2F+Vitals%21%22%22%22%29%0A++++++++out.add_exception%28e%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++try%3A%0A++++++++raw%2C+_+%3D+await+execute_modem_command%28ModemCommands.CLOSE_CHANNEL%29%0A++++++++command_log.append%28f%22Close+modem+channel+response%3A+%7Braw%7D%22%29%0A++++except%3A%0A++++++++pass%0A++++r+%3D+await+set_cell_process_state%28START%29%0A++++command_log.append%28f%22Start+cell+process+response%3A+%7Br%7D%22%29%0A++++out.add_data%28name%3D%22Command+Response+Debug+Log%22%2C+data_type%3Dlist%2C+data%3Dcommand_log%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_EPAS_X_POST-REPLACEMENT.py
			async+def+odin_script_test%28api%29%3A%0A++++from+enum+import+Enum%0A++++from+asyncio+import+sleep%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++get_vitals+%3D+api.cid.get_vitals%0A++++status_update+%3D+api.messages.status_update%0A++++uds_ecu_reset+%3D+api.uds.uds_ecu_reset%0A++++class+EpasTypes%28Enum%29%3A%0A++++++++BOSCH_L538++++++++++%3D+%27l538%27++++++++++++++%0A++++++++BOSCH_L405++++++++++%3D+%27l405%27++++++++++++++%0A++++++++MANDO_VGR66+++++++++%3D+%27vgr66%27+++++++++++++%0A++++++++MANDO_VGR66Gen3+++++%3D+%27vgr66gen3%27+++++++++%0A++++++++MANDO_VGR66Gen3_P2++%3D+%27mando_vgr66_gen3%27++%0A++++++++MANDO_VGR69Gen3+++++%3D+%27mando_vgr69_gen3%27++%0A++++++++GEN3++++++++++++++++%3D+%27gen3%27++++++++++++++%0A++++PLATFORMS_GTW3+%3D+%5B%273%27%2C+%27y%27%2C+%27tamarind%27%2C+%27lychee%27%5D%0A++++PLATFORMS_SX+%3D+%5B%27s%27%2C+%27s2%27%2C+%27x%27%5D%0A++++PLATFORMS_3Y+%3D+%5B%273%27%2C+%27y%27%5D%0A++++PLATFORMS_P2+%3D+%5B%27tamarind%27%2C+%27lychee%27%5D%0A++++MAX_RETRIES+%3D+2+%0A++++PASS+%3D+%22PASS%22%0A++++FAIL+%3D+%22FAIL%22%0A++++ERROR+%3D+%22ERROR%22%0A++++failure_text+%3D+%22Failed+to+execute+one+or+more+required+post+replacement+procedures%22%0A++++vitals+%3D+await+get_vitals%28%29%0A++++vitals+%3D+vitals.get%28%27vitals%27%29%0A++++cfg_car+%3D+vitals.get%28%27cfg_car%27%29.lower%28%29%0A++++if+cfg_car+in+PLATFORMS_GTW3%3A%0A++++++++epas_cfg_key+%3D+%27cfg_epastype%27%0A++++else%3A%0A++++++++epas_cfg_key+%3D+%27cfg_epas%27%0A++++epas_type+%3D+vitals.get%28epas_cfg_key%29.lower%28%29%0A++++output.add_data%28name%3D%22cfg_car%22%2C+data_type%3Ddict%2C+data%3Dcfg_car%29%0A++++output.add_data%28name%3D%22epas_type%22%2C+data_type%3Ddict%2C+data%3Depas_type%29%0A++++if+epas_type+in+%5BEpasTypes.BOSCH_L405.value%2C+EpasTypes.BOSCH_L538.value%5D%3A%0A++++++++await+status_update%28status%3D%22Turning+on+the+drive+rail...+Make+sure+the+car+is+not+charging.%22%29%0A++++++++await+status_update%28status%3D%22Running+Data+Flash+Clean...%22%29%0A++++++++count+%3D+0%0A++++++++while+count+%3C%3D+MAX_RETRIES%3A%0A++++++++++++try%3A++++%0A++++++++++++++++result_df_clean+%3D+await+run_ref%28%0A++++++++++++++++++++%22ModelSX%2Flib%2FRUN_UDS_ROUTINE%22%2C%0A++++++++++++++++++++uds_routine_id%3D%220xDC01%22%2C%0A++++++++++++++++++++diagnostic_session%3D%22EXTENDED_DIAGNOSTIC_SESSION%22%2C%0A++++++++++++++++++++node_name%3D%22EPAS%22%2C%0A++++++++++++++++++++required_ecu_state%3D%22APPLICATION%22%2C%0A++++++++++++++++++++security_access%3D%22LEVEL_1%22%2C%0A++++++++++++++++++++poll_result%3DFalse%0A++++++++++++++++%29%0A++++++++++++++++if+isinstance%28result_df_clean%2C+dict%29+and+result_df_clean.get%28%22exit_code%22%29+%3D%3D+0%3A%0A++++++++++++++++++++result_df_clean%5B%22result%22%5D+%3D+PASS%0A++++++++++++++++++++break%0A++++++++++++except+Exception+as+dfc_error%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++output.set_user_facing_msg%28failure_text%29%0A++++++++++++++++output.add_exception%28dfc_error%29%0A++++++++++++++++result_df_clean%5B%22result%22%5D+%3D+ERROR%0A++++++++++++count+%2B%3D+1%0A++++++++else%3A%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28f%22Data+Flash+Clean%3A+FAILED.+Reached+max+number+of+tries%3A+%7BMAX_RETRIES%2B1%7D%22%29%0A++++++++++++result_df_clean%5B%22result%22%5D+%3D+FAIL%0A++++++++await+status_update%28status%3D%22Data+Flash+Clean%3A+PASSED%22%29%0A++++++++await+sleep%2810%29++++%0A++++++++output.add_data%28name%3D%22result_df_clean%22%2C+data_type%3Ddict%2C+data%3Dresult_df_clean%29%0A++++++++try%3A%0A++++++++++++await+status_update%28status%3D%22Resetting+EPAS+ECU...%22%29%0A++++++++++++result_ecu_reset+%3D+await+uds_ecu_reset%28%0A++++++++++++++++node_name%3D%27EPAS%27%2C+%0A++++++++++++++++reset_type%3D%27HARD_RESET%27%2C+%0A++++++++++++++++response_required%3DTrue%0A++++++++++++%29%0A++++++++except+Exception+as+ecu_reset_error%3A%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.set_user_facing_msg%28%27ERROR%3A+something+went+wrong+during+EPAS+reset.%27%29%0A++++++++++++output.add_exception%28ecu_reset_error%29%0A++++++++++++result_ecu_reset%5B%22result%22%5D+%3D+ERROR%0A++++++++if+isinstance%28result_ecu_reset%2C+dict%29+and+result_ecu_reset.get%28%22done%22%29+%3D%3D+True%3A%0A++++++++++++await+status_update%28status%3D%22Reset+EPAS+ECU%3A+PASSED%22%29%0A++++++++++++result_ecu_reset%5B%22result%22%5D+%3D+PASS%0A++++++++else%3A%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.set_user_facing_msg%28failure_text%29%0A++++++++++++result_ecu_reset%5B%22result%22%5D+%3D+FAIL%0A++++++++await+status_update%28status%3D%28%22EPAS+is+restarting...+It+may+take+up+to+one+minute+for+the+car+to+be+driveable+again%22%29%29%0A++++++++output.add_data%28name%3D%22result_ecu_reset%22%2C+data_type%3Ddict%2C+data%3Dresult_ecu_reset%29%0A++++++++if+result_df_clean.get%28%22result%22%29+%3D%3D+PASS+and+result_ecu_reset.get%28%22result%22%29+%3D%3D+PASS%3A%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++output.set_user_facing_msg%28%22Successfully+executed+all+required+post+replacement+procedures%22%29%0A++++else%3A%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++output.set_user_facing_msg%28%22No+service+routines+executed+as+this+is+only+required+for+Model+S%2FX+with+Bosch+steering+rack.%22%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_CLEAR-SPOTIFY-CREDS.py
			async+def+odin_script_test%28api%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++WAIT_TIME+%3D+3%0A++++spotify_data_values+%3D+%7B%0A++++++++%27MEDIA_spotifyTCAccepted%27+%3A+%27false%27%2C%0A++++++++%27MEDIA_spotifyTeslaUsername%27+%3A+%27%27%2C%0A++++++++%27MEDIA_spotifyTeslaPassword%27+%3A+%27%27%2C%0A++++++++%27MEDIA_spotifyUsername%27+%3A+%27%27%2C%0A++++++++%27MEDIA_spotifyPassword%27+%3A+%27%27%0A++++%7D%0A++++res+%3D+await+run_ref%28%0A++++++++%27Common%2Flib%2FSET-MULTI-DATAVALUES%27%2C%0A++++++++data_values%3Dspotify_data_values%2C%0A++++++++endpoint%3D%27center_display%27%0A++++%29%0A++++if+not+res.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++output.set_user_facing_msg%28f%22Could+not+clear+spotify+datavalues%22%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++return+output%0A++++output.set_user_facing_msg%28%22Cleared+Spotify+credentials.+Please+restart+qtcar+for+the+UI+to+reflect+the+changes.%22%29%0A++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_X_ENTER-HEADLAMP-CALIBRATION-MODE.py
			async+def+odin_script_test%28api%2C+headlamp%3A+str%2C+node%3A+str%2C+timeout%3A+int%2C+vertical_offset%3A+int%2C+horizontal_offset%3A+int%29%3A%0A++++ACCESSORY+%3D+api.power_state_enum.ACCESSORY%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%29%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++request_results+%3D+api.odx.odx_request_results%0A++++run_script+%3D+api.scripts.script_test%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++if+headlamp+not+in+%5B%22LEFT%22%2C+%22RIGHT%22%5D%3A%0A++++++++output.set_user_facing_msg%28f%22Invalid+headlamp%3A+%7Bheadlamp%7D%22%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++return+output%0A++++start_params+%3D+%7B%27HEADLIGHT_CHANNEL%27%3A+f%27HEADLIGHT_CHANNEL_%7Bheadlamp%7D%27%2C%0A++++++++++++++++++++%27INITIAL_OFFSET_HORIZONTAL%27%3A+horizontal_offset%2C%0A++++++++++++++++++++%27INITIAL_OFFSET_VERTICAL%27%3A+vertical_offset%7D%0A++++request_params+%3D+%7B%27HEADLIGHT_CHANNEL%27%3A+f%27HEADLIGHT_CHANNEL_%7Bheadlamp%7D%27%7D%0A++++async+with+power_context%28power_state%3DACCESSORY%29%3A%0A++++++++result+%3D+await+start_and_wait_results%28%0A++++++++++++node_name%3Dnode%2C%0A++++++++++++routine_name%3D%22CALIBRATION_HEADLIGHT_CONTROL%22%2C%0A++++++++++++input_parameters%3Dstart_params%2C%0A++++++++++++request_parameters%3Drequest_params%2C%0A++++++++++++should_stop%3DFalse%2C%0A++++++++++++max_runtime%3Dtimeout%2C%0A++++++++++++start_status_parameter%3D%22START_RESULT%22%0A++++++++%29%0A++++output.add_data%28name%3Df%22START-AND-WAIT%22%2C+data_type%3Ddict%2C+data%3Dresult%29%0A++++result+%3D+await+request_results%28node_name%3Dnode%2Croutine_name%3D%22CALIBRATION_HEADLIGHT_CONTROL%22%2Cparams%3Drequest_params%29%0A++++output.add_data%28name%3Df%22HEADLAMP-AIMING%22%2C+data_type%3Ddict%2C+data%3Dresult%29%0A++++if+result.get%28%27results%27%2C%7B%7D%29.get%28%27STATUS%27%29+%3D%3D+%22NOT_RUNNING_FINISHED%22%3A%0A++++++++output.set_user_facing_msg%28f%22Calibration+finish%22%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++else%3A%0A++++++++output.set_user_facing_msg%28f%22Calibration+mode+aborted%22%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++result%3D+await+run_script%28script_name%3D%22Common%2Fscripts%2FPROC_X_EXIT-HEADLAMP-CALIBRATION-MODE%22%2C+node%3Dnode%2Cheadlamp%3Dheadlamp%29%0A++++++++output.add_data%28name%3Df%22EXIT-CALIBRATION-MODE%22%2C+data_type%3Ddict%2C+data%3Dresult%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/TAS_INFLATE_DEFLATE.py
			async+def+odin_script_test%28api%2C+routine_name%3A+str%2C+action_target%3A+str%2C+timeout%3A+int%29%3A%0A++++powercontext+%3D+api.vehiclecontrols.power_context%0A++++odx_read+%3D+api.odx.odx_read_data%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++runodx+%3D+api.odx.odx_start_and_wait_results%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+api.service_output%28%29%0A++++class+TASNotInServiceMode%28Exception%29%3A%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.msg+%3D+%27Could+not+automatically+set+TAS+ECU+run+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%27%0A++++ROUTINES_INPUT_KEY_MAP+%3D+%7B%0A++++++++%27TAS_ASSISTED_INFLATE%27%3A+%27ASSISTED_INFLATE_TARGET%27%2C%0A++++++++%27TAS_DEFLATE%27%3A+%27DEFLATE_TARGET%27%0A++++%7D%0A++++input_key+%3D+ROUTINES_INPUT_KEY_MAP.get%28routine_name%29%0A++++if+not+input_key%3A%0A++++++++out.set_user_facing_msg%28f%22Routine+name+unsupported%3A+%7Broutine_name%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.INVALID_INPUT%29%0A++++++++return+out%0A++++input_dict+%3D+%7Binput_key%3A+f%27%7Broutine_name%7D_TARGET_%7Baction_target%7D%27%7D%0A++++platform+%3D+await+api.cid.get_platform%28%29%0A++++info_hw+%3D+platform.get%28%27info%27%2C+%7B%7D%29.get%28%27info_hw%27%29+if+platform+else+None%0A++++power_state+%3D+api.power_state_enum.DRIVE_RAIL+if+info_hw+%21%3D+%27infoz%27+else+api.power_state_enum.ACCESSORY_PLUS%0A++++try%3A%0A++++++++async+with+powercontext%28power_state%3Dpower_state%29%3A%0A++++++++++++result+%3D+await+odx_read%28data_name%3D%22TAS_RUN_MODE%22%2C+node_name%3D%27TAS%27%29%0A++++++++++++previous_run_mode+%3D+result.get%28%27data%27%2C+%7B%7D%29.get%28%22RUN_MODE%22%29.replace%28%22RUN_MODE_%22%2C+%22%22%29+if+isinstance%28result%2C+dict%29+and+result.get%28%27done%27%29+else+None%0A++++++++++++if+previous_run_mode+%21%3D+%22SERVICE%22%3A%0A++++++++++++++++result+%3D+await+run_ref%28%27Common%2Ftasks%2FPROC_TAS_X_ENTER-SERVICE-MODE%27%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+result.get%28%27exit_code%27%2C+1%29+is+not+0%3A%0A++++++++++++++++++++raise+TASNotInServiceMode%28%29%0A++++++++++++resp+%3D+await+runodx%28%0A++++++++++++++++node_name%3D%27TAS%27%2C%0A++++++++++++++++routine_name%3Droutine_name%2C%0A++++++++++++++++input_parameters%3Dinput_dict%2C%0A++++++++++++++++tester_present%3DTrue%2C%0A++++++++++++++++timeout%3D1.0%2C+%0A++++++++++++++++max_retries%3Dtimeout%2C+%0A++++++++++++++++status_parameter%3D%27ROUTINE_RESULT%27%2C%0A++++++++++++++++in_progress_statuses%3D%5B%27ACTIVE%27%5D%0A++++++++++++%29%0A++++++++out.add_data%28name%3D%22Raw+Routine+Result%22%2C+data_type%3Ddict%2C+data%3Dresp%29%0A++++++++routine_result+%3D+resp.get%28%27results%27%2C%7B%7D%29.get%28%27ROUTINE_RESULT%27%29%0A++++++++if+routine_result+%3D%3D+%27SUCCESS%27%3A%0A++++++++++++out.set_user_facing_msg%28%27Routine+Passed%27%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++++++return+out%0A++++++++out.set_user_facing_msg%28%27Routine+Failed%27%29%0A++++++++if+routine_name+%3D%3D+%27TAS_ASSISTED_INFLATE%27%3A%0A++++++++++++out.add_data%28%0A++++++++++++++++name%3D%22Nitrogen+Tank+Required%22%2C%0A++++++++++++++++data_type%3Dstr%2C%0A++++++++++++++++data%3D%22For+all+TAS+ASSISTED+INFLATE+routines%2C+a+nitrogen+tank+must+be+connected+to+the+system.+Required+pressure+is+8+bar%28a%29+%2F+116+psi%28a%29+for+the+axle+%2F+spring+routines+and+20+bar%28a%29+%2F+290+psi%28a%29+for+the+reservoir+routine.%22%0A++++++++++++%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++except+TASNotInServiceMode+as+error%3A%0A++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++out.set_user_facing_msg%28%22Error+During+Routine+Execution%22%29%0A++++++++out.add_exception%28error%29%0A++++except+Exception+as+e%3A%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++out.set_user_facing_msg%28%22Error+During+Routine+Execution%22%29%0A++++++++out.add_exception%28e%29%0A++++finally%3A%0A++++++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_SET-MODEM-POWER-STATE.py
			async+def+odin_script_test%28api%2C+power_state%3A+str%29%3A%0A++++from+asyncio+import+sleep+as+sleep%0A++++capture+%3D+api.reporting.capture_metric%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++result+%3D+api.metric_result%0A++++is_remote+%3D+api.odin.is_remote_network_request%0A++++PASS+%3D+0%0A++++FAIL+%3D+1%0A++++FAILED_TO_GET_CONTEXT+%3D+2%0A++++VALID_STATES+%3D+%5B%22on%22%2C+%22cycle%22%5D%0A++++class+CheckResult%3A%0A++++++++def+__init__%28self%2C+msg%29%3A%0A++++++++++++self.msg+%3D+msg%0A++++++++def+__call__%28self%2C+func%29%3A%0A++++++++++++async+def+decorator%28%2Aargs%2C+%2A%2Akwargs%29%3A%0A++++++++++++++++result+%3D+await+func%28%2Aargs%2C+%2A%2Akwargs%29%0A++++++++++++++++if+result.get%28%22stderr%22%29+or+result.get%28%22exit_code%22%29+%21%3D+PASS%3A%0A++++++++++++++++++++raise+RuntimeError%28f%22%7Bself.msg%7D+failed+during+%7Brepr%28kwargs.items%28%29%29%7D.%22%29%0A++++++++++++return+decorator%0A++++async+def+report%28name%2C+msg%2C+exit_code%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3Dname%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++result_code%3Dexit_code%0A++++++++%29%0A++++%40CheckResult%28%22Setting+modem+power+state%22%29%0A++++async+def+set_modem_power_state%28power_state%3A+str%29+-%3E+object%3A%0A++++++++return+await+run_ref%28%0A++++++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-MODEM-ONLY-POWER-STATE%22%2C%0A++++++++++++power_state%3Dpower_state%0A++++++++%29%0A++++%40CheckResult%28%22Setting+cell+processes%22%29%0A++++async+def+set_cell_process_state%28action%3A+str%29+-%3E+dict%3A%0A++++++++return+await+run_ref%28%0A++++++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-CELL-PROCESS-STATE%22%2C%0A++++++++++++action%3Daction%0A++++++++%29%0A++++res+%3D+await+is_remote%28%29%0A++++if+isinstance%28res%2C+dict%29%3A%0A++++++++if+res.get%28%27remote_request%27%29+is+False%3A%0A++++++++++++VALID_STATES.append%28%22off%22%29%0A++++else%3A%0A++++++++await+report%28%22Error%22%2C+%22Couldn%27t+determine+context%22%2C+result.Fail%29%0A++++++++return+FAILED_TO_GET_CONTEXT%0A++++power_state+%3D+power_state.lower%28%29.strip%28%29%0A++++if+power_state+not+in+VALID_STATES%3A%0A++++++++await+report%28%22Error%22%2C++f%22invalid+input%3A+%7Bpower_state%7D.+Allowed%3A+%7BVALID_STATES%7D%22%2C+result.Fail%29%0A++++++++return+FAIL%0A++++try%3A%0A++++++++await+set_cell_process_state%28action%3D%22force-stop%22%29++%0A++++++++if+power_state+%3D%3D+%22off%22%3A%0A++++++++++++await+set_modem_power_state%28power_state%3D%22off%22%29%0A++++++++else%3A%0A++++++++++++if+power_state+%3D%3D+%22cycle%22%3A%0A++++++++++++++++await+set_modem_power_state%28power_state%3D%22cycle%22%29%0A++++++++++++elif+power_state+%3D%3D+%22on%22%3A%0A++++++++++++++++await+set_modem_power_state%28power_state%3D%22on%22%29%0A++++++++++++await+set_cell_process_state%28action%3D%22start%22%29%0A++++except+RuntimeError+as+e%3A%0A++++++++await+report%28%22Error%22%2C+repr%28e%29%2C+FAIL%29%0A++++++++return+FAIL%0A++++return+PASS
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_SET-CELL-POLICY.py
			async+def+odin_script_test%28api%2C+apn%3A+list%2C+restore%3A+bool%2C+cell_provider_name%3A+str%2C+roaming_markets%3A+list%29%3A%0A++++from+asyncio+import+sleep%0A++++execute+%3D+api.cid.execute_application%0A++++gdv+%3D+api.cid.get_data_value%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++load_data+%3D+api.cid.load_data%0A++++save_data+%3D+api.cid.save_data%0A++++json+%3D+api.json%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++out+%3D+api.service_output%28%29%0A++++CONNMAN_CELL_POLICY+%3D+%22%2Fvar%2Fetc%2Fqtcar-connman%2Fcellular_network_policy.json%22%0A++++BACKUP_CELL_POLICY+%3D+%22%2Fetc%2Fcellular_network_policy.json%22%0A++++TIMEOUT+%3D+180%0A++++ALL_COUNTRY_CODES+%3D+%5B%22ad%22%2C%22ae%22%2C%22af%22%2C%22ag%22%2C%22ai%22%2C%22al%22%2C%22am%22%2C%22ao%22%2C%22aq%22%2C%22ar%22%2C%22as%22%2C%22at%22%2C%22au%22%2C%22aw%22%2C%22ax%22%2C%22az%22%2C%22ba%22%2C%22bb%22%2C%22bd%22%2C%22be%22%2C%22bf%22%2C%22bg%22%2C%22bh%22%2C%22bi%22%2C%22bj%22%2C%22bl%22%2C%22bm%22%2C%22bn%22%2C%22bo%22%2C%22bq%22%2C%22br%22%2C%22bs%22%2C%22bt%22%2C%22bv%22%2C%22bw%22%2C%22by%22%2C%22bz%22%2C%22ca%22%2C%22cc%22%2C%22cd%22%2C%22cf%22%2C%22cg%22%2C%22ch%22%2C%22ci%22%2C%22ck%22%2C%22cl%22%2C%22cm%22%2C%22cn%22%2C%22co%22%2C%22cr%22%2C%22cu%22%2C%22cv%22%2C%22cw%22%2C%22cx%22%2C%22cy%22%2C%22cz%22%2C%22de%22%2C%22dj%22%2C%22dk%22%2C%22dm%22%2C%22do%22%2C%22dz%22%2C%22ec%22%2C%22ee%22%2C%22eg%22%2C%22eh%22%2C%22er%22%2C%22es%22%2C%22et%22%2C%22fi%22%2C%22fj%22%2C%22fk%22%2C%22fm%22%2C%22fo%22%2C%22fr%22%2C%22ga%22%2C%22gb%22%2C%22gd%22%2C%22ge%22%2C%22gf%22%2C%22gg%22%2C%22gh%22%2C%22gi%22%2C%22gl%22%2C%22gm%22%2C%22gn%22%2C%22gp%22%2C%22gq%22%2C%22gr%22%2C%22gs%22%2C%22gt%22%2C%22gu%22%2C%22gw%22%2C%22gy%22%2C%22hk%22%2C%22hm%22%2C%22hn%22%2C%22hr%22%2C%22ht%22%2C%22hu%22%2C%22id%22%2C%22ie%22%2C%22il%22%2C%22im%22%2C%22in%22%2C%22io%22%2C%22iq%22%2C%22ir%22%2C%22is%22%2C%22it%22%2C%22je%22%2C%22jm%22%2C%22jo%22%2C%22jp%22%2C%22ke%22%2C%22kg%22%2C%22kh%22%2C%22ki%22%2C%22km%22%2C%22kn%22%2C%22kp%22%2C%22kr%22%2C%22kw%22%2C%22ky%22%2C%22kz%22%2C%22la%22%2C%22lb%22%2C%22lc%22%2C%22li%22%2C%22lk%22%2C%22lr%22%2C%22ls%22%2C%22lt%22%2C%22lu%22%2C%22lv%22%2C%22ly%22%2C%22ma%22%2C%22mc%22%2C%22md%22%2C%22me%22%2C%22mf%22%2C%22mg%22%2C%22mh%22%2C%22mk%22%2C%22ml%22%2C%22mm%22%2C%22mn%22%2C%22mo%22%2C%22mp%22%2C%22mq%22%2C%22mr%22%2C%22ms%22%2C%22mt%22%2C%22mu%22%2C%22mv%22%2C%22mw%22%2C%22mx%22%2C%22my%22%2C%22mz%22%2C%22na%22%2C%22nc%22%2C%22ne%22%2C%22nf%22%2C%22ng%22%2C%22ni%22%2C%22nl%22%2C%22no%22%2C%22np%22%2C%22nr%22%2C%22nu%22%2C%22nz%22%2C%22om%22%2C%22pa%22%2C%22pe%22%2C%22pf%22%2C%22pg%22%2C%22ph%22%2C%22pk%22%2C%22pl%22%2C%22pm%22%2C%22pn%22%2C%22pr%22%2C%22ps%22%2C%22pt%22%2C%22pw%22%2C%22py%22%2C%22qa%22%2C%22re%22%2C%22ro%22%2C%22rs%22%2C%22ru%22%2C%22rw%22%2C%22sa%22%2C%22sb%22%2C%22sc%22%2C%22sd%22%2C%22se%22%2C%22sg%22%2C%22sh%22%2C%22si%22%2C%22sj%22%2C%22sk%22%2C%22sl%22%2C%22sm%22%2C%22sn%22%2C%22so%22%2C%22sr%22%2C%22ss%22%2C%22st%22%2C%22sv%22%2C%22sx%22%2C%22sy%22%2C%22sz%22%2C%22tc%22%2C%22td%22%2C%22tf%22%2C%22tg%22%2C%22th%22%2C%22tj%22%2C%22tk%22%2C%22tl%22%2C%22tm%22%2C%22tn%22%2C%22to%22%2C%22tr%22%2C%22tt%22%2C%22tv%22%2C%22tw%22%2C%22tz%22%2C%22ua%22%2C%22ug%22%2C%22um%22%2C%22us%22%2C%22uy%22%2C%22uz%22%2C%22va%22%2C%22vc%22%2C%22ve%22%2C%22vg%22%2C%22vi%22%2C%22vn%22%2C%22vu%22%2C%22wf%22%2C%22ws%22%2C%22ye%22%2C%22yt%22%2C%22za%22%2C%22zm%22%2C%22zw%22%5D%0A++++ALL_COUNTRY_CODES.sort%28%29%0A++++class+Timeout%3A%0A++++++++def+__init__%28self%2C+timeout%2C+msg%29%3A%0A++++++++++++self.timeout+%3D+timeout%0A++++++++++++self.msg+%3D+msg%0A++++++++def+__call__%28self%2C+f%29%3A%0A++++++++++++async+def+decorated%28%2Aargs%2C+%2A%2Akwargs%29%3A%0A++++++++++++++++sleep_interval+%3D+5%0A++++++++++++++++for+_+in+range%280%2C+self.timeout%2C+sleep_interval%29%3A%0A++++++++++++++++++++res+%3D+await+f%28%2Aargs%2C+%2A%2Akwargs%29%0A++++++++++++++++++++if+res%3A%0A++++++++++++++++++++++++return+res%0A++++++++++++++++++++await+sleep%28sleep_interval%29%0A++++++++++++++++raise+TimeoutError%28f%22Timed+out+for+%7Bself.msg%7D%22%29%0A++++++++++++return+decorated%0A++++async+def+check_res%28res%29+-%3E+bool%3A%0A++++++++if+res.get%28%27stderr%27%29+or+res.get%28%27exit_code%27%29+%3D%3D+1%3A%0A++++++++++++out.set_user_facing_msg%28f%22Error%3A+%7Bres.get%28%27stderr%27%29%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+False%0A++++++++return+True%0A++++async+def+set_cell_process_state%28processes%3A+list%2C+action%3A+str%29%3A%0A++++++++return+await+run_ref%28%0A++++++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-CELL-PROCESS-STATE%22%2C%0A++++++++++++action%3Daction%0A++++++++%29%0A++++%40Timeout%28TIMEOUT%2C+%22cell+processes+state%22%29%0A++++async+def+wait_for_cell_process_state%28processes%3A+list%2C+state%3A+str%29+-%3E+bool%3A%0A++++++++res+%3D+await+set_cell_process_state%28processes%2C+%22status%22%29%0A++++++++return+all%28res.get%28process%29+%3D%3D+state+for+process+in+processes%29%0A++++%40Timeout%28TIMEOUT%2C+%22datavalue+state%22%29%0A++++async+def+assert_datavalue_not_equal%28dv%3A+str%2C+values%3A+list%29%3A%0A++++++++res+%3D+await+gdv%28data_name%3Ddv%29%0A++++++++return+res.get%28%27value%27%29+if+all%28res.get%28%27value%27%29+%21%3D+value+for+value+in+values%29+else+False%0A++++if+restore%3A%0A++++++++try%3A%0A++++++++++++res+%3D+await+execute%28path%3D%27%2Fbin%2Fcp%27%2C+user%3D%27qtconnman%27%2C+whitelist_chars%3D%27-%2F._%27%2C+args%3D%5BBACKUP_CELL_POLICY%2C++CONNMAN_CELL_POLICY%5D%29%0A++++++++++++if+%22No+such+file+or+directory%22+in+res.get%28%27stderr%27%29%3A%0A++++++++++++++++out.set_user_facing_msg%28f%22Error%3A+backup+file+at+location+%7BBACKUP_CELL_POLICY%7D+does+not+exist.%22%29%0A++++++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++return+out%0A++++++++++++if+res.get%28%27exit_status%27%29+%21%3D+0%3A%0A++++++++++++++++out.set_user_facing_msg%28f%22Error%3A+could+not+copy+backup+cell+policy.+Error+message%3A+%7Bres.get%28%27stderr%27%29%7D%22%29%0A++++++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++return+out%0A++++++++++++out.set_user_facing_msg%28f%22Success%3A+Restored+backup+cell+policy.+Location%3A+%7BCONNMAN_CELL_POLICY%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++except+Exception+as+e%3A%0A++++++++++++out.add_exception%28e%29%0A++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+out%0A++++else%3A%0A++++++++if+not+apn+or+apn+%3D%3D+%5B%27default%27%5D%3A%0A++++++++++++out.set_user_facing_msg%28%22APN+is+a+mandatory+field+when+setting+to+external+SIM%22%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_INPUT%29%0A++++++++++++return+out%0A++++++++apn_string+%3D+%22.%22.join%28apn%29%0A++++++++if+roaming_markets%3A%0A++++++++++++roaming_markets+%3D+%5Bx.lower%28%29+for+x+in+roaming_markets%5D%0A++++++++++++roaming_markets.sort%28%29%0A++++++++if+not+roaming_markets+or+not+any%28x+for+x+in+roaming_markets+if+x+in+ALL_COUNTRY_CODES%29%3A%0A++++++++++++out.add_data%28name%3D%22Setting+%27Roaming+Markets%27+to+all+country+codes%22%2C+data_type%3Dstr%2C+data%3D%22Roaming+markets+input+was+left+blank+or+did+not+match+valid+country+codes.%22%29%0A++++++++++++roaming_markets+%3D+ALL_COUNTRY_CODES%0A++++++++await+wait_for_cell_process_state%28%5B%22ofono%22%2C+%22qtcar-connman%22%5D%2C+%22run%22%29%0A++++++++cell_sim_number%3A+str+%3D+await+assert_datavalue_not_equal%28%22CONN_cellSimNumber%22%2C+%5B%27%3Cinvalid%3E%27%2C+None%5D%29%0A++++++++cell_policy+%3D+%28await+load_data%28filename%3DCONNMAN_CELL_POLICY%29%29.get%28%22data%22%29%0A++++++++if+not+isinstance%28cell_policy%2C+list%29+or+cell_policy%5B0%5D.get%28%22version%22%29+is+None%3A%0A++++++++++++out.set_user_facing_msg%28%22Error%3A+Malformed+cell+policy%2C+please+restore+the+original+cell+policy.%22%29%0A++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+out%0A++++++++cell_policy+%3D+%5Bpolicy+for+policy+in+cell_policy+if+policy.get%28%22version%22%29+or+not+cell_sim_number.startswith%28policy.get%28%22prefix%22%29%29%5D%0A++++++++new_entry+%3D+%7B%0A++++++++++++%22apn%22%3A+apn_string%2C%0A++++++++++++%22lte_markets%22%3A+%5B%5D%2C%0A++++++++++++%22name%22%3A+cell_provider_name%2C%0A++++++++++++%22part_number%22%3A+%22consumer_sim%22%2C%0A++++++++++++%22prefix%22%3A+cell_sim_number%5B0%3A10%5D%2C%0A++++++++++++%22roaming_markets%22%3A+roaming_markets%2C%0A++++++++++++%22wcdma_markets%22%3A+%5B%5D%0A++++++++%7D%0A++++++++cell_policy%5B0%5D%5B%22version%22%5D+%3D+%2299%22%0A++++++++cell_policy.insert%281%2C+new_entry%29%0A++++++++cell_policy_string+%3D+%22%5B%5Cn%22%0A++++++++for+idx%2C+policy+in+enumerate%28cell_policy%29%3A%0A++++++++++++cell_policy_string+%2B%3D+%28await+json.dumps%28json%3Dpolicy%2C+indent%3D2%2C+separators%3D%28%27%2C%27%2C+%27%3A%27%29%29%29.get%28%22string%22%29%0A++++++++++++cell_policy_string+%2B%3D+%22%2C%5Cn%22+if+idx+%3C+%28len%28cell_policy%29-1%29+else+%22%5Cn%5D%5Cn%22%0A++++++++res+%3D+await+check_res%28%0A++++++++++++await+save_data%28%0A++++++++++++++++filename%3DCONNMAN_CELL_POLICY%2C%0A++++++++++++++++data%3Dcell_policy_string%0A++++++++++++%29%0A++++++++%29%0A++++++++if+res%3A%0A++++++++++++out.set_user_facing_msg%28%22Success%3A+Cell+policy+set+successfully.%22%29%0A++++++++++++out.add_data%28name%3D%22APN%22%2C+data_type%3Dstr%2C+data%3Dapn_string%29%0A++++++++++++out.add_data%28name%3D%22Cell+Provider+Name%22%2C+data_type%3Dstr%2C+data%3Dcell_provider_name%29%0A++++++++++++out.add_data%28name%3D%22Roaming+Markets%22%2C+data_type%3Dstr%2C+data%3Df%22%7B%27all%27+if+roaming_markets+%3D%3D+ALL_COUNTRY_CODES+else+roaming_markets%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28%22Failed+to+set+the+cell+policy.+Please+restore+the+cell+policy+and+try+again%22%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++await+set_cell_process_state%28%5B%22ofono%22%2C+%22qtcar-connman%22%5D%2C+%22restart%22%29%0A++++await+wait_for_cell_process_state%28%5B%22ofono%22%2C+%22qtcar-connman%22%5D%2C+%22run%22%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_CLEAR-REMOTE-ALERTS.py
			async+def+odin_script_test%28api%2C+clear_service_alerts%3A+bool%2C+clear_remote_notifications%3A+bool%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++debug_print+%3D+api.reporting.debug_print%0A++++capture+%3D+api.reporting.capture_metric%0A++++sv+%3D+api.cid.sv_command%0A++++gdv+%3D+api.cid.get_data_value%0A++++async+def+report%28name%2C+msg%2C+exit_code%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3Dname%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++result_code%3Dexit_code%0A++++++++%29%0A++++async+def+clr_remote_notifications%28%29%3A%0A++++++++await+debug_print%28%27Clearing+Remote+Notifications+...%27%29%0A++++++++is_driver_present+%3D+True%0A++++++++try%3A%0A++++++++++++res+%3D+await+gdv%28data_name%3D%27VAPI_driverPresent%27%29%0A++++++++++++is_driver_present+%3D+res.get%28%27value%27%29+%3D%3D+%27true%27%0A++++++++except+Exception+as+err%3A%0A++++++++++++await+report%28%27Clearing+Remote+Notifications+failed%27%2C+%27Could+not+check+driver+presence%27%2C+1%29%0A++++++++is_remote_res+%3D+await+api.odin.is_remote_network_request%28%29%0A++++++++is_remote+%3D+is_remote_res.get%28%27remote_request%27%2C+True%29+if+isinstance%28is_remote_res%2C+dict%29+else+is_remote_res%0A++++++++if+is_remote+and+is_driver_present%3A%0A+++++++++++++await+report%28%27Clearing+Remote+Notifications+failed%27%2C+%27Trying+to+execute+remotely+while+driver+is+present%27%2C+1%29%0A+++++++++++++return+1%0A++++++++remote_notifications_dir+%3D+%27%2Fhome%2Ftesla%2F.Tesla%2Fdata%2Fremote_notifications.json%27%0A++++++++result+%3D+await+api.cid.execute_application%28path%3D%27%2Fbin%2Frm%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++args%3D%5Bremote_notifications_dir%5D%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++whitelist_chars%3D%27%2F._%27%2C%0A++++++++++++++++++++++++++++++++++++++++++++++++user%3D%27root%27%29%0A++++++++await+api.cid.execute_application%28path%3D%27%2Fbin%2Fsync%27%2C+user%3D%27root%27%29%0A++++++++if+result.get%28%27exit_status%27%2C+1%29+%21%3D+0%3A%0A++++++++++++await+report%28%27clear_remote_notifications_output%27%2C+result.get%28%27stderr%27%29%2C+result.get%28%27exit_status%27%2C+1%29%29%0A++++++++return+result.get%28%27exit_status%27%2C+1%29%0A++++async+def+clr_service_alerts%28%29%3A%0A++++++++await+debug_print%28%27Clearing+Service+Alerts+...%27%29%0A++++++++result+%3D+await+api.subnetwork.run_reference%28%0A++++++++++++%27Common%2Flib%2FICE_INFO_CLEAR-SERVICE-ALERT%27%0A++++++++%29%0A++++++++return+result.get%28%27exit_code%27%2C+1%29%0A++++async+def+restart_qtcar%28%29%3A%0A++++++++result+%3D+await+sv%28service%3D%27qtcar%27%2C+action%3D%27restart%27%29%0A++++++++if+result.get%28%27exit_status%27%2C+1%29+%21%3D+0%3A%0A++++++++++++await+report%28%27Could+not+restart+qtcar%27%2C+result.get%28%27stdout%27%29%2C+result.get%28%27exit_status%27%2C+1%29%29%0A++++++++return+result.get%28%27exit_status%27%2C+1%29%0A++++clear_service_result+%3D+0%0A++++clear_remote_result+%3D+0%0A++++if+clear_service_alerts%3A%0A++++++++clear_service_result+%3D+await+clr_service_alerts%28%29%0A++++if+clear_remote_notifications%3A%0A++++++++clear_remote_result+%3D+await+clr_remote_notifications%28%29%0A++++++++if+not+clear_remote_result%3A%0A++++++++++++clear_remote_result+%3D+await+restart_qtcar%28%29%0A++++return+clear_service_result+%2B+clear_remote_result
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_SERVICE-POSSESSION-SET-PIN-TO-DRIVE.py
			async+def+odin_script_test%28api%2C+pin%3A+str%2C+enable%3A+bool%2C+override%3A+bool%29%3A%0A++++gdv+%3D+api.cid.get_data_value%0A++++sdv+%3D+api.cid.set_data_value%0A++++save_data+%3D+api.cid.save_data%0A++++load_data+%3D+api.cid.load_data%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++set_output+%3D+api.networks.set_output%0A++++json+%3D+api.json%0A++++re+%3D+api.misc.whitelist_regex%0A++++execute+%3D+api.cid.execute_application%0A++++debug_print+%3D+api.reporting.debug_print%0A++++PIN_TO_DRIVE_SETTINGS_BACKUP_PATH+%3D+%27%2Fvar%2Fetc%2Fpintodrivesettings.bck%27%0A++++odin_output+%3D+%5B%5D%0A++++pin+%3D+%28str%28pin%29%29.strip%28%29%0A++++class+Result%3A%0A++++++++PASS+%3D+0%0A++++++++FAIL+%3D+1%0A++++++++INCORRECT_INPUT+%3D+2%0A++++++++EXCEPTION+%3D+3%0A++++class+ErrorHandler%3A%0A++++++++def+__init__%28self%2C+msg%29%3A%0A++++++++++++self.msg+%3D+msg%0A++++++++def+__call__%28self%2C+f%29%3A%0A++++++++++++async+def+decorated%28%2Aargs%2C+%2A%2Akwargs%29%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++res+%3D+await+f%28%2Aargs%2C+%2A%2Akwargs%29%0A++++++++++++++++except+Exception+as+e%3A%0A++++++++++++++++++++await+set_odin_output%28f%27Error+while+%7Bself.msg%7D%3A+%7Be%7D%27%29%0A++++++++++++++++++++raise+RuntimeError%28%29%0A++++++++++++++++return+res%0A++++++++++++return+decorated%0A++++%40ErrorHandler%28%22Setting+Odin+Output%22%29%0A++++async+def+set_odin_output%28msg%3A+str%29%3A%0A++++++++odin_output.append%28msg%29%0A++++++++await+set_output%28%0A++++++++++++key%3D%27odin_output%27%2C%0A++++++++++++value%3Dodin_output%0A++++++++%29%0A++++++++return+msg%0A++++%40ErrorHandler%28%22Setting+File+Permissions%22%29%0A++++async+def+set_file_permissions%28args%3A+str%2C+filename%3A+str%29%3A%0A++++++++return+%28await+execute%28%0A++++++++++++path%3D%27%2Fbin%2Fchmod%27%2C%0A++++++++++++whitelist_chars%3D%27%2F.+-%27%2C%0A++++++++++++user%3D%27root%27%2C%0A++++++++++++args%3D%5Bargs%2C+filename%5D%0A++++++++%29%29.get%28%27exit_status%27%29%0A++++%40ErrorHandler%28%22Checking+Valid+Pin%22%29%0A++++async+def+valid_pin%28pin%3A+str%29%3A%0A++++++++return+%28await+re%28%0A++++++++++++input_data%3Dstr%28pin%29%2C%0A++++++++++++pattern%3Dr%27%5E%5Cd%7B4%7D%24%27%0A++++++++%29%29.get%28%27exit_status%27%29+%3D%3D+0+or+%27invalid%27+in+str%28pin%29%0A++++%40ErrorHandler%28%22Checking+Passed+in+Pin+Matches+Vehicle+Pin%22%29%0A++++async+def+pin_matches_vehicle_pin%28pin%3A+str%29%3A%0A++++++++return+pin+%3D%3D+%28await+gdv%28data_name%3D%27GUI_PINToDrivePassword%27%29%29.get%28%27value%27%2C+%27%27%29.strip%28%29%0A++++%40ErrorHandler%28%22Checking+Pin+to+Drive+Settings%22%29%0A++++async+def+valid_pin_to_drive_settings%28settings%3A+dict%29+-%3E+bool%3A%0A++++++++return+await+valid_pin%28settings.get%28%27GUI_PINToDrivePassword%27%29%29+and+settings.get%28%27GUI_PINToDriveEnabled%27%29+in+%5B%27true%27%2C+%27false%27%5D%0A++++%40ErrorHandler%28%22Loading+Settings%22%29%0A++++async+def+load_settings%28%29+-%3E+dict%3A%0A++++++++return+%28await+load_data%28filename%3DPIN_TO_DRIVE_SETTINGS_BACKUP_PATH%29%29.get%28%22data%22%2C+%7B%7D%29%0A++++%40ErrorHandler%28%22Cleaning+Up+Backup%22%29%0A++++async+def+clean_up_backup%28%29+-%3E+bool%3A%0A++++++++return+%28await+execute%28path%3D%22%2Fbin%2Frm%22%2C+user%3D%22root%22%2C+args%3D%5B%22-f%22%2C+PIN_TO_DRIVE_SETTINGS_BACKUP_PATH%5D%2C+whitelist_chars%3D%22-%2F.%22%29%29.get%28%27exit_status%27%29+%3D%3D+0%0A++++%40ErrorHandler%28%22Checking+Backup%22%29%0A++++async+def+previous_pin_to_drive_backup_exists%28%29+-%3E+bool%3A%0A++++++++return+%28await+run_ref%28%0A++++++++++++%27Common%2Flib%2FCHECK_FILE_EXISTS%27%2C%0A++++++++++++filepath%3DPIN_TO_DRIVE_SETTINGS_BACKUP_PATH%0A++++++++%29%29.get%28%27exit_code%27%29+%3D%3D+0%0A++++%40ErrorHandler%28%22Saving+Customer+Pin+to+Drive+Settings%22%29%0A++++async+def+save_settings%28settings%3A+dict%29+-%3E+bool%3A%0A++++++++success+%3D+%28await+save_data%28%0A++++++++++++filename%3DPIN_TO_DRIVE_SETTINGS_BACKUP_PATH%2C%0A++++++++++++data%3D%28await+json.dumps%28json%3Dsettings%29%29.get%28%27string%27%29%0A++++++++%29%29.get%28%27done%27%29%0A++++++++success+%26%3D+%28await+set_file_permissions%28%22o-r%22%2C+PIN_TO_DRIVE_SETTINGS_BACKUP_PATH%29%29+%3D%3D+0%0A++++++++return+success%0A++++%40ErrorHandler%28%22Restoring+Settings%22%29%0A++++async+def+restore_settings%28settings%3A+dict%29+-%3E+bool%3A%0A++++++++successes+%3D+%5B%5D%0A++++++++successes.append%28%28await+sdv%28data_name%3D%27GUI_PINToDrivePassword%27%2C+value%3Dsettings.get%28%27GUI_PINToDrivePassword%27%29%29%29.get%28%27done%27%29%29%0A++++++++if+settings.get%28%27GUI_PINToDriveEnabled%27%29+%3D%3D+%27true%27%3A%0A++++++++++++successes.append%28%28await+run_ref%28%27Common%2Ftasks%2FPROC_ICE_X_ENABLE-PIN-TO-DRIVE%27%29%29.get%28%27exit_code%27%29+%3D%3D+0%29%0A++++++++else%3A%0A++++++++++++successes.append%28%28await+run_ref%28%27Common%2Ftasks%2FPROC_ICE_X_DISABLE-PIN-TO-DRIVE%27%29%29.get%28%27exit_code%27%29+%3D%3D+0%29%0A++++++++return+all%28successes%29%0A++++try%3A%0A++++++++if+enable%3A%0A++++++++++++if+not+await+valid_pin%28pin%29%3A%0A++++++++++++++++await+set_odin_output%28f%27Invalid+input%2C+pin+must+be+a+four+digit+passcode.+Entered+pin%3A+%7Bpin%7D%27%29%0A++++++++++++++++return+Result.INCORRECT_INPUT%0A++++++++++++if+override+or+not+await+previous_pin_to_drive_backup_exists%28%29%3A%0A++++++++++++++++customer_settings+%3D+%7B%0A++++++++++++++++++++%27GUI_PINToDrivePassword%27%3A+%28await+gdv%28data_name%3D%27GUI_PINToDrivePassword%27%29%29.get%28%27value%27%2C+%27%27%29.strip%28%29%2C%0A++++++++++++++++++++%27GUI_PINToDriveEnabled%27%3A+%28await+gdv%28data_name%3D%27GUI_PINToDriveEnabled%27%29%29.get%28%27value%27%2C+%27%27%29.strip%28%29%0A++++++++++++++++%7D%0A++++++++++++++++if+await+valid_pin_to_drive_settings%28customer_settings%29%3A%0A++++++++++++++++++++await+set_odin_output%28f%22Backing+up+existing+pin+to+drive+settings+to+%7BPIN_TO_DRIVE_SETTINGS_BACKUP_PATH%7D%22%29%0A++++++++++++++++++++if+not+await+save_settings%28customer_settings%29%3A%0A++++++++++++++++++++++++await+set_odin_output%28f%22Failed+to+save+customer+pin+to+drive+settings+to+%7BPIN_TO_DRIVE_SETTINGS_BACKUP_PATH%7D%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+set_odin_output%28f%22Existing+pin+to+drive+settings+not+valid%2C+skipping+backup...%22%29%0A++++++++++++else%3A%0A++++++++++++++++await+set_odin_output%28%22Previous+pin+to+drive+settings+detected%2C+skipping+backup...+set+the+%27override%27+input+flag+to+skip+this+check.%22%29%0A++++++++++++if+not+%28await+sdv%28data_name%3D%27GUI_PINToDrivePassword%27%2C+value%3Dpin%29%29.get%28%27done%27%29%3A%0A++++++++++++++++await+set_odin_output%28%22Failed+to+set+GUI_PINToDrivePassword.+Is+qtcar-server+running%3F%22%29%0A++++++++++++++++return+Result.FAIL%0A++++++++++++if+%28await+run_ref%28%0A++++++++++++++++%27Common%2Ftasks%2FPROC_ICE_X_ENABLE-PIN-TO-DRIVE%27%0A++++++++++++%29%29.get%28%27exit_code%27%29+%21%3D+0%3A%0A++++++++++++++++await+set_odin_output%28%22Failed+to+enable+pin+to+drive.+Is+qtcar-server+running%3F%22%29%0A++++++++++++++++return+Result.FAIL%0A++++++++++++await+set_odin_output%28f%22Pin+to+drive+enabled+with+pin+%7Bpin%7D%22%29%0A++++++++else%3A%0A++++++++++++if+await+pin_matches_vehicle_pin%28pin%29+or+override%3A%0A++++++++++++++++if+await+previous_pin_to_drive_backup_exists%28%29%3A%0A++++++++++++++++++++previous_settings+%3D+await+load_settings%28%29%0A++++++++++++++++++++if+await+valid_pin_to_drive_settings%28previous_settings%29%3A%0A++++++++++++++++++++++++if+await+restore_settings%28previous_settings%29%3A%0A++++++++++++++++++++++++++++await+set_odin_output%28%22Successfully+restored+customer+pin+to+drive+settings.%22%29%0A++++++++++++++++++++++++++++await+clean_up_backup%28%29%0A++++++++++++++++++++++++++++return+Result.PASS%0A++++++++++++++++++++++++else%3A%0A++++++++++++++++++++++++++++await+set_odin_output%28%22Could+not+restore+previous+settings.%22%29%0A++++++++++++++++++++else%3A%0A++++++++++++++++++++++++await+set_odin_output%28%22Invalid+previous+pin+to+drive+settings.%22%29%0A++++++++++++++++else%3A%0A++++++++++++++++++++await+set_odin_output%28%22Previous+pin+to+drive+settings+not+found.%22%29%0A++++++++++++++++await+set_odin_output%28%22Disabling+pin+to+drive+and+leaving+pin+unset.%22%29%0A++++++++++++++++await+restore_settings%28%7B%27GUI_PINToDrivePassword%27%3A+%27%3Cinvalid%3E%27%2C+%27GUI_PINToDriveEnabled%27%3A+%27false%27%7D%29%0A++++++++++++++++await+clean_up_backup%28%29%0A++++++++++++else%3A%0A++++++++++++++++await+set_odin_output%28f%22Incorrect+pin+passed+in%2C+%7Bpin%7D+does+not+match+what+is+on+the+vehicle.+Use+%27override%27+flag+to+force+a+restore.%22%29%0A++++++++++++++++return+Result.INCORRECT_INPUT%0A++++except+RuntimeError%3A%0A++++++++return+Result.EXCEPTION%0A++++return+Result.PASS
		../../odin_bundle/networks/Common/scripts/PROC_STEERING_COLUMN_CALIBRATION.py
			async+def+odin_script_test%28api%29%3A%0A++++from+enum+import+Enum%0A++++from+asyncio+import+sleep%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++get_vitals+%3D+api.cid.get_vitals%0A++++signal_read+%3D+api.can.can_signal_read%0A++++status_update+%3D+api.messages.status_update%0A++++vitals+%3D+await+get_vitals%28%29%0A++++vitals+%3D+vitals.get%28%27vitals%27%29%0A++++cfg_car+%3D+vitals.get%28%27cfg_car%27%29.lower%28%29%0A++++result+%3D+%7B%7D%0A++++passed_calibration+%3D+False%0A++++PLATFORMS_GEN3+%3D+%5B%273%27%2C+%27y%27%2C+%27tamarind%27%2C+%27lychee%27%5D%0A++++PLATFORMS_LEGACY_S+%3D+%5B%27s%27%2C+%27s2%27%5D%0A++++PLATFORMS_LEGACY_X+%3D+%5B%27x%27%5D+%0A++++platforms+%3D+%7B%22s%22%3A%22Model+S%22%2C%0A++++++++++++++++++++%22s2%22%3A%22Model+S+refresh%22%2C%0A++++++++++++++++++++%22x%22%3A%22Model+X%22%2C%0A++++++++++++++++++++%223%22%3A%22Model+3%22%2C%0A++++++++++++++++++++%22y%22%3A%22Model+Y%22%2C%0A++++++++++++++++++++%22lychee%22%3A%22Model+S+Palladium%22%2C%0A++++++++++++++++++++%22tamarind%22%3A%22Model+X+Palladium%22%7D%0A++++columnControls+%3D+%7B%22DEFAULT%22%3A%22Memory+Seat+Module%22%2C+%0A++++++++++++++++++++++++%22CONTROLLED_BY_SUN%22%3A%22SUN+Control+Module%22%7D%0A++++CONTROLLED_BY_MSM+%3D+%22DEFAULT%22%0A++++CONTROLLED_BY_SUN+%3D+%22CONTROLLED_BY_SUN%22%0A++++if+cfg_car+in+PLATFORMS_LEGACY_S%3A%0A++++++++steeringColumnHarness+%3D+await+signal_read%28bus_name%3D%22ETH%22%2C+signal_name%3D%22GTW_steeringColumnHarness%22%29%0A++++++++steeringColumnHarness+%3D+steeringColumnHarness.get%28%27value%27%29%0A++++++++output.add_data%28name%3D%22steeringColumnHarness%22%2C+data_type%3Ddict%2C+data%3DsteeringColumnHarness%29%0A++++++++await+status_update%28status%3Df%22ODIN+detected+vehicle%3A+%7Bplatforms%5Bcfg_car%5D%7D+and+steering+column+is+controlled+by%3A+%7BcolumnControls%5BsteeringColumnHarness%5D%7D.%22%29%0A++++++++if+steeringColumnHarness+%3D%3D+CONTROLLED_BY_MSM%3A%0A++++++++++++output.set_user_facing_msg%28f%22Steering+column+calibration+is+not+required+if+vehicle+is+%7Bplatforms%5Bcfg_car%5D%7D+and+column+is+controlled+by+%7BcolumnControls%5BsteeringColumnHarness%5D%7D.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++return+output%0A++++++++if+steeringColumnHarness+%3D%3D+CONTROLLED_BY_SUN%3A%0A++++++++++++try%3A%0A++++++++++++++++result+%3D+await+run_ref%28%22ModelSX%2Flib%2FRUN_ROUTINE_WITH_DETAILS%22%2C%0A++++++++++++++++++++node_name%3D%22SUN%22%2C%0A++++++++++++++++++++request_acc_rail%3DTrue%2C%0A++++++++++++++++++++request_drive_rail%3DFalse%2C%0A++++++++++++++++++++request_running_status%3D%5B%22NOT_CALIBRATED%22%2C%22PAUSED%22%2C%22MOVING_UP%22%2C%22MOVING_DOWN%22%2C%22MOVING_IN%22%2C%22MOVING_OUT%22%5D%2C%0A++++++++++++++++++++request_status_key%3D%22STATUS%22%2C%0A++++++++++++++++++++routine_name%3D%22CALIBRATE_STEERING_COLUMN%22%2C++++++++++++++++++++++++++++++++++++%0A++++++++++++++++++++should_stop%3DFalse%2C%0A++++++++++++++++++++start_ok_status%3D%5B%22OK_AND_DONE%22%2C%22ROUTINE_IN_PROGRESS%22%2C%22ROUTINE_ALREADY_STARTED%22%5D%2C%0A++++++++++++++++++++start_status_key%3D%22STATUS%22%2C%0A++++++++++++++++++++target_results%3D%7B%22STATUS%22%3A%22COMPLETE%22%7D%29%0A++++++++++++except+Exception+as+error_legacy_s%3A%0A++++++++++++++++output.set_user_facing_msg%28%22ERROR%3A+failed+to+calibrate+the+steering+column.%22%29%0A++++++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++++++output.add_exception%28error_legacy_s%29%0A++++++++++++++++return+output%0A++++++++++++passed_calibration+%3D+result.get%28%27exit_code%27%29+%3D%3D+0%0A++++++++if+steeringColumnHarness+not+in+%7BCONTROLLED_BY_MSM%2C+CONTROLLED_BY_SUN%7D%3A+%0A++++++++++++output.set_user_facing_msg%28f%22Unable+to+determine+which+ECU+controls+the+steering+column.+Value+not+in+%7BCONTROLLED_BY_MSM%7D+or+%7BCONTROLLED_BY_SUN%7D.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.DATA_VALUE_CHECK_FAIL%29%0A++++++++++++return+output%0A++++if+cfg_car+in+PLATFORMS_LEGACY_X%3A%0A++++++++await+status_update%28status%3Df%22ODIN+detected+vehicle%3A+%7Bplatforms%5Bcfg_car%5D%7D%22%29%0A++++++++try%3A++++++++%0A++++++++++++result+%3D+await+run_ref%28%22ModelSX%2Flib%2FRUN_ROUTINE_WITH_DETAILS%22%2C%0A++++++++++++++++node_name%3D%22BCCEN%22%2C%0A++++++++++++++++request_acc_rail%3DTrue%2C%0A++++++++++++++++request_drive_rail%3DFalse%2C%0A++++++++++++++++request_running_status%3D%5B%22ROUTINE_IN_PROGRESS%22%5D%2C%0A++++++++++++++++request_status_key%3D%22STATUS%22%2C%0A++++++++++++++++routine_name%3D%22CALIBRATE_STEERING_COLUMN%22%2C++++++++++++++++++++++++++++++++++++%0A++++++++++++++++should_stop%3DFalse%2C%0A++++++++++++++++start_ok_status%3D%5B%22OK_AND_DONE%22%2C%22ROUTINE_IN_PROGRESS%22%2C%22ROUTINE_ALREADY_STARTED%22%5D%2C%0A++++++++++++++++start_status_key%3D%22STATUS%22%2C%0A++++++++++++++++target_results%3D%7B%22STATUS%22%3A%22OK_AND_DONE%22%7D%29%0A++++++++except+Exception+as+error_legacy_x%3A%0A++++++++++++output.set_user_facing_msg%28%22ERROR%3A+failed+to+calibrate+the+steering+column.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.add_exception%28error_legacy_x%29%0A++++++++++++return+output%0A++++++++passed_calibration+%3D+result.get%28%27exit_code%27%29+%3D%3D+0%0A++++if+cfg_car+in+PLATFORMS_GEN3%3A%0A++++++++await+status_update%28status%3Df%22ODIN+detected+vehicle%3A+%7Bplatforms%5Bcfg_car%5D%7D%22%29%0A++++++++try%3A++++%0A++++++++++++result+%3D+await+run_ref%28%22Gen3%2Flib%2FFW_SELF_TEST%22%2C+%0A++++++++++++++++node_name%3D%22VCLEFT%22%2C+%0A++++++++++++++++routine_name%3D%22STEERING_COLUMN_CALIBRATION%22%2C+%0A++++++++++++++++start_status%3D%22ROUTINE_START_RESULT%22%2C+%0A++++++++++++++++tester_present%3DFalse%2C+%0A++++++++++++++++power_state%3D%22NONE%22%2C+%0A++++++++++++++++timeout%3D0.5%29%0A++++++++except+Exception+as+error_gen3%3A%0A++++++++++++output.set_user_facing_msg%28%22ERROR%3A+failed+to+calibrate+the+steering+column.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++output.add_exception%28error_gen3%29%0A++++++++++++return+output%0A++++++++passed_calibration+%3D+result.get%28%27exit_code%27%29+%3D%3D+0%0A++++if+not+passed_calibration%3A%0A++++++++output.set_user_facing_msg%28%22Failed+to+calibrate+the+steering+column.%22%29%0A++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++output.add_data%28name%3D%22result%22%2C+data_type%3Ddict%2C+data%3Dresult%29%0A++++else%3A%0A++++++++output.set_user_facing_msg%28%22Successfully+calibrated+the+steering+column.%22%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_REQUEST-VEHICLE-SELF-TEST.py
			async+def+odin_script_test%28api%2C+request_vehicle_self_test%3A+bool%29%3A%0A++++out+%3D+api.service_output%28%29%0A++++res+%3D+await+api.scripts.script_test%28%0A++++++++script_name%3D%27Common%2Fscripts%2FICE_INFO_SDV%27%2C%0A++++++++name%3D%22GUI_vehicleSelfTestRequested%22%2C%0A++++++++value%3D%28%22true%22+if+request_vehicle_self_test+else+%22false%22%29%0A++++%29%0A++++out.set_from_response%28res%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_IRIS-TELIT-MODEM-REPLACEMENT.py
			async+def+odin_script_test%28api%2C+modem_type%3A+str%29%3A%0A++++execute+%3D+api.cid.execute_application%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++capture+%3D+api.reporting.capture_metric%0A++++result+%3D+api.metric_result%0A++++save_data+%3D+api.cid.save_data%0A++++set_output+%3D+api.networks.set_output%0A++++debug_print+%3D+api.reporting.debug_print%0A++++PASS+%3D+0%0A++++FAIL+%3D+1%0A++++VALID_MODEMS+%3D+%28%27telit%27%2C+%27iris%27%29%0A++++MODEM_FILE+%3D+%22%2Fvar%2Flib%2Fofono%2Fmodem%22%0A++++odin_output+%3D+%5B%5D%0A++++class+CheckResult%3A%0A++++++++def+__init__%28self%2C+msg%29%3A%0A++++++++++++self.msg+%3D+msg%0A++++++++def+__call__%28self%2C+func%29%3A%0A++++++++++++async+def+decorator%28%2Aargs%2C+%2A%2Akwargs%29%3A%0A++++++++++++++++await+debug_print%28f%22%7Bself.msg%7D%3A+%7Brepr%28kwargs.items%28%29%29%7D%22%29%0A++++++++++++++++result+%3D+await+func%28%2Aargs%2C+%2A%2Akwargs%29%0A++++++++++++++++if+result.get%28%22stderr%22%29+or+result.get%28%22exit_code%22%29+%21%3D+PASS%3A%0A++++++++++++++++++++raise+RuntimeError%28f%22%7Bself.msg%7D+failed+during+%7Brepr%28kwargs.items%28%29%29%7D.%22%29%0A++++++++++++return+decorator%0A++++class+ErrorHandler%3A%0A++++++++def+__init__%28self%2C+msg%29%3A%0A++++++++++++self.msg+%3D+msg%0A++++++++def+__call__%28self%2C+f%29%3A%0A++++++++++++async+def+decorated%28%2Aargs%2C+%2A%2Akwargs%29%3A%0A++++++++++++++++try%3A%0A++++++++++++++++++++res+%3D+await+f%28%2Aargs%2C+%2A%2Akwargs%29%0A++++++++++++++++except+Exception+as+e%3A%0A++++++++++++++++++++await+set_odin_output%28f%27Error+while+%7Bself.msg%7D%3A+%7Be%7D%27%29%0A++++++++++++++++++++raise+RuntimeError%28%29%0A++++++++++++++++return+res%0A++++++++++++return+decorated%0A++++async+def+report%28name%2C+msg%2C+exit_code%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3Dname%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++result_code%3Dexit_code%0A++++++++%29%0A++++%40ErrorHandler%28%22Setting+Odin+Output%22%29%0A++++async+def+set_odin_output%28msg%3A+str%29%3A%0A++++++++odin_output.append%28msg%29%0A++++++++await+set_output%28%0A++++++++++++key%3D%27odin_output%27%2C%0A++++++++++++value%3Dodin_output%0A++++++++%29%0A++++++++return+msg%0A++++%40CheckResult%28%22Setting+modem+power+state%22%29%0A++++async+def+set_modem_power_state%28power_state%3A+str%29+-%3E+object%3A%0A++++++++return+await+run_ref%28%0A++++++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-MODEM-ONLY-POWER-STATE%22%2C%0A++++++++++++power_state%3Dpower_state%0A++++++++%29%0A++++%40CheckResult%28%22Rebooting+mcu%22%29%0A++++async+def+reboot_mcu%28%29+-%3E+object%3A%0A++++++++return+await+run_ref%28%22Common%2Ftasks%2FPROC_ICE_X_REBOOT%22%29%0A++++async+def+delete_file%28path%3A+str%29+-%3E+bool%3A%0A++++++++res+%3D+await+execute%28path%3D%22%2Fbin%2Frm%22%2C+user%3D%22root%22%2C+args%3D%5B%22-f%22%2C+path%5D%2C+whitelist_chars%3D%22-%2F%22%29%0A++++++++if+res%5B%27exit_status%27%5D+%3D%3D+0%3A%0A++++++++++++return+True%0A++++++++await+report%28%22Error+deleting+file%22%2C+res%5B%27stderr%27%5D%2C+FAIL%29%0A++++++++return+False%0A++++%40ErrorHandler%28%22DEV+TEST+-+write+modem+file%22%29%0A++++async+def+set_modem_type%28modem_type_in%3A+str%29+-%3E+bool%3A%0A++++++++success+%3D+%28await+save_data%28%0A++++++++++++filename%3DMODEM_FILE%2C%0A++++++++++++data%3Dmodem_type_in%0A++++++++%29%29.get%28%27done%27%29%0A++++++++return+success%0A++++modem_type+%3D+modem_type.lower%28%29.strip%28%29%0A++++if+modem_type+not+in+VALID_MODEMS%3A%0A++++++++await+report%28%22Error%22%2C++f%22invalid+input%3A+%7Bmodem_type%7D.+Allowed%3A+telit%7Ciris%22%2C+result.Fail%29%0A++++++++return+FAIL%0A++++res+%3D+await+set_modem_type%28modem_type%29%0A++++if+not+res%3A%0A++++++++await+set_odin_output%28%22Failed+to+set+modem+type+to+%7B%7D%22.format%28modem_type%29%29%0A++++try%3A%0A++++++++await+reboot_mcu%28%29%0A++++except+RuntimeError+as+e%3A%0A++++++++await+report%28%22Error%22%2C+repr%28e%29%2C+FAIL%29%0A++++++++return+FAIL%0A++++return+PASS
		../../odin_bundle/networks/Common/scripts/PROC_EPAS_ESP_CLEAR-ANGLE-OFFSETS.py
			async+def+odin_script_test%28api%2C+di_node_input%29%3A%0A++++from+enum+import+Enum%0A++++capture_metric+%3D+api.reporting.capture_metric%0A++++get_vitals+%3D+api.cid.get_vitals%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++power_state_enum+%3D+api.power_state_enum%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++execute_command+%3D+api.cid.execute_application%0A++++debug_print+%3D+api.reporting.debug_print%0A++++out+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++class+EpasTypes%28Enum%29%3A%0A++++++++BOSCH_L538++++++++++%3D+%27l538%27++++++++++++++%0A++++++++BOSCH_L405++++++++++%3D+%27l405%27++++++++++++++%0A++++++++MANDO_VGR66+++++++++%3D+%27vgr66%27+++++++++++++%0A++++++++MANDO_VGR66Gen3+++++%3D+%27vgr66gen3%27+++++++++%0A++++++++MANDO_VGR66Gen3_P2++%3D+%27mando_vgr66_gen3%27++%0A++++++++MANDO_VGR69Gen3+++++%3D+%27mando_vgr69_gen3%27++%0A++++++++GEN3++++++++++++++++%3D+%27gen3%27++++++++++++++%0A++++PLATFORMS_GTW3+%3D+%5B%273%27%2C+%27y%27%2C+%27tamarind%27%2C+%27lychee%27%5D%0A++++PLATFORMS_SX+%3D+%5B%27s%27%2C+%27s2%27%2C+%27x%27%5D%0A++++PLATFORMS_3Y+%3D+%5B%273%27%2C+%27y%27%5D%0A++++PLATFORMS_P2+%3D+%5B%27tamarind%27%2C+%27lychee%27%5D%0A++++async+def+clear_esp_angle_offset%28power_state_in%2C+esp_node_name_in%29%3A%0A++++++++async+with+power_context%28power_state%3Dpower_state_in%2C+timeout%3D5%29%3A%0A++++++++++++await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++bootloader_backoff%3D2%2C%0A+++++++++++++++++++++++++++++++++++++++++++default_wait%3D0.5%2C%0A+++++++++++++++++++++++++++++++++++++++++++initial_backoff%3D0.25%2C%0A+++++++++++++++++++++++++++++++++++++++++++node_name%3Desp_node_name_in%2C%0A+++++++++++++++++++++++++++++++++++++++++++timeout%3D12%29%0A++++++++++++res+%3D+await+start_and_wait_results%28diagnostic_session%3D%27EXTENDED_DIAGNOSTIC_SESSION%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++handle_brr%3DFalse%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++in_progress_statuses%3D%5B%0A+++++++++++++++++++++++++++++++++++++++++++++++++++%27STILL_RUNNING%27%5D%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++input_parameters%3D%7B%7D%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++max_runtime%3D5%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++node_name%3Desp_node_name_in%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++poll_interval%3D0.1%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++request_parameters%3D%7B%7D%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++routine_name%3D%27SAS_RESET_OFFSET%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++should_stop%3DTrue%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++start_status_parameter%3D%27STATUS%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++status_parameter%3D%27STATUS%27%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++successful_start_statuses%3D%5B%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%27ROUTINE_STARTED%27%5D%2C%0A+++++++++++++++++++++++++++++++++++++++++++++++uds_resilience%3D2%29%0A++++++++++++res_status+%3D+res.get%28%27results%27%2C+%7B%7D%29.get%28%27STATUS%27%29%0A++++++++++++if+res_status+%21%3D+%27ROUTINE_FINISHED%27%3A%0A++++++++++++++++await+capture_metric%28metric_name%3D%27Failure%27%2C%0A+++++++++++++++++++++++++++++++++++++result_code%3Dexit_reason.FAIL%2C%0A+++++++++++++++++++++++++++++++++++++metadata%3Dres%2C%0A+++++++++++++++++++++++++++++++++++++expected_value%3D%27ROUTINE_FINISHED%27%2C%0A+++++++++++++++++++++++++++++++++++++value%3D%27ESP+Angle+Clear+did+not+finish%27%29%0A++++++++++++++++out.set_user_facing_msg%28f%22Failed+to+clear+ESP+angle+offset%22%29%0A++++++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++return+False%0A++++++++++++return+True%0A++++async+def+clear_epas_angle_offset%28epas_type%2C+dashw_version%29%3A%0A++++++++if+epas_type+in+%5BEpasTypes.BOSCH_L405.value%2C+EpasTypes.BOSCH_L538.value%5D%3A%0A++++++++++++res+%3D+await+run_ref%28%0A++++++++++++++++%22ModelSX%2Flib%2FRUN_UDS_ROUTINE%22%2C%0A++++++++++++++++uds_routine_id%3D%220xDD01%22%2C%0A++++++++++++++++diagnostic_session%3D%22EXTENDED_DIAGNOSTIC_SESSION%22%2C%0A++++++++++++++++node_name%3D%27EPAS%27%2C%0A++++++++++++++++required_ecu_state%3D%22APPLICATION%22%2C%0A++++++++++++++++security_access%3D%22LEVEL_1%22%2C%0A++++++++++++++++poll_result%3DFalse%2C%0A++++++++++++%29%0A++++++++elif+epas_type+%3D%3D+EpasTypes.MANDO_VGR66.value%3A%0A++++++++++++if+dashw_version+%3D%3D+%27MonoCam%27%3A%0A++++++++++++++++override_result+%3D+await+execute_command%28path%3D%27%2Fusr%2Fsbin%2Fgw-diag%27%2C+args%3D%5B%2756%27%5D%2C+timeout+%3D+300%29%0A++++++++++++++++await+debug_print%28override_result%29%0A++++++++++++++++if+override_result%5B%27stdout%27%5D%5B1%5D+%21%3D+%270%27%3A%0A++++++++++++++++++++out.set_user_facing_msg%28f%22Failed+to+override+EPAS+Power+signal+in+DAS+HW1+car%3A+%7Boverride_result%7D%22%29%0A++++++++++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++++++return+False%0A++++++++++++async+with+api.uds.uds_tester_present_context%28interval%3D2%2C+uds_node_name%3D%27EPAS2%27%29%3A%0A++++++++++++++++res+%3D+await+run_ref%28%0A++++++++++++++++++++%22ModelSX%2Flib%2FRUN_UDS_ROUTINE%22%2C%0A++++++++++++++++++++uds_routine_id%3D%220xF050%22%2C%0A++++++++++++++++++++diagnostic_session%3D%22EXTENDED_DIAGNOSTIC_SESSION%22%2C%0A++++++++++++++++++++node_name%3D%27EPAS2%27%2C%0A++++++++++++++++++++required_ecu_state%3D%22APPLICATION%22%2C%0A++++++++++++++++++++poll_result%3DFalse%2C%0A++++++++++++++++%29%0A++++++++elif+epas_type+%3D%3D+EpasTypes.MANDO_VGR66Gen3.value%3A%0A++++++++++++res+%3D+await+run_ref%28%22ModelSX%2Flib%2FEPAS3X_RUN_UDS_ID_ON_BOTH_EPAS%22%2C+UDS_Routine_ID%3D%270xFEF0%27%29%0A++++++++elif+cfg_car+in+PLATFORMS_3Y%3A%0A++++++++++++res+%3D+await+run_ref%28%22Gen3%2Flib%2FCLEAR_EPAS3X_AND_DI_ANGLE_OFFSET%22%2C+DI_Node_Input%3Ddi_node_input%2C+UDS_Routine_ID%3D%270xFEF0%27%29%0A++++++++elif+cfg_car+in+PLATFORMS_P2%3A%0A++++++++++++res+%3D+await+run_ref%28%22Coriander%2Flib%2FCLEAR_EPAS3X_AND_DI_ANGLE_OFFSET%22%2C+DI_Node_Input%3D%27DI%27%2C+UDS_Routine_ID%3D%270xFEF0%27%29%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28f%22Unknown+epastype%3A+%7Bepas_type%7D+or+vehicle+platform%3A+%7Bcfg_car%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.GATEWAY_CONFIG_MISMATCH%29%0A++++++++++++return+False%0A++++++++if+res.get%28%27exit_code%27%2C+exit_reason.FAIL.value%29+%21%3D+exit_reason.PASS.value%3A%0A++++++++++++out.set_user_facing_msg%28f%22Failed+to+run+EPAS+angle+clear+for+epastype+%7Bepas_type%7D+on+Model+%7Bcfg_car%7D%3A+%7Bres%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+False%0A++++++++return+True%0A++++async+def+reset_soft_lock_stops%28epas_type%2C+cfg_car%29%3A+++%0A++++++++res+%3D+await+run_ref%28%0A++++++++++++%22ModelSX%2Flib%2FRUN_UDS_ROUTINE%22%2C%0A++++++++++++uds_routine_id%3D%220xDD00%22%2C%0A++++++++++++diagnostic_session%3D%22EXTENDED_DIAGNOSTIC_SESSION%22%2C%0A++++++++++++node_name%3D%22EPAS%22%2C%0A++++++++++++required_ecu_state%3D%22APPLICATION%22%2C%0A++++++++++++security_access%3D%22LEVEL_1%22%2C%0A++++++++++++poll_result%3DFalse%2C%0A++++++++%29%0A++++++++if+res.get%28%27exit_code%27%2C+exit_reason.FAIL.value%29+%21%3D+exit_reason.PASS.value%3A%0A++++++++++++out.set_user_facing_msg%28f%22Failed+to+reset+soft+lock+stops+for+epastype+%7Bepas_type%7D%3A+%7Bres%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+False%0A++++++++return+True%0A++++vitals_resp+%3D+await+get_vitals%28%29%0A++++vitals+%3D+vitals_resp.get%28%27vitals%27%29%0A++++cfg_car+%3D+vitals.get%28%27cfg_car%27%29.lower%28%29%0A++++cfg_esp_interface+%3D+str%28vitals.get%28%27cfg_esp_interface%27%2C+0%29%29%0A++++cfg_dashw+%3D+vitals.get%28%27cfg_driver_assist%27%29+%0A++++if+cfg_car+in+PLATFORMS_GTW3%3A%0A++++++++epas_cfg_key+%3D+%27cfg_epastype%27%0A++++else%3A%0A++++++++epas_cfg_key+%3D+%27cfg_epas%27%0A++++if+cfg_car+in+PLATFORMS_SX%3A%0A++++++++esp_node_name+%3D+%27ESP2%27%0A++++else%3A%0A++++++++esp_node_name+%3D+%27ESP%27%0A++++epas_type+%3D+vitals.get%28epas_cfg_key%29.lower%28%29%0A++++if+not+epas_type%3A%0A++++++++out.set_user_facing_msg%28f%22Failed+to+get+%7Bepas_cfg_key%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+out%0A++++if+%28cfg_car+in+PLATFORMS_SX%29+and+%28cfg_esp_interface+%21%3D+%271%27%29%3A++%0A++++++++if+cfg_car+in+PLATFORMS_GTW3%3A%0A++++++++++++power_state+%3D+power_state_enum.ACCESSORY_PLUS%0A++++++++else%3A%0A++++++++++++power_state+%3D+power_state_enum.DRIVE_RAIL%0A++++++++if+not+await+clear_esp_angle_offset%28power_state%2C+esp_node_name%29%3A%0A++++++++++++return+out%0A++++if+not+await+clear_epas_angle_offset%28epas_type%2C+cfg_dashw%29%3A%0A++++++++return+out%0A++++if+epas_type+in+%5BEpasTypes.BOSCH_L405.value%2C+EpasTypes.BOSCH_L538.value%5D%3A++%0A++++++++if+not+await+reset_soft_lock_stops%28epas_type%2C+cfg_car%29%3A%0A++++++++++++return+out%0A++++if+cfg_esp_interface+%3D%3D+%271%27%3A%0A++++++++if+epas_type+in+%5BEpasTypes.BOSCH_L405.value%2C+EpasTypes.BOSCH_L538.value%5D%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+reset+EPAS+steering+angle+offsets+and+soft+lock+stops%22%29%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+reset+EPAS+steering+angle+offsets%22%29%0A++++elif+cfg_car+in+PLATFORMS_3Y+or+cfg_car+in+PLATFORMS_P2%3A%0A++++++++out.set_user_facing_msg%28f%22Successfully+reset+ESP+and+EPAS+and+DI+angle+offsets%22%29%0A++++else%3A%0A++++++++if+epas_type+in+%5BEpasTypes.BOSCH_L405.value%2C+EpasTypes.BOSCH_L538.value%5D%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+reset+ESP+and+EPAS+steering+angle+offsets+and+EPAS+soft+lock+stops%22%29%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28f%22Successfully+reset+ESP+and+EPAS+steering+angle+offsets%22%29%0A++++out.set_exit_code%28exit_reason.PASS%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_TAS_X_LEVEL-TO-HEIGHT.py
			async+def+odin_script_test%28api%2C+target_height%29%3A%0A++++from+asyncio+import+sleep%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++odx_read+%3D+api.odx.odx_read_data%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++runodx+%3D+api.odx.odx_start_and_wait_results%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++output+%3D+api.service_output%28%29%0A++++class+TASNotInServiceMode%28Exception%29%3A%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.msg+%3D+%27Could+not+set+TAS+ECU+run+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%27%0A++++TIMEOUT+%3D+60%0A++++ODX_REQUEST_DELAY+%3D+2%0A++++HIGH+%3D+1%0A++++STANDARD+%3D+2%0A++++CYCLE+%3D+5%0A++++try%3A%0A++++++++platform+%3D+await+api.cid.get_platform%28%29%0A++++++++info_hw+%3D+platform.get%28%27info%27%2C+%7B%7D%29.get%28%27info_hw%27%29+if+platform+else+None%0A++++++++power_state+%3D+api.power_state_enum.DRIVE_RAIL+if+info_hw+%21%3D+%27infoz%27+else+api.power_state_enum.ACCESSORY_PLUS%0A++++++++async+with+power_context%28power_state%3Dpower_state%29%3A%0A++++++++++++await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3D%27TAS%27%29%0A++++++++++++result+%3D+await+odx_read%28data_name%3D%22TAS_RUN_MODE%22%2C+node_name%3D%27TAS%27%29%0A++++++++++++previous_run_mode+%3D+result.get%28%27data%27%2C+%7B%7D%29.get%28%22RUN_MODE%22%29.replace%28%22RUN_MODE_%22%2C+%22%22%29+if+isinstance%28result%2C+dict%29+and+result.get%28%27done%27%29+else+None%0A++++++++++++if+previous_run_mode+%21%3D+%22SERVICE%22%3A%0A++++++++++++++++result+%3D+await+run_ref%28%27Common%2Ftasks%2FPROC_TAS_X_ENTER-SERVICE-MODE%27%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+result.get%28%27exit_code%27%2C+1%29+is+not+0%3A%0A++++++++++++++++++++raise+TASNotInServiceMode%28%29++++%0A++++++++++++result+%3D+await+runodx%28%0A++++++++++++++++node_name%3D%27TAS%27%2C%0A++++++++++++++++routine_name%3D%27TAS_LEVEL_TO_HEIGHT%27%2C%0A++++++++++++++++input_parameters%3D%7B%27HEIGHT_TARGET%27%3A+target_height+if+target_height+is+not+CYCLE+else+HIGH%7D%2C%0A++++++++++++++++max_retries%3DTIMEOUT%2C%0A++++++++++++++++timeout+%3D+ODX_REQUEST_DELAY%2C%0A++++++++++++++++status_parameter%3D%27ROUTINE_RESULT%27%2C%0A++++++++++++++++in_progress_statuses%3D%5B%27ACTIVE%27%5D%0A++++++++++++%29%0A++++++++++++if+target_height+is+CYCLE+and+isinstance%28result%2C+dict%29+and+result.get%28%27results%27%2C+%7B%7D%29.get%28%27ROUTINE_RESULT%27%29+%3D%3D+%22SUCCESS%22%3A%0A++++++++++++++++await+sleep%281%29+%0A++++++++++++++++result+%3D+await+runodx%28%0A++++++++++++++++++++node_name%3D%27TAS%27%2C%0A++++++++++++++++++++routine_name%3D%27TAS_LEVEL_TO_HEIGHT%27%2C%0A++++++++++++++++++++input_parameters%3D%7B%27HEIGHT_TARGET%27%3A+STANDARD%7D%2C%0A++++++++++++++++++++max_retries%3DTIMEOUT%2C%0A++++++++++++++++++++timeout+%3D+ODX_REQUEST_DELAY%2C%0A++++++++++++++++++++status_parameter%3D%27ROUTINE_RESULT%27%2C%0A++++++++++++++++++++in_progress_statuses%3D%5B%27ACTIVE%27%5D%0A++++++++++++++++%29%0A++++++++++++if+isinstance%28result%2C+dict%29+and+isinstance%28result%2C+dict%29+and+result.get%28%27results%27%2C+%7B%7D%29.get%28%27ROUTINE_RESULT%27%29+%3D%3D+%22SUCCESS%22%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++++++++++output.set_user_facing_msg%28%22Successfully+levelled+air+suspension%22%29%0A++++++++++++else%3A%0A++++++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++++++output.set_user_facing_msg%28%22Routine+did+not+finish+successfully%22%29%0A++++++++++++try%3A++++++++++++++++%0A++++++++++++++++if+previous_run_mode+%21%3D+%22SERVICE%22+and+previous_run_mode+is+not+None%3A%0A++++++++++++++++++++result+%3D+await+run_ref%28f%27Common%2Ftasks%2FPROC_TAS_X_ENTER-%7Bprevious_run_mode%7D-MODE%27%29%0A++++++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+result.get%28%27exit_code%27%2C+1%29+is+not+0%3A%0A++++++++++++++++++++++++raise+Exception%28%22Failed+to+automatically+revert+TAS+run+mode%22%29+++++%0A++++++++++++except+Exception%3A%0A++++++++++++++++output.add_data%28name%3D%22Run+mode+automation+error%22%2C+data_type%3Dstr%2C+data%3D%22Failed+to+automatically+revert+TAS+run+mode%2C+please+do+this+manually%22%29%0A++++except+TASNotInServiceMode+as+error%3A%0A++++++++output.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++output.set_user_facing_msg%28%22TAS+is+not+in+service+mode%22%29%0A++++++++output.add_exception%28error%29++++%0A++++except+RuntimeError+as+error%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28%22Level+air+suspension+timed+out.+Make+sure+all+closures+are+closed%22%29%0A++++++++output.add_exception%28error%29%0A++++except+Exception+as+error%3A%0A++++++++output.set_exit_code%28exit_reason.ERROR%29%0A++++++++output.set_user_facing_msg%28%22Failed+to+level+air+suspension%22%29%0A++++++++output.add_exception%28error%29%0A++++finally%3A%0A++++++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_NON-TESLA-SIM-INSTALLATION.py
			async+def+odin_script_test%28api%2C+apn%3A+list%2C+restore%3A+bool%2C+cell_provider_name%3A+str%2C+roaming_markets%3A+list%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++get_data_value_until+%3D+api.cid.get_data_value_until%0A++++out+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++DATA_VALUE_CHECK_TIMEOUT+%3D+30%0A++++async+def+check_res%28res%29+-%3E+bool%3A%0A++++++++if+res.get%28%27stderr%27%29+or+res.get%28%27exit_code%27%29+%3D%3D+1%3A%0A++++++++++++out.set_user_facing_msg%28f%22Error%3A+%7Bres.get%28%27stderr%27%29%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++return+False%0A++++++++return+True%0A++++async+def+datavalue_equal%28dv%3A+str%2C+value%3A+str%29%3A%0A++++++++res+%3D+await+get_data_value_until%28%0A++++++++++++data_name%3Ddv%2C%0A++++++++++++pass_value%3Dvalue%2C%0A++++++++++++timeout%3DDATA_VALUE_CHECK_TIMEOUT%0A++++++++%29%0A++++++++return+res+and+res.get%28%27passed%27%29%0A++++if+not+restore%3A%0A++++++++if+not+apn+or+apn+%3D%3D+%5B%27default%27%5D%3A%0A++++++++++++out.set_user_facing_msg%28%22APN+is+a+mandatory+field+when+setting+to+external+SIM%22%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_INPUT%29%0A++++++++++++return+out%0A++++++++if+await+datavalue_equal%28%22CONN_removableSimMissing%22%2C+%22true%22%29%3A%0A++++++++++++out.set_user_facing_msg%28f%22An+external+SIM+card+must+be+inserted.%22%29%0A++++++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++return+out%0A++++apn_string+%3D+%22.%22.join%28apn%29%0A++++use_sim+%3D+await+run_ref%28%0A++++++++%22Common%2Ftasks%2FPROC_ICE_X_ENABLE-DISABLE-SIM-CARD%22%2C%0A++++++++Enable_Onboard_Sim%3Drestore%2C%0A++++++++Restart_Modem_Services%3DTrue%2C%0A++++++++APN%3Dapn_string%0A++++%29%0A++++if+not+await+check_res%28use_sim%29%3A%0A++++++++return+out%0A++++sim_selection+%3D+%22Embedded%22+if+restore+else+%22Removable%22%0A++++if+not+await+datavalue_equal%28%27CONN_cellSimSelection%27%2C+sim_selection%29%3A%0A++++++++out.set_user_facing_msg%28f%22Failed+to+correctly+set+the+SIM+selection+to+%7Bsim_selection%7D%22%29%0A++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++return+out%0A++++set_cell+%3D+await+run_ref%28%0A++++++++%22Common%2Ftasks%2FPROC_ICE_X_SET-CELL-POLICY%22%2C%0A++++++++restore%3Drestore%2C%0A++++++++cell_provider_name%3Dcell_provider_name%2C%0A++++++++roaming_markets%3Droaming_markets%2C%0A++++++++apn%3Dapn_string%0A++++%29%0A++++if+not+await+check_res%28set_cell%29%3A%0A++++++++return+out%0A++++if+restore%3A%0A++++++++out.set_user_facing_msg%28%22Successfully+restored+Tesla+internal+SIM+configuration.%22%29%0A++++else%3A%0A++++++++out.set_user_facing_msg%28%22Successfully+configured+non-Tesla+external+SIM+installation.%22%29%0A++++out.set_exit_code%28exit_reason.PASS%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/SET-MULTI-DATAVALUES.py
			async+def+odin_script_test%28api%2C+data_values%3A+dict%2C+endpoint%3A+str%29%3A%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++capture+%3D+api.reporting.capture_metric%0A++++class+Results%3A%0A++++++++PASS+%3D+0%0A++++++++FAIL+%3D+1%0A++++++++ATTEMPTED+%3D+2%0A++++async+def+report%28name%2C+msg%2C+exit_code%29%3A%0A++++++++await+capture%28%0A++++++++++++metric_name%3Dname%2C%0A++++++++++++value%3Dmsg%2C%0A++++++++++++result_code%3Dexit_code%0A++++++++%29%0A++++async+def+check_res%28res%29+-%3E+Results%3A%0A++++++++if+res.get%28%27exit_code%27%29+%3D%3D+1%3A%0A++++++++++++await+report%28%22ERROR%22%2C+res.get%28%27stderr%27%29%2C+Results.FAIL%29%0A++++++++++++return+Results.FAIL%0A++++++++if+%27Attempted%27+in+res.get%28%27odin_output%27%29%3A%0A++++++++++++return+Results.ATTEMPTED%0A++++++++return+Results.PASS%0A++++output+%3D+%5B%5D%0A++++results+%3D+%5B%5D%0A++++endpoints+%3D+%7B%27center_display%27%3A+%27Common%2Flib%2FICE_INFO_SDV_CD%27%2C+%27debug%27%3A+%27Common%2Flib%2FICE_INFO_SDV%27%7D%0A++++lib_net+%3D+endpoints.get%28endpoint%29+or+%27Common%2Flib%2FICE_INFO_SDV%27%0A++++for+key%2C+value+in+data_values.items%28%29%3A%0A++++++++sdv_res+%3D+await+run_ref%28%0A++++++++++++lib_net%2C%0A++++++++++++dataValueName%3Dkey%2C%0A++++++++++++dataValueInput%3Dvalue%0A++++++++%29%0A++++++++res+%3D+await+check_res%28sdv_res%29%0A++++++++results.append%28res%29+%0A++++++++output.append%28sdv_res.get%28%27odin_output%27%29%29%0A++++if+Results.ATTEMPTED+in+results%3A%0A++++++++await+report%28f%22ERROR%3A+%7Bresults.count%28Results.ATTEMPTED%29%7D+datavalue%28s%29+could+not+be+set.%22%2C+output%2C+Results.FAIL%29%0A++++++++return+Results.FAIL%0A++++if+Results.FAIL+in+results%3A%0A++++++++await+report%28f%22ERROR%3A+failed+while+setting+datavalues.%22%2C+output%2C+Results.FAIL%29%0A++++++++return+Results.FAIL%0A++++await+report%28%22SUCCESS%22%2C+output%2C+Results.PASS%29%0A++++return+Results.PASS
		../../odin_bundle/networks/Common/scripts/TEST-RESET_ECU.py
			async+def+odin_script_test%28api%2C+ecu%3A+str%2C+reset_type%3A+str%3D%27HARD_RESET%27%29%3A%0A++++out+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++uds_ecu_reset+%3D+api.uds.uds_ecu_reset%0A++++isotp+%3D+api.exceptions.isotp%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++res+%3D+%7B%7D%0A++++if+reset_type+not+in+%5B%27SOFT_RESET%27%2C+%27HARD_RESET%27%5D%3A%0A++++++++reset_type+%3D+%27HARD_RESET%27%0A++++if+ecu+in+%5B%27HVBMS%27%2C+%27HVP%27%2C+%27BMS%27%5D%3A++++%0A++++++++try%3A%0A++++++++++++opencontactors_result+%3D+await+run_ref%28%27Common%2Ftasks%2FPROC_CID_X_REQUEST-HV-CONTACTORS-OPEN%27%29%0A++++++++++++opencontactors_exitcode+%3D+opencontactors_result.get%28%27exit_code%27%29%0A++++++++++++if+opencontactors_exitcode+%21%3D+0%3A%0A++++++++++++++++out.set_user_facing_msg%28%22Unable+to+open+pack+contactors+or+confirm+pack+contactors+are+open.+If+needed%2C+force+pack+contactors+open+by+disconnecting+the+first+responder+loop+and+then+running+this+routine+again.%22%29%0A++++++++++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++++++++++return+out%0A++++++++except+Exception+as+error%3A%0A++++++++++++out.set_user_facing_msg%28%22Unable+to+open+pack+contactors+or+confirm+pack+contactors+are+open+due+to+exception.+If+needed%2C+force+pack+contactors+open+by+disconnecting+the+first+responder+loop+and+then+running+this+routine+again.%22%29%0A++++++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++++++out.add_exception%28error%29%0A++++++++++++return+out%0A++++try%3A%0A++++++++res+%3D+await+uds_ecu_reset%28node_name%3Decu%2C+reset_type%3Dreset_type%2C+response_required%3DTrue%29%0A++++except+ValueError%3A%0A++++++++out.set_user_facing_msg%28f%27Unsupported+ECU.+Vehicle+does+not+have+%7Becu%7D.%27%29%0A++++++++out.set_exit_code%28exit_reason.INVALID_VEHICLE_STATE%29%0A++++++++return+out%0A++++except+isotp.TimeoutBs%3A%0A++++++++out.set_user_facing_msg%28f%27Time+out+while+waiting+for+%7Becu%7D+to+respond.+Ensure+the+selected+ECU+is+powered+prior+to+running+the+routine.%27%29%0A++++++++out.set_exit_code%28exit_reason.TIMEOUT%29%0A++++++++return+out%0A++++except+Exception+as+e%3A%0A++++++++out.set_user_facing_msg%28f%27Error+while+resetting+%7Becu%7D.%27%29%0A++++++++out.add_exception%28e%29%0A++++++++out.set_exit_code%28exit_reason.ERROR%29%0A++++++++return+out%0A++++if+res+and+res.get%28%27done%27%29+%3D%3D+True%3A%0A++++++++out.set_user_facing_msg%28f%22Successfully+%7B%27hard%27+if+reset_type+%3D%3D+%27HARD_RESET%27+else+%27soft%27%7D+reset+the+%7Becu%7D.%22%29%0A++++++++out.set_exit_code%28exit_reason.PASS%29%0A++++++++return+out%0A++++out.set_user_facing_msg%28f%27Failed+to+reset+%7Becu%7D.%27%29%0A++++out.set_exit_code%28exit_reason.FAIL%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X-OPEN-GLOVEBOX.py
			async+def+odin_script_test%28api%29%3A%0A++++out+%3D+api.service_output%28%29%0A++++res+%3D+await+api.scripts.script_test%28%0A++++++++script_name%3D%27Common%2Fscripts%2FICE_INFO_SDV%27%2C%0A++++++++name%3D%22GUI_gloveboxOpenRequest%22%2C%0A++++++++value%3D%22true%22%0A++++%29%0A++++out.set_from_response%28res%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_ICE_X_TOGGLE-PIN-TO-DRIVE.py
			async+def+odin_script_test%28api%2C+toggle%3A+bool%29%3A%0A++++sdv+%3D+api.cid.set_data_value%0A++++out+%3D+api.service_output%28%29%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++success_msg+%3D+f%22PIN+to+drive+%7B%27enabled%27+if+toggle+else+%27disabled%27%7D%2C+existing+customer+pin+left+unchanged.%22%0A++++datavalues+%3D+%5B%27GUI_PINToDriveEnabled%27%2C+%27GUI_PINToDriveRequest%27%5D%0A++++if+toggle+and+%28await+api.cid.get_data_value%28data_name%3D%22GUI_PINToDrivePassword%22%29%29.get%28%27value%27%2C+%22%22%29.strip%28%29+%3D%3D+%22%3Cinvalid%3E%22%3A%0A++++++++res+%3D+await+api.subnetwork.run_reference%28%0A++++++++++++%22Common%2Ftasks%2FPROC_ICE_X_RESET-PIN-TO-DRIVE%22%0A++++++++%29%0A++++++++if+res.get%28%27exit_code%27%29+%3D%3D+0%3A%0A++++++++++++success_msg+%3D+f%22PIN+to+drive+enabled%2C+existing+cutomer+PIN+not+detected.+%7Bres.get%28%27odin_output%27%29%7D%22%0A++++++++else%3A%0A++++++++++++out.set_user_facing_msg%28f%22Failed+to+reset+PIN%3A+Customer+PIN+not+detected%2C+but+could+not+reset+PIN.+%7Bres.get%28%27odin_output%27%29%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+out%0A++++for+datavalue+in+datavalues%3A%0A++++++++res+%3D+await+sdv%28data_name%3Ddatavalue%2C+value%3Dint%28toggle%29%29%0A++++++++if+not+res.get%28%22done%22%29%3A%0A++++++++++++out.set_user_facing_msg%28f%22Failed+setting+datavalue%3A+%7Bdatavalue%7D.+%7Bres%7D%22%29%0A++++++++++++out.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+out%0A++++out.set_user_facing_msg%28f%22Success%3A+%7Bsuccess_msg%7D%22%29%0A++++out.set_exit_code%28exit_reason.PASS%29%0A++++return+out
		../../odin_bundle/networks/Common/scripts/PROC_TAS_X_AIRLINE-TEST.py
			async+def+odin_script_test%28api%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++TAS_NODE+%3D+%27TAS%27%0A++++AIRLINE_TEST+%3D+%27TAS_AIRLINE_TEST%27%0A++++MAX_RUNTIME+%3D+60%0A++++class+TASNotInServiceMode%28Exception%29%3A%0A++++++++pass%0A++++def+report_error%28msg%2C+e%2C+reason%29%3A%0A++++++++output.set_user_facing_msg%28msg%29%0A++++++++output.add_data%28name%3D%22RoutineException%22%2C+data_type%3Ddict%2C+data%3D%7B%22Exception%22%3A+type%28e%29.__name__%2C+%22args%22%3A+str%28e%29%7D%29%0A++++++++output.set_exit_code%28reason%29%0A++++try%3A%0A++++++++tas_run_mode+%3D+await+run_ref%28%27Common%2Ftasks%2FPROC_TAS_X_CHECK-RUN-MODE%27%29%0A++++++++try%3A%0A++++++++++++data+%3D+tas_run_mode.get%28%27service_output%27%2C+%7B%7D%29.get%28%27data%27%2C+%5B%5D%29%0A++++++++++++tas_run_mode+%3D+data%5B0%5D.get%28%27data%27%2C+%7B%7D%29.get%28%27Run+Mode%27%2C+%27%27%29%0A++++++++except%3A%0A++++++++++++raise+TASNotInServiceMode%28%22TAS+ECU+is+not+in+service+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%22%29%0A++++++++if+tas_run_mode+%21%3D+%22RUN_MODE_SERVICE%22%3A%0A++++++++++++raise+TASNotInServiceMode%28%22TAS+ECU+is+not+in+service+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%22%29%0A++++++++platform+%3D+await+api.cid.get_platform%28%29%0A++++++++info_hw+%3D+platform.get%28%27info%27%2C+%7B%7D%29.get%28%27info_hw%27%29+if+platform+else+None%0A++++++++power_state+%3D+api.power_state_enum.DRIVE_RAIL+if+info_hw+%21%3D+%27infoz%27+else+api.power_state_enum.ACCESSORY_PLUS%0A++++++++async+with+power_context%28power_state%3Dpower_state%29%3A%0A++++++++++++application_state+%3D+await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3DTAS_NODE%29%0A++++++++++++if+not+isinstance%28application_state%2C+dict%29+or+not+application_state.get%28%27done%27%29%3A%0A++++++++++++++++raise+Exception%28%22Failed+to+ensure+application+state%22%29%0A++++++++++++response+%3D+await+start_and_wait_results%28%0A++++++++++++++++max_runtime%3DMAX_RUNTIME%2C%0A++++++++++++++++node_name%3DTAS_NODE%2C%0A++++++++++++++++routine_name%3DAIRLINE_TEST%2C%0A++++++++++++++++in_progress_statuses%3D%5B%22ACTIVE%22%5D%2C%0A++++++++++++++++status_parameter%3D%22ROUTINE_RESULT%22%0A++++++++++++%29%0A++++++++routine_result+%3D+response.get%28%27results%27%2C+%7B%7D%29.get%28%27ROUTINE_RESULT%27%29%0A++++++++if+routine_result+%3D%3D+%27SUCCESS%27%3A%0A++++++++++++output.set_user_facing_msg%28%22Success%3A+Airline+connection+tests+have+passed.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++else%3A%0A++++++++++++output.set_user_facing_msg%28%0A++++++++++++++++%22%22%22If+AIRLINE_TEST_AIRLINE_FAILURE+is+true%3A+At+least+one+airline+connection+test+has+failed.%0A+++++++++++++++++++If+AIRLINE_TEST_EXT_FAILURE+is+true%3A+At+least+one+closure+is+detected+to+be+open+OR+the+vehicle+isn%27t+at+Medium+height+OR+there+is+a+hardware+failure+with+valves%2C+height+sensors+or+compressor.%22%22%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++output.add_data%28%0A++++++++++++++++name%3D%22AIRLINE_FAILURE_REASON%22%2C%0A++++++++++++++++data_type%3Ddict%2C%0A++++++++++++++++data%3Dresponse%5B%27results%27%5D%0A++++++++%29%0A++++except+TASNotInServiceMode+as+e%3A%0A++++++++report_error%28%22TAS+ECU+is+not+in+service+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%22%2C+e%2C+exit_reason.INVALID_VEHICLE_STATE%29%0A++++except+Exception+as+e%3A%0A++++++++report_error%28%22Error+During+Routine+Execution.%22%2C+e%2C+exit_reason.ERROR%29%0A++++return+output
		../../odin_bundle/networks/Common/scripts/PROC_TAS_X_MEASURE-AIR-SUSPENSION-PRESSURE.py
			async+def+odin_script_test%28api%29%3A%0A++++exit_reason+%3D+api.service_output_exit_reason%0A++++power_context+%3D+api.vehiclecontrols.power_context%0A++++ensure_application_state+%3D+api.vehiclecontrols.ensure_application_state%0A++++odx_read+%3D+api.odx.odx_read_data%0A++++start_and_wait_results+%3D+api.odx.odx_start_and_wait_results_v2%0A++++run_ref+%3D+api.subnetwork.run_reference%0A++++output+%3D+api.service_output%28%29%0A++++TAS_NODE+%3D+%27TAS%27%0A++++AIR_PRESSURE_ROUTINE+%3D+%27TAS_MEASURE_PRESSURE%27%0A++++MAX_RUNTIME+%3D+10%0A++++class+TASNotInServiceMode%28Exception%29%3A%0A++++++++def+__init__%28self%29%3A%0A++++++++++++self.msg+%3D+%27Could+not+set+TAS+ECU+run+mode.+Please+run+PROC_TAS_X_ENTER-SERVICE-MODE+before+running+this+routine.%27%0A++++def+report_error%28msg%2C+e%2C+reason%29%3A%0A++++++++output.set_user_facing_msg%28msg%29%0A++++++++output.add_exception%28e%29%0A++++++++output.set_exit_code%28reason%29%0A++++try%3A%0A++++++++platform+%3D+await+api.cid.get_platform%28%29%0A++++++++info_hw+%3D+platform.get%28%27info%27%2C+%7B%7D%29.get%28%27info_hw%27%29+if+platform+else+None%0A++++++++power_state+%3D+api.power_state_enum.DRIVE_RAIL+if+info_hw+%21%3D+%27infoz%27+else+api.power_state_enum.ACCESSORY_PLUS%0A++++++++async+with+power_context%28power_state%3Dpower_state%29%3A++++++++++%0A++++++++++++application_state+%3D+await+ensure_application_state%28application_state%3D%27APPLICATION%27%2C+node_name%3D%27TAS%27%29%0A++++++++++++if+not+isinstance%28application_state%2C+dict%29+or+not+application_state.get%28%27done%27%29%3A%0A++++++++++++++++raise+Exception%28%22Failed+to+ensure+application+state%22%29%0A++++++++++++result+%3D+await+odx_read%28data_name%3D%22TAS_RUN_MODE%22%2C+node_name%3D%27TAS%27%29%0A++++++++++++previous_run_mode+%3D+result.get%28%27data%27%2C+%7B%7D%29.get%28%22RUN_MODE%22%29.replace%28%22RUN_MODE_%22%2C+%22%22%29+if+isinstance%28result%2C+dict%29+and+result.get%28%27done%27%29+else+None%0A++++++++++++if+previous_run_mode+%21%3D+%22SERVICE%22%3A%0A++++++++++++++++result+%3D+await+run_ref%28%27Common%2Ftasks%2FPROC_TAS_X_ENTER-SERVICE-MODE%27%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+result.get%28%27exit_code%27%2C+1%29+is+not+0%3A%0A++++++++++++++++++++raise+TASNotInServiceMode%28%29%0A++++++++++++response+%3D+await+start_and_wait_results%28%0A++++++++++++++++max_runtime%3DMAX_RUNTIME%2C%0A++++++++++++++++node_name%3DTAS_NODE%2C%0A++++++++++++++++routine_name%3DAIR_PRESSURE_ROUTINE%2C%0A++++++++++++++++in_progress_statuses%3D%5B%22ACTIVE%22%5D%2C%0A++++++++++++++++status_parameter%3D%22ROUTINE_RESULT%22%0A++++++++++++%29%0A++++++++if+not+isinstance%28response%2C+dict%29+or+response.get%28%22success%22%29+%21%3D+True%3A%0A++++++++++++output.set_user_facing_msg%28%22Failure%3A+Could+not+measure+pressure+of+TAS.%22%29%0A++++++++++++output.set_exit_code%28exit_reason.FAIL%29%0A++++++++++++return+output%0A++++++++output.set_user_facing_msg%28%22Success%3A+Measured+pressure.%22%29%0A++++++++output.set_exit_code%28exit_reason.PASS%29%0A++++++++for+key%2C+value+in+response.get%28%27results%27%2C+%7B%7D%29.items%28%29%3A%0A++++++++++++response%5B%27results%27%5D%5Bkey%5D+%3D+f%22%7Bround%28value%2C+1%29%7D+bar%22+if+isinstance%28value%2C+float%29+else+value%0A++++++++output.add_data%28%0A++++++++++++name%3D%22MEASURED_PRESSURE_ALL%22%2C%0A++++++++++++data_type%3Ddict%2C%0A++++++++++++data%3Dresponse%5B%27results%27%5D%0A++++++++%29%0A++++++++try%3A++++++++++++++++%0A++++++++++++if+previous_run_mode+%21%3D+%22SERVICE%22+and+previous_run_mode+is+not+None%3A%0A++++++++++++++++result+%3D+await+run_ref%28f%27Common%2Ftasks%2FPROC_TAS_X_ENTER-%7Bprevious_run_mode%7D-MODE%27%29%0A++++++++++++++++if+not+isinstance%28result%2C+dict%29+or+result.get%28%27exit_code%27%2C+1%29+is+not+0%3A%0A++++++++++++++++++++raise+Exception%28%22Failed+to+automatically+revert+TAS+run+mode%22%29+++++%0A++++++++except+Exception%3A%0A++++++++++++output.add_data%28name%3D%22Run+mode+automation+error%22%2C+data_type%3Dstr%2C+data%3D%22Failed+to+automatically+revert+TAS+run+mode%2C+please+do+this+manually%22%29%0A++++++++return+output%0A++++except+TASNotInServiceMode+as+e%3A%0A++++++++report_error%28%22TAS+not+in+service+mode%22%2C+e%2C+exit_reason.INVALID_VEHICLE_STATE%29%0A++++except+Exception+as+e%3A%0A++++++++report_error%28%22Error+During+Routine+Execution.%22%2C+e%2C+exit_reason.ERROR%29%0A++++return+output
